[
  {
    "discussion_id": "2175109520",
    "pr_number": 6933,
    "pr_file": ".changeset/cold-schools-sip.md",
    "created_at": "2025-06-30T13:39:38+00:00",
    "commented_code": "+---\n+'@ai-sdk/google': patch\n+---\n+\n+Support tool schemas that allow additional properties (e.g `z.record(z.string())`)",
    "repo_full_name": "vercel/ai",
    "discussion_comments": [
      {
        "comment_id": "2175109520",
        "repo_full_name": "vercel/ai",
        "pr_number": 6933,
        "pr_file": ".changeset/cold-schools-sip.md",
        "discussion_id": "2175109520",
        "commented_code": "@@ -0,0 +1,5 @@\n+---\n+'@ai-sdk/google': patch\n+---\n+\n+Support tool schemas that allow additional properties (e.g `z.record(z.string())`)",
        "comment_created_at": "2025-06-30T13:39:38+00:00",
        "comment_author": "lgrammel",
        "comment_body": "replace tool schemas with json schemas\n\nthis affects structured outputs as well",
        "pr_file_module": null
      },
      {
        "comment_id": "2175168423",
        "repo_full_name": "vercel/ai",
        "pr_number": 6933,
        "pr_file": ".changeset/cold-schools-sip.md",
        "discussion_id": "2175109520",
        "commented_code": "@@ -0,0 +1,5 @@\n+---\n+'@ai-sdk/google': patch\n+---\n+\n+Support tool schemas that allow additional properties (e.g `z.record(z.string())`)",
        "comment_created_at": "2025-06-30T14:06:36+00:00",
        "comment_author": "himanshusinghs",
        "comment_body": "yea I noticed it just now - I will confirm first if its only the functionDeclaration that does not support `additionalProperties` or more.",
        "pr_file_module": null
      },
      {
        "comment_id": "2177053770",
        "repo_full_name": "vercel/ai",
        "pr_number": 6933,
        "pr_file": ".changeset/cold-schools-sip.md",
        "discussion_id": "2175109520",
        "commented_code": "@@ -0,0 +1,5 @@\n+---\n+'@ai-sdk/google': patch\n+---\n+\n+Support tool schemas that allow additional properties (e.g `z.record(z.string())`)",
        "comment_created_at": "2025-07-01T09:48:30+00:00",
        "comment_author": "himanshusinghs",
        "comment_body": "I can confirm that the StructuredOutputs also follow the same limitation, referenced [here](https://ai.google.dev/gemini-api/docs/structured-output#json-schemas). So it should be safe to pull this change for both of them (Structured Outputs and Function Declarations).",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2041522768",
    "pr_number": 5730,
    "pr_file": "packages/revai/README.md",
    "created_at": "2025-04-14T06:55:59+00:00",
    "commented_code": "+# AI SDK - Rev.ai Provider\n+\n+The **[Rev.ai provider](https://sdk.vercel.ai/providers/ai-sdk-providers/revai)** for the [AI SDK](https://sdk.vercel.ai/docs)\n+contains language model support for the Rev.ai transcription API.\n+\n+## Setup\n+\n+The Rev.ai provider is available in the `@ai-sdk/revai` module. You can install it with\n+\n+```bash\n+npm i @ai-sdk/revai\n+```\n+\n+## Provider Instance\n+\n+You can import the default provider instance `revai` from `@ai-sdk/revai`:\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+```\n+\n+## Example\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+import { experimental_transcribe as transcribe } from 'ai';\n+\n+const { text } = await transcribe({\n+  model: revai.transcription('machine'),\n+  audio: new URL(\n+    'https://github.com/vercel/ai/raw/refs/heads/main/examples/ai-core/data/galileo.mp3',\n+  ),",
    "repo_full_name": "vercel/ai",
    "discussion_comments": [
      {
        "comment_id": "2041522768",
        "repo_full_name": "vercel/ai",
        "pr_number": 5730,
        "pr_file": "packages/revai/README.md",
        "discussion_id": "2041522768",
        "commented_code": "@@ -0,0 +1,38 @@\n+# AI SDK - Rev.ai Provider\n+\n+The **[Rev.ai provider](https://sdk.vercel.ai/providers/ai-sdk-providers/revai)** for the [AI SDK](https://sdk.vercel.ai/docs)\n+contains language model support for the Rev.ai transcription API.\n+\n+## Setup\n+\n+The Rev.ai provider is available in the `@ai-sdk/revai` module. You can install it with\n+\n+```bash\n+npm i @ai-sdk/revai\n+```\n+\n+## Provider Instance\n+\n+You can import the default provider instance `revai` from `@ai-sdk/revai`:\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+```\n+\n+## Example\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+import { experimental_transcribe as transcribe } from 'ai';\n+\n+const { text } = await transcribe({\n+  model: revai.transcription('machine'),\n+  audio: new URL(\n+    'https://github.com/vercel/ai/raw/refs/heads/main/examples/ai-core/data/galileo.mp3',\n+  ),",
        "comment_created_at": "2025-04-14T06:55:59+00:00",
        "comment_author": "lgrammel",
        "comment_body": "out of curiosity, what happens if the url is entered as a string? (should ideally be supported)",
        "pr_file_module": null
      },
      {
        "comment_id": "2041523234",
        "repo_full_name": "vercel/ai",
        "pr_number": 5730,
        "pr_file": "packages/revai/README.md",
        "discussion_id": "2041522768",
        "commented_code": "@@ -0,0 +1,38 @@\n+# AI SDK - Rev.ai Provider\n+\n+The **[Rev.ai provider](https://sdk.vercel.ai/providers/ai-sdk-providers/revai)** for the [AI SDK](https://sdk.vercel.ai/docs)\n+contains language model support for the Rev.ai transcription API.\n+\n+## Setup\n+\n+The Rev.ai provider is available in the `@ai-sdk/revai` module. You can install it with\n+\n+```bash\n+npm i @ai-sdk/revai\n+```\n+\n+## Provider Instance\n+\n+You can import the default provider instance `revai` from `@ai-sdk/revai`:\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+```\n+\n+## Example\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+import { experimental_transcribe as transcribe } from 'ai';\n+\n+const { text } = await transcribe({\n+  model: revai.transcription('machine'),\n+  audio: new URL(\n+    'https://github.com/vercel/ai/raw/refs/heads/main/examples/ai-core/data/galileo.mp3',\n+  ),",
        "comment_created_at": "2025-04-14T06:56:25+00:00",
        "comment_author": "lgrammel",
        "comment_body": "(no need for PR updates re this comment)",
        "pr_file_module": null
      },
      {
        "comment_id": "2041526438",
        "repo_full_name": "vercel/ai",
        "pr_number": 5730,
        "pr_file": "packages/revai/README.md",
        "discussion_id": "2041522768",
        "commented_code": "@@ -0,0 +1,38 @@\n+# AI SDK - Rev.ai Provider\n+\n+The **[Rev.ai provider](https://sdk.vercel.ai/providers/ai-sdk-providers/revai)** for the [AI SDK](https://sdk.vercel.ai/docs)\n+contains language model support for the Rev.ai transcription API.\n+\n+## Setup\n+\n+The Rev.ai provider is available in the `@ai-sdk/revai` module. You can install it with\n+\n+```bash\n+npm i @ai-sdk/revai\n+```\n+\n+## Provider Instance\n+\n+You can import the default provider instance `revai` from `@ai-sdk/revai`:\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+```\n+\n+## Example\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+import { experimental_transcribe as transcribe } from 'ai';\n+\n+const { text } = await transcribe({\n+  model: revai.transcription('machine'),\n+  audio: new URL(\n+    'https://github.com/vercel/ai/raw/refs/heads/main/examples/ai-core/data/galileo.mp3',\n+  ),",
        "comment_created_at": "2025-04-14T06:59:04+00:00",
        "comment_author": "haydenbleasel",
        "comment_body": "Likely explodes, but I can add string-url support on a new PR!",
        "pr_file_module": null
      },
      {
        "comment_id": "2041530902",
        "repo_full_name": "vercel/ai",
        "pr_number": 5730,
        "pr_file": "packages/revai/README.md",
        "discussion_id": "2041522768",
        "commented_code": "@@ -0,0 +1,38 @@\n+# AI SDK - Rev.ai Provider\n+\n+The **[Rev.ai provider](https://sdk.vercel.ai/providers/ai-sdk-providers/revai)** for the [AI SDK](https://sdk.vercel.ai/docs)\n+contains language model support for the Rev.ai transcription API.\n+\n+## Setup\n+\n+The Rev.ai provider is available in the `@ai-sdk/revai` module. You can install it with\n+\n+```bash\n+npm i @ai-sdk/revai\n+```\n+\n+## Provider Instance\n+\n+You can import the default provider instance `revai` from `@ai-sdk/revai`:\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+```\n+\n+## Example\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+import { experimental_transcribe as transcribe } from 'ai';\n+\n+const { text } = await transcribe({\n+  model: revai.transcription('machine'),\n+  audio: new URL(\n+    'https://github.com/vercel/ai/raw/refs/heads/main/examples/ai-core/data/galileo.mp3',\n+  ),",
        "comment_created_at": "2025-04-14T07:02:40+00:00",
        "comment_author": "lgrammel",
        "comment_body": "we have special conversion mechanisms that we should be using, no need to this build one-off, and we can also delay and do it on v5 once all providers are there to reduce # of ports.",
        "pr_file_module": null
      },
      {
        "comment_id": "2041531342",
        "repo_full_name": "vercel/ai",
        "pr_number": 5730,
        "pr_file": "packages/revai/README.md",
        "discussion_id": "2041522768",
        "commented_code": "@@ -0,0 +1,38 @@\n+# AI SDK - Rev.ai Provider\n+\n+The **[Rev.ai provider](https://sdk.vercel.ai/providers/ai-sdk-providers/revai)** for the [AI SDK](https://sdk.vercel.ai/docs)\n+contains language model support for the Rev.ai transcription API.\n+\n+## Setup\n+\n+The Rev.ai provider is available in the `@ai-sdk/revai` module. You can install it with\n+\n+```bash\n+npm i @ai-sdk/revai\n+```\n+\n+## Provider Instance\n+\n+You can import the default provider instance `revai` from `@ai-sdk/revai`:\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+```\n+\n+## Example\n+\n+```ts\n+import { revai } from '@ai-sdk/revai';\n+import { experimental_transcribe as transcribe } from 'ai';\n+\n+const { text } = await transcribe({\n+  model: revai.transcription('machine'),\n+  audio: new URL(\n+    'https://github.com/vercel/ai/raw/refs/heads/main/examples/ai-core/data/galileo.mp3',\n+  ),",
        "comment_created_at": "2025-04-14T07:03:05+00:00",
        "comment_author": "lgrammel",
        "comment_body": "(the mechanism has been introduced / updated on v5 recently)",
        "pr_file_module": null
      }
    ]
  }
]