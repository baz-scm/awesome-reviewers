[
  {
    "discussion_id": "2190863717",
    "pr_number": 61864,
    "pr_file": "adev/src/context/BUILD.bazel",
    "created_at": "2025-07-07T19:22:33+00:00",
    "commented_code": "+load(\"@aspect_bazel_lib//lib:copy_to_directory.bzl\", \"copy_to_directory\")\n+load(\"@aspect_rules_js//js:defs.bzl\", \"js_binary\", \"js_run_binary\")\n+load(\"//tools:defaults2.bzl\", \"ts_config\", \"ts_project\")\n+\n package(default_visibility = [\"//adev:__subpackages__\"])\n \n filegroup(\n     name = \"context\",\n     srcs = glob([\"**\"]),\n     visibility = [\"//visibility:public\"],\n )\n+\n+ts_config(\n+    name = \"tsconfig_build\",\n+    src = \"tsconfig.json\",\n+    deps = [\"//tools:tsconfig_build\"],\n+)\n+\n+filegroup(\n+    name = \"llms_src\",\n+    srcs = [\"llms-list.md\"],\n+    visibility = [\"//visibility:public\"],\n+)\n+\n+ts_project(\n+    name = \"llms_lib\",\n+    srcs = [\"llms.mts\"],\n+    tsconfig = \":tsconfig_build\",\n+    deps = [\":llms_src\"],\n+)\n+\n+js_binary(\n+    name = \"generate_llms_full\",\n+    data = [\n+        \"llms.mjs\",\n+        \"llms-list.md\",\n+        \":llms_lib_rjs\",\n+        \"//adev/src/content:guide_files\",\n+    ],\n+    entry_point = \":llms.mjs\",\n+)\n+\n+js_run_binary(\n+    name = \"run_generate_llms_full\",\n+    outs = [\"llms-full.txt\"],\n+    tool = \":generate_llms_full\",\n+)\n+\n+copy_to_directory(\n+    name = \"llms_full\",\n+    srcs = [\":run_generate_llms_full\"],\n+    out = \"llm-files\",\n+    replace_prefixes = {\"**/\": \"\"},\n+)",
    "repo_full_name": "angular/angular",
    "discussion_comments": [
      {
        "comment_id": "2190863717",
        "repo_full_name": "angular/angular",
        "pr_number": 61864,
        "pr_file": "adev/src/context/BUILD.bazel",
        "discussion_id": "2190863717",
        "commented_code": "@@ -1,7 +1,54 @@\n+load(\"@aspect_bazel_lib//lib:copy_to_directory.bzl\", \"copy_to_directory\")\n+load(\"@aspect_rules_js//js:defs.bzl\", \"js_binary\", \"js_run_binary\")\n+load(\"//tools:defaults2.bzl\", \"ts_config\", \"ts_project\")\n+\n package(default_visibility = [\"//adev:__subpackages__\"])\n \n filegroup(\n     name = \"context\",\n     srcs = glob([\"**\"]),\n     visibility = [\"//visibility:public\"],\n )\n+\n+ts_config(\n+    name = \"tsconfig_build\",\n+    src = \"tsconfig.json\",\n+    deps = [\"//tools:tsconfig_build\"],\n+)\n+\n+filegroup(\n+    name = \"llms_src\",\n+    srcs = [\"llms-list.md\"],\n+    visibility = [\"//visibility:public\"],\n+)\n+\n+ts_project(\n+    name = \"llms_lib\",\n+    srcs = [\"llms.mts\"],\n+    tsconfig = \":tsconfig_build\",\n+    deps = [\":llms_src\"],\n+)\n+\n+js_binary(\n+    name = \"generate_llms_full\",\n+    data = [\n+        \"llms.mjs\",\n+        \"llms-list.md\",\n+        \":llms_lib_rjs\",\n+        \"//adev/src/content:guide_files\",\n+    ],\n+    entry_point = \":llms.mjs\",\n+)\n+\n+js_run_binary(\n+    name = \"run_generate_llms_full\",\n+    outs = [\"llms-full.txt\"],\n+    tool = \":generate_llms_full\",\n+)\n+\n+copy_to_directory(\n+    name = \"llms_full\",\n+    srcs = [\":run_generate_llms_full\"],\n+    out = \"llm-files\",\n+    replace_prefixes = {\"**/\": \"\"},\n+)",
        "comment_created_at": "2025-07-07T19:22:33+00:00",
        "comment_author": "JeanMeche",
        "comment_body": "I'm not super happy with what I achieved with this rule but at least it works. \r\n\r\nIdeally I would have wanted to generate the file directly at `src/llms-full.txt` where `llms.txt` is already located. ",
        "pr_file_module": null
      },
      {
        "comment_id": "2192697840",
        "repo_full_name": "angular/angular",
        "pr_number": 61864,
        "pr_file": "adev/src/context/BUILD.bazel",
        "discussion_id": "2190863717",
        "commented_code": "@@ -1,7 +1,54 @@\n+load(\"@aspect_bazel_lib//lib:copy_to_directory.bzl\", \"copy_to_directory\")\n+load(\"@aspect_rules_js//js:defs.bzl\", \"js_binary\", \"js_run_binary\")\n+load(\"//tools:defaults2.bzl\", \"ts_config\", \"ts_project\")\n+\n package(default_visibility = [\"//adev:__subpackages__\"])\n \n filegroup(\n     name = \"context\",\n     srcs = glob([\"**\"]),\n     visibility = [\"//visibility:public\"],\n )\n+\n+ts_config(\n+    name = \"tsconfig_build\",\n+    src = \"tsconfig.json\",\n+    deps = [\"//tools:tsconfig_build\"],\n+)\n+\n+filegroup(\n+    name = \"llms_src\",\n+    srcs = [\"llms-list.md\"],\n+    visibility = [\"//visibility:public\"],\n+)\n+\n+ts_project(\n+    name = \"llms_lib\",\n+    srcs = [\"llms.mts\"],\n+    tsconfig = \":tsconfig_build\",\n+    deps = [\":llms_src\"],\n+)\n+\n+js_binary(\n+    name = \"generate_llms_full\",\n+    data = [\n+        \"llms.mjs\",\n+        \"llms-list.md\",\n+        \":llms_lib_rjs\",\n+        \"//adev/src/content:guide_files\",\n+    ],\n+    entry_point = \":llms.mjs\",\n+)\n+\n+js_run_binary(\n+    name = \"run_generate_llms_full\",\n+    outs = [\"llms-full.txt\"],\n+    tool = \":generate_llms_full\",\n+)\n+\n+copy_to_directory(\n+    name = \"llms_full\",\n+    srcs = [\":run_generate_llms_full\"],\n+    out = \"llm-files\",\n+    replace_prefixes = {\"**/\": \"\"},\n+)",
        "comment_created_at": "2025-07-08T14:32:53+00:00",
        "comment_author": "devversion",
        "comment_body": "It looks pretty clean to me. Why can't this live in `adev/src/BUILD`? or in `adev/BUILD` to output directly in `src/`?",
        "pr_file_module": null
      },
      {
        "comment_id": "2192772007",
        "repo_full_name": "angular/angular",
        "pr_number": 61864,
        "pr_file": "adev/src/context/BUILD.bazel",
        "discussion_id": "2190863717",
        "commented_code": "@@ -1,7 +1,54 @@\n+load(\"@aspect_bazel_lib//lib:copy_to_directory.bzl\", \"copy_to_directory\")\n+load(\"@aspect_rules_js//js:defs.bzl\", \"js_binary\", \"js_run_binary\")\n+load(\"//tools:defaults2.bzl\", \"ts_config\", \"ts_project\")\n+\n package(default_visibility = [\"//adev:__subpackages__\"])\n \n filegroup(\n     name = \"context\",\n     srcs = glob([\"**\"]),\n     visibility = [\"//visibility:public\"],\n )\n+\n+ts_config(\n+    name = \"tsconfig_build\",\n+    src = \"tsconfig.json\",\n+    deps = [\"//tools:tsconfig_build\"],\n+)\n+\n+filegroup(\n+    name = \"llms_src\",\n+    srcs = [\"llms-list.md\"],\n+    visibility = [\"//visibility:public\"],\n+)\n+\n+ts_project(\n+    name = \"llms_lib\",\n+    srcs = [\"llms.mts\"],\n+    tsconfig = \":tsconfig_build\",\n+    deps = [\":llms_src\"],\n+)\n+\n+js_binary(\n+    name = \"generate_llms_full\",\n+    data = [\n+        \"llms.mjs\",\n+        \"llms-list.md\",\n+        \":llms_lib_rjs\",\n+        \"//adev/src/content:guide_files\",\n+    ],\n+    entry_point = \":llms.mjs\",\n+)\n+\n+js_run_binary(\n+    name = \"run_generate_llms_full\",\n+    outs = [\"llms-full.txt\"],\n+    tool = \":generate_llms_full\",\n+)\n+\n+copy_to_directory(\n+    name = \"llms_full\",\n+    srcs = [\":run_generate_llms_full\"],\n+    out = \"llm-files\",\n+    replace_prefixes = {\"**/\": \"\"},\n+)",
        "comment_created_at": "2025-07-08T15:03:49+00:00",
        "comment_author": "JeanMeche",
        "comment_body": "Answered offline, we get a bunch of errors. \r\nWe'll take care of it in a follow-up",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2292304490",
    "pr_number": 63293,
    "pr_file": "packages/forms/signals/test/web/BUILD.bazel",
    "created_at": "2025-08-21T23:03:58+00:00",
    "commented_code": "+load(\"//tools:defaults2.bzl\", \"ng_project\", \"zoneless_web_test_suite\")\n+\n+ng_project(\n+    name = \"test_lib\",\n+    testonly = True,\n+    srcs = glob([\"**/*.ts\"]),",
    "repo_full_name": "angular/angular",
    "discussion_comments": [
      {
        "comment_id": "2292304490",
        "repo_full_name": "angular/angular",
        "pr_number": 63293,
        "pr_file": "packages/forms/signals/test/web/BUILD.bazel",
        "discussion_id": "2292304490",
        "commented_code": "@@ -0,0 +1,27 @@\n+load(\"//tools:defaults2.bzl\", \"ng_project\", \"zoneless_web_test_suite\")\n+\n+ng_project(\n+    name = \"test_lib\",\n+    testonly = True,\n+    srcs = glob([\"**/*.ts\"]),",
        "comment_created_at": "2025-08-21T23:03:58+00:00",
        "comment_author": "josephperrott",
        "comment_body": "As with the other, lets just glob the files we are actually after\r\n\r\n```suggestion\r\n    srcs = glob([\"*.spec.ts\"]),\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2298511853",
    "pr_number": 63357,
    "pr_file": "adev/shared-docs/pipeline/shared/BUILD.bazel",
    "created_at": "2025-08-25T16:06:41+00:00",
    "commented_code": "package(default_visibility = [\"//visibility:public\"])\n \n ts_project(\n-    name = \"shared\",\n-    srcs = glob(\n-        [\n-            \"*.mts\",\n-        ],\n-    ),\n+    name = \"linking\",\n+    srcs = [\"linking.mts\"],\n     visibility = [\n-        \"//adev/shared-docs:__subpackages__\",\n+        \"//adev/shared-docs/pipeline:__subpackages__\",\n     ],\n     deps = [\n     ],\n )\n+\n+ts_project(\n+    name = \"shiki\",\n+    srcs = [\"shiki.mts\"],\n+    visibility = [\n+        \"//adev/shared-docs/pipeline:__subpackages__\",\n+    ],\n+    deps = [\n+        \"//adev:node_modules/shiki\",\n+    ],\n+)\n+\n+ts_project(",
    "repo_full_name": "angular/angular",
    "discussion_comments": [
      {
        "comment_id": "2298511853",
        "repo_full_name": "angular/angular",
        "pr_number": 63357,
        "pr_file": "adev/shared-docs/pipeline/shared/BUILD.bazel",
        "discussion_id": "2298511853",
        "commented_code": "@@ -3,15 +3,52 @@ load(\"//adev/shared-docs:defaults.bzl\", \"ts_project\")\n package(default_visibility = [\"//visibility:public\"])\n \n ts_project(\n-    name = \"shared\",\n-    srcs = glob(\n-        [\n-            \"*.mts\",\n-        ],\n-    ),\n+    name = \"linking\",\n+    srcs = [\"linking.mts\"],\n     visibility = [\n-        \"//adev/shared-docs:__subpackages__\",\n+        \"//adev/shared-docs/pipeline:__subpackages__\",\n     ],\n     deps = [\n     ],\n )\n+\n+ts_project(\n+    name = \"shiki\",\n+    srcs = [\"shiki.mts\"],\n+    visibility = [\n+        \"//adev/shared-docs/pipeline:__subpackages__\",\n+    ],\n+    deps = [\n+        \"//adev:node_modules/shiki\",\n+    ],\n+)\n+\n+ts_project(",
        "comment_created_at": "2025-08-25T16:06:41+00:00",
        "comment_author": "josephperrott",
        "comment_body": "If our build target is just a glob of everything from a subdirectory, we should probably just have a build file in those subdirectories I think.",
        "pr_file_module": null
      }
    ]
  }
]