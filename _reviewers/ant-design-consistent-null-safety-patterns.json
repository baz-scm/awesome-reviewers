[
  {
    "discussion_id": "2223532787",
    "pr_number": 54426,
    "pr_file": "components/modal/components/ConfirmOkBtn.tsx",
    "created_at": "2025-07-22T18:51:05+00:00",
    "commented_code": "autoFocus={autoFocusButton === 'ok'}\n       buttonProps={okButtonProps}\n       prefixCls={`${rootPrefixCls}-btn`}\n+      onClose={typeof closable === 'object' ? closable?.onClose : undefined}",
    "repo_full_name": "ant-design/ant-design",
    "discussion_comments": [
      {
        "comment_id": "2223532787",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 54426,
        "pr_file": "components/modal/components/ConfirmOkBtn.tsx",
        "discussion_id": "2223532787",
        "commented_code": "@@ -38,6 +46,7 @@ const ConfirmOkBtn: FC = () => {\n       autoFocus={autoFocusButton === 'ok'}\n       buttonProps={okButtonProps}\n       prefixCls={`${rootPrefixCls}-btn`}\n+      onClose={typeof closable === 'object' ? closable?.onClose : undefined}",
        "comment_created_at": "2025-07-22T18:51:05+00:00",
        "comment_author": "li-jia-nan",
        "comment_body": "```suggestion\r\n      onClose={typeof closable === 'object' && closable !== null ? closable.onClose : undefined}\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1180594092",
    "pr_number": 42075,
    "pr_file": "components/calendar/generateCalendar.tsx",
    "created_at": "2023-04-28T16:14:25+00:00",
    "commented_code": "triggerPanelChange(mergedValue, newMode);\n     };\n \n-    const onInternalSelect = (date: DateType) => {\n+    const onInternalSelect = (date: DateType, selectType?: CalendarSelectable) => {\n       triggerChange(date);\n \n-      onSelect?.(date);\n+      if (selectable && selectable.length > 0 && selectType) {\n+        if (!selectable.includes(selectType)) return;",
    "repo_full_name": "ant-design/ant-design",
    "discussion_comments": [
      {
        "comment_id": "1180594092",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 42075,
        "pr_file": "components/calendar/generateCalendar.tsx",
        "discussion_id": "1180594092",
        "commented_code": "@@ -198,10 +201,14 @@ function generateCalendar<DateType>(generateConfig: GenerateConfig<DateType>) {\n       triggerPanelChange(mergedValue, newMode);\n     };\n \n-    const onInternalSelect = (date: DateType) => {\n+    const onInternalSelect = (date: DateType, selectType?: CalendarSelectable) => {\n       triggerChange(date);\n \n-      onSelect?.(date);\n+      if (selectable && selectable.length > 0 && selectType) {\n+        if (!selectable.includes(selectType)) return;",
        "comment_created_at": "2023-04-28T16:14:25+00:00",
        "comment_author": "yoyo837",
        "comment_body": "When `null` or `[]`, can all be selectable?",
        "pr_file_module": null
      },
      {
        "comment_id": "1180596528",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 42075,
        "pr_file": "components/calendar/generateCalendar.tsx",
        "discussion_id": "1180594092",
        "commented_code": "@@ -198,10 +201,14 @@ function generateCalendar<DateType>(generateConfig: GenerateConfig<DateType>) {\n       triggerPanelChange(mergedValue, newMode);\n     };\n \n-    const onInternalSelect = (date: DateType) => {\n+    const onInternalSelect = (date: DateType, selectType?: CalendarSelectable) => {\n       triggerChange(date);\n \n-      onSelect?.(date);\n+      if (selectable && selectable.length > 0 && selectType) {\n+        if (!selectable.includes(selectType)) return;",
        "comment_created_at": "2023-04-28T16:17:16+00:00",
        "comment_author": "bombillazo",
        "comment_body": "This should check `selectType` only if `selectable` is set, otherwise, it works as it currently does (any change in date calls `onSelect`).",
        "pr_file_module": null
      },
      {
        "comment_id": "1180599140",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 42075,
        "pr_file": "components/calendar/generateCalendar.tsx",
        "discussion_id": "1180594092",
        "commented_code": "@@ -198,10 +201,14 @@ function generateCalendar<DateType>(generateConfig: GenerateConfig<DateType>) {\n       triggerPanelChange(mergedValue, newMode);\n     };\n \n-    const onInternalSelect = (date: DateType) => {\n+    const onInternalSelect = (date: DateType, selectType?: CalendarSelectable) => {\n       triggerChange(date);\n \n-      onSelect?.(date);\n+      if (selectable && selectable.length > 0 && selectType) {\n+        if (!selectable.includes(selectType)) return;",
        "comment_created_at": "2023-04-28T16:20:10+00:00",
        "comment_author": "bombillazo",
        "comment_body": "So if `selectable` = `null` | `undefined` | `[]`, no check is done and the function works as it does now .",
        "pr_file_module": null
      },
      {
        "comment_id": "1180602572",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 42075,
        "pr_file": "components/calendar/generateCalendar.tsx",
        "discussion_id": "1180594092",
        "commented_code": "@@ -198,10 +201,14 @@ function generateCalendar<DateType>(generateConfig: GenerateConfig<DateType>) {\n       triggerPanelChange(mergedValue, newMode);\n     };\n \n-    const onInternalSelect = (date: DateType) => {\n+    const onInternalSelect = (date: DateType, selectType?: CalendarSelectable) => {\n       triggerChange(date);\n \n-      onSelect?.(date);\n+      if (selectable && selectable.length > 0 && selectType) {\n+        if (!selectable.includes(selectType)) return;",
        "comment_created_at": "2023-04-28T16:24:06+00:00",
        "comment_author": "yoyo837",
        "comment_body": "Yeah, I see that code now, Thanks.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1180603707",
    "pr_number": 42075,
    "pr_file": "components/calendar/generateCalendar.tsx",
    "created_at": "2023-04-28T16:25:25+00:00",
    "commented_code": "triggerPanelChange(mergedValue, newMode);\n     };\n \n-    const onInternalSelect = (date: DateType) => {\n+    const onInternalSelect = (date: DateType, selectType?: CalendarSelectable) => {\n       triggerChange(date);\n \n-      onSelect?.(date);\n+      if (selectable && selectable.length > 0 && selectType) {",
    "repo_full_name": "ant-design/ant-design",
    "discussion_comments": [
      {
        "comment_id": "1180603707",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 42075,
        "pr_file": "components/calendar/generateCalendar.tsx",
        "discussion_id": "1180603707",
        "commented_code": "@@ -198,10 +201,14 @@ function generateCalendar<DateType>(generateConfig: GenerateConfig<DateType>) {\n       triggerPanelChange(mergedValue, newMode);\n     };\n \n-    const onInternalSelect = (date: DateType) => {\n+    const onInternalSelect = (date: DateType, selectType?: CalendarSelectable) => {\n       triggerChange(date);\n \n-      onSelect?.(date);\n+      if (selectable && selectable.length > 0 && selectType) {",
        "comment_created_at": "2023-04-28T16:25:25+00:00",
        "comment_author": "yoyo837",
        "comment_body": "```suggestion\r\n      if (selectable?.length > 0 && selectType) {\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1923137850",
    "pr_number": 52508,
    "pr_file": "components/button/button.tsx",
    "created_at": "2025-01-21T06:29:13+00:00",
    "commented_code": "<IconWrapper prefixCls={prefixCls} className={iconClasses} style={iconStyle}>\n         {icon}\n       </IconWrapper>\n-    ) : typeof loading === 'object' && loading.icon ? (\n+    ) : loading && typeof loading === 'object' && loading.icon ? (",
    "repo_full_name": "ant-design/ant-design",
    "discussion_comments": [
      {
        "comment_id": "1923137850",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 52508,
        "pr_file": "components/button/button.tsx",
        "discussion_id": "1923137850",
        "commented_code": "@@ -310,7 +310,7 @@ const InternalCompoundedButton = React.forwardRef<\n       <IconWrapper prefixCls={prefixCls} className={iconClasses} style={iconStyle}>\n         {icon}\n       </IconWrapper>\n-    ) : typeof loading === 'object' && loading.icon ? (\n+    ) : loading && typeof loading === 'object' && loading.icon ? (",
        "comment_created_at": "2025-01-21T06:29:13+00:00",
        "comment_author": "yoyo837",
        "comment_body": "\u8981\u4e0d\u5e72\u8106\u76f4\u63a5\u7b80\u5355\u70b9 loading?.icon ?",
        "pr_file_module": null
      },
      {
        "comment_id": "1923138555",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 52508,
        "pr_file": "components/button/button.tsx",
        "discussion_id": "1923137850",
        "commented_code": "@@ -310,7 +310,7 @@ const InternalCompoundedButton = React.forwardRef<\n       <IconWrapper prefixCls={prefixCls} className={iconClasses} style={iconStyle}>\n         {icon}\n       </IconWrapper>\n-    ) : typeof loading === 'object' && loading.icon ? (\n+    ) : loading && typeof loading === 'object' && loading.icon ? (",
        "comment_created_at": "2025-01-21T06:29:59+00:00",
        "comment_author": "li-jia-nan",
        "comment_body": "\u90a3\u524d\u540e\u903b\u8f91\u4e0d\u7b49\u4ef7\u4e86\uff0c\u8fd9\u91cc\u5224\u65ad\u4e86 object",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1501341867",
    "pr_number": 47567,
    "pr_file": "components/tree/DirectoryTree.tsx",
    "created_at": "2024-02-24T04:27:50+00:00",
    "commented_code": "keyEntities,\n       );\n     } else {\n-      initExpandedKeys = (props.expandedKeys || defaultExpandedKeys)!;\n+      initExpandedKeys = props.expandedKeys || defaultExpandedKeys || [];\n     }\n     return initExpandedKeys;",
    "repo_full_name": "ant-design/ant-design",
    "discussion_comments": [
      {
        "comment_id": "1501341867",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 47567,
        "pr_file": "components/tree/DirectoryTree.tsx",
        "discussion_id": "1501341867",
        "commented_code": "@@ -65,7 +65,7 @@ const DirectoryTree: React.ForwardRefRenderFunction<RcTree, DirectoryTreeProps>\n         keyEntities,\n       );\n     } else {\n-      initExpandedKeys = (props.expandedKeys || defaultExpandedKeys)!;\n+      initExpandedKeys = props.expandedKeys || defaultExpandedKeys || [];\n     }\n     return initExpandedKeys;",
        "comment_created_at": "2024-02-24T04:27:50+00:00",
        "comment_author": "yoyo837",
        "comment_body": "\u5f31\u5f31\u7684\u95ee\u4e00\u4e0b\uff0c\u5982\u679c\u662f return \u8fd9\u91cc\u515c\u5e95 []\uff0c\u903b\u8f91\u4f1a\u6709\u533a\u522b\u5417\uff1f",
        "pr_file_module": null
      },
      {
        "comment_id": "1501342831",
        "repo_full_name": "ant-design/ant-design",
        "pr_number": 47567,
        "pr_file": "components/tree/DirectoryTree.tsx",
        "discussion_id": "1501341867",
        "commented_code": "@@ -65,7 +65,7 @@ const DirectoryTree: React.ForwardRefRenderFunction<RcTree, DirectoryTreeProps>\n         keyEntities,\n       );\n     } else {\n-      initExpandedKeys = (props.expandedKeys || defaultExpandedKeys)!;\n+      initExpandedKeys = props.expandedKeys || defaultExpandedKeys || [];\n     }\n     return initExpandedKeys;",
        "comment_created_at": "2024-02-24T04:38:17+00:00",
        "comment_author": "wkmyws",
        "comment_body": "\u8fd8\u662f\u6709\u7684\u5427\uff0c\u8fd9\u91cc`!`\u7c7b\u578b\u6807\u6ce8\u8bf4initExpandedKeys\u4e0d\u53ef\u80fd\u4e3aundefined\uff1b\r\n\u4f46\u6dfb\u52a0\u7684\u8fd9\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u4e2d\uff0cinitExpandedKeys\u6267\u884c\u4e0b\u6765\u662fundefined\uff0c\u4f1a\u5bfc\u81f4\u540e\u9762\u6267\u884cinclude\u65f6\u62a5\u9519\uff08`dictUtil.ts` `line 81`\uff09\uff0c\u4f46\u6539\u6210[]\u515c\u5e95\u5c31\u80fd\u6b63\u5e38\u6267\u884c\u4e86",
        "pr_file_module": null
      }
    ]
  }
]