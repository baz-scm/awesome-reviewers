[
  {
    "discussion_id": "2217709243",
    "pr_number": 10169,
    "pr_file": "composer.json",
    "created_at": "2025-07-20T09:02:14+00:00",
    "commented_code": "\"utopia-php/cache\": \"0.13.*\",\n         \"utopia-php/cli\": \"0.15.*\",\n         \"utopia-php/config\": \"0.2.*\",\n-        \"utopia-php/database\": \"0.71.*\",\n+        \"utopia-php/database\": \"dev-validate-create-index-array as 0.71.10\",",
    "repo_full_name": "appwrite/appwrite",
    "discussion_comments": [
      {
        "comment_id": "2217709243",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 10169,
        "pr_file": "composer.json",
        "discussion_id": "2217709243",
        "commented_code": "@@ -52,7 +52,7 @@\n         \"utopia-php/cache\": \"0.13.*\",\n         \"utopia-php/cli\": \"0.15.*\",\n         \"utopia-php/config\": \"0.2.*\",\n-        \"utopia-php/database\": \"0.71.*\",\n+        \"utopia-php/database\": \"dev-validate-create-index-array as 0.71.10\",",
        "comment_created_at": "2025-07-20T09:02:14+00:00",
        "comment_author": "coderabbitai[bot]",
        "comment_body": "_\ud83d\udca1 Verification agent_\n\n<details>\n<summary>\ud83e\udde9 Analysis chain</summary>\n\n**Switching to a moving `dev-*` branch jeopardises build reproducibility**\n\nPointing a production dependency to `dev-validate-create-index-array as 0.71.10` means every `composer install` will pick the latest commit on that branch, giving you non-deterministic builds and making rollbacks/debugging painful.  \nPlease lock to a tag or commit (or cut an actual `0.71.10` release) and commit the updated `composer.lock`.\n\n\n\nExample fix:\n\n```diff\n-        \"utopia-php/database\": \"dev-validate-create-index-array as 0.71.10\",\n+        \"utopia-php/database\": \"0.71.10\",\n```\n\nVerification script to ensure the lock file is aligned:\n\n---\n\n\ud83c\udfc1 Script executed:\n\n```shell\n#!/bin/bash\n# Fail if composer.lock doesn't contain an exact version for utopia-php/database\ngrep -A2 '\"name\": \"utopia-php/database\"' composer.lock\n```\n\nLength of output: 181\n\n---\n\n\n\n</details>\n\n**Lock production dependencies to immutable versions**\n\nThe `composer.lock` shows `utopia-php/database` still at `dev-validate-create-index-array`, so builds remain non-deterministic. Please:\n\n- In composer.json (line 55), change:\n  ```diff\n  - \"utopia-php/database\": \"dev-validate-create-index-array as 0.71.10\",\n  + \"utopia-php/database\": \"0.71.10\",\n  ```\n- Run `composer update utopia-php/database` to update composer.lock with the tagged version.\n- Commit the updated composer.lock to ensure reproducible installs.\n\n<!-- suggestion_start -->\n\n<details>\n<summary>\ud83d\udcdd Committable suggestion</summary>\n\n> \u203c\ufe0f **IMPORTANT**\n> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.\n\n```suggestion\n        \"utopia-php/database\": \"0.71.10\",\n```\n\n</details>\n\n<!-- suggestion_end -->\n\n<details>\n<summary>\ud83e\udd16 Prompt for AI Agents</summary>\n\n```\nIn composer.json at line 55, replace the version alias\n\"dev-validate-create-index-array as 0.71.10\" for \"utopia-php/database\" with the\nactual tagged version \"0.71.10\". Then run \"composer update utopia-php/database\"\nto update composer.lock accordingly, and commit the updated composer.lock file\nto ensure deterministic builds.\n```\n\n</details>\n\n<!-- fingerprinting:phantom:triton:cougar -->\n\n<!-- This is an auto-generated comment by CodeRabbit -->",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2186200493",
    "pr_number": 10106,
    "pr_file": "composer.json",
    "created_at": "2025-07-04T23:28:32+00:00",
    "commented_code": "\"utopia-php/messaging\": \"0.18.*\",\n         \"utopia-php/migration\": \"0.10.*\",\n         \"utopia-php/orchestration\": \"0.9.*\",\n-        \"utopia-php/platform\": \"0.7.*\",\n+        \"utopia-php/platform\": \"dev-fix-amqp as 0.7.9\",\n         \"utopia-php/pools\": \"0.8.*\",\n         \"utopia-php/preloader\": \"0.2.*\",\n-        \"utopia-php/queue\": \"0.11.0\",\n+        \"utopia-php/queue\": \"dev-fix-amqp as 0.12.0\",",
    "repo_full_name": "appwrite/appwrite",
    "discussion_comments": [
      {
        "comment_id": "2186200493",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 10106,
        "pr_file": "composer.json",
        "discussion_id": "2186200493",
        "commented_code": "@@ -64,10 +64,10 @@\n         \"utopia-php/messaging\": \"0.18.*\",\n         \"utopia-php/migration\": \"0.10.*\",\n         \"utopia-php/orchestration\": \"0.9.*\",\n-        \"utopia-php/platform\": \"0.7.*\",\n+        \"utopia-php/platform\": \"dev-fix-amqp as 0.7.9\",\n         \"utopia-php/pools\": \"0.8.*\",\n         \"utopia-php/preloader\": \"0.2.*\",\n-        \"utopia-php/queue\": \"0.11.0\",\n+        \"utopia-php/queue\": \"dev-fix-amqp as 0.12.0\",",
        "comment_created_at": "2025-07-04T23:28:32+00:00",
        "comment_author": "coderabbitai[bot]",
        "comment_body": "_\ud83d\udca1 Verification agent_\n\n<details>\n<summary>\u2753 Verification inconclusive</summary>\n\n**Using `dev-*` aliases can break reproducibility & will fail without `minimum-stability: dev`**\n\n`\"dev-fix-amqp as 0.7.9\"` and `\"dev-fix-amqp as 0.12.0\"` are still *dev-stability* packages even when aliased to a pseudo-stable version.  \nOn a fresh clone without an existing lock file, `composer install` will error out unless the root `composer.json` explicitly allows dev packages (`\"minimum-stability\": \"dev\"` or a repo override). In addition, relying on a moving branch jeopardises deterministic builds and makes rollbacks harder.\n\nConsider:\n\n```diff\n{\n   \"require\": {\n@@\n-    \"utopia-php/platform\": \"dev-fix-amqp as 0.7.9\",\n@@\n-    \"utopia-php/queue\": \"dev-fix-amqp as 0.12.0\",\n+    \"utopia-php/platform\": \"0.7.9\",   # tag the branch and switch back once released\n+    \"utopia-php/queue\":    \"0.12.0\"\n   },\n+  \"minimum-stability\": \"dev\",\n+  \"prefer-stable\": true\n}\n```\n\nAction items  \n1. Tag the `fix-amqp` branch and depend on the tag, or pin to a commit hash using the `\"reference\"` approach.  \n2. If dev packages are unavoidable, add the `minimum-stability` / `prefer-stable` keys to prevent CI failures.  \n3. Commit an updated `composer.lock` so CI and production use the exact revisions.\n\n---\n\n\n\n</details>\n\n**Composer dev-aliases compromise reproducibility**\n\nIn `composer.json` you\u2019re aliasing a moving branch as a \u201cstable\u201d version without permitting dev stability. On a fresh clone, this will break unless you set `minimum-stability: dev`. It also undermines deterministic builds.\n\nSuggested diff:\n```diff\n composer.json\n \u2500\u2500\u2500\u2500 Lines 67\u201370 \u2500\u2500\u2500\u2500\n-        \"utopia-php/platform\": \"dev-fix-amqp as 0.7.9\",\n+        \"utopia-php/platform\": \"0.7.9\",\n         \"utopia-php/pools\":   \"0.8.*\",\n         \"utopia-php/preloader\":\"0.2.*\",\n-        \"utopia-php/queue\":    \"dev-fix-amqp as 0.12.0\",\n+        \"utopia-php/queue\":    \"0.12.0\",\n+\n+    // Allow dev-only stability but prefer tagged releases\n+    \"minimum-stability\": \"dev\",\n+    \"prefer-stable\": true\n```\n\nAction items  \n- Tag your `fix-amqp` branch (or pin via `\"reference\": \"<commit-hash>\"`) and switch dependencies to that tag.  \n- If you must pull dev branches, add the `minimum-stability`/`prefer-stable` settings as shown.  \n- Commit the updated `composer.lock` to lock exact revisions.  \n\n\n> Committable suggestion skipped: line range outside the PR's diff.\n\n<details>\n<summary>\ud83e\udd16 Prompt for AI Agents</summary>\n\n```\nIn composer.json around lines 67 to 70, the use of dev-branch aliases as stable\nversions breaks reproducibility and requires setting minimum-stability to dev.\nTo fix this, replace the dev-branch aliases with tagged versions or pin them\nusing exact commit hashes via the \"reference\" field. If you must use dev\nbranches, add \"minimum-stability\": \"dev\" and \"prefer-stable\": true to the\ncomposer.json to allow dev dependencies while preferring stable ones. Finally,\nrun composer update and commit the updated composer.lock file to lock exact\ndependency versions.\n```\n\n</details>\n\n<!-- This is an auto-generated comment by CodeRabbit -->\n\n<!-- fingerprinting:phantom:triton:cougar -->",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2180201565",
    "pr_number": 10090,
    "pr_file": "composer.json",
    "created_at": "2025-07-02T14:24:16+00:00",
    "commented_code": "\"utopia-php/locale\": \"0.4.*\",\n         \"utopia-php/logger\": \"0.6.*\",\n         \"utopia-php/messaging\": \"0.18.*\",\n-        \"utopia-php/migration\": \"0.10.*\",\n+        \"utopia-php/migration\": \"fix-path-dev\",",
    "repo_full_name": "appwrite/appwrite",
    "discussion_comments": [
      {
        "comment_id": "2180201565",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 10090,
        "pr_file": "composer.json",
        "discussion_id": "2180201565",
        "commented_code": "@@ -62,7 +62,7 @@\n         \"utopia-php/locale\": \"0.4.*\",\n         \"utopia-php/logger\": \"0.6.*\",\n         \"utopia-php/messaging\": \"0.18.*\",\n-        \"utopia-php/migration\": \"0.10.*\",\n+        \"utopia-php/migration\": \"fix-path-dev\",",
        "comment_created_at": "2025-07-02T14:24:16+00:00",
        "comment_author": "coderabbitai[bot]",
        "comment_body": "_\ud83d\udca1 Verification agent_\n\n<details>\n<summary>\ud83e\udde9 Analysis chain</summary>\n\n**Version string likely invalid \u2013 Composer may fail to resolve `utopia-php/migration`.**\n\nComposer treats a bare string like `\"fix-path-dev\"` as a *tagged* stable release, **not** a branch.  \nIf the package only has a branch called `fix-path-dev`, the correct constraint must be prefixed with `dev-` (e.g. `dev-fix-path-dev`) or replaced by an explicit commit reference. Otherwise `composer install` will error out with \u201cCould not find a matching version\u201d.\n\n```diff\n-        \"utopia-php/migration\": \"fix-path-dev\",\n+        \"utopia-php/migration\": \"dev-fix-path-dev\"\n```\n\nAlso remember to:\n1. bump `minimum-stability` to `dev` or keep `prefer-stable` true, and  \n2. commit the updated `composer.lock`, otherwise CI/builds can still pull the old 0.10.* release.\n\n---\n\n\ud83c\udfc1 Script executed:\n\n```shell\n#!/bin/bash\necho \"----- Checking composer.json for stability settings -----\"\ngrep -n '\"minimum-stability\"' composer.json || echo \"minimum-stability not set\"\ngrep -n '\"prefer-stable\"' composer.json || echo \"prefer-stable not set\"\n\necho\necho \"----- Checking for composer.lock -----\"\nif [ -f composer.lock ]; then\n  echo \"composer.lock found\"\nelse\n  echo \"composer.lock not found\"\nfi\n\necho\necho \"----- Checking composer.lock for utopia-php/migration entry -----\"\ngrep -n '\"utopia-php/migration\"' composer.lock || echo \"No entry for utopia-php/migration in composer.lock\"\n```\n\nLength of output: 784\n\n---\n\n\n\n</details>\n\n**Fix invalid version constraint for utopia-php/migration**  \n\nThe current constraint  \n```json\n\"utopia-php/migration\": \"fix-path-dev\"\n```  \nwill be treated as a \u201cfix-path-dev\u201d tagged release (stable), not your branch. Since you only have a branch named `fix-path-dev`, Composer can\u2019t resolve it under the default `minimum-stability: stable`.\n\nChanges needed:\n\n- In composer.json (around line 65):  \n  ```diff\n  -   \"utopia-php/migration\": \"fix-path-dev\",\n  +   \"utopia-php/migration\": \"dev-fix-path-dev\",\n  ```\n- Add or update your stability settings at the root of composer.json:\n  ```json\n  \"minimum-stability\": \"dev\",\n  \"prefer-stable\": true,\n  ```\n- Run `composer update utopia-php/migration` (or `composer require utopia-php/migration:dev-fix-path-dev`) to regenerate composer.lock.\n- Commit the updated composer.json **and** composer.lock to ensure CI/installers pick up the branch.\n\n<details>\n<summary>\ud83e\udd16 Prompt for AI Agents</summary>\n\n```\nIn composer.json at line 65, the version constraint \"fix-path-dev\" for\n\"utopia-php/migration\" is invalid because Composer treats it as a stable tag,\nnot a branch. To fix this, add or update the root-level settings in\ncomposer.json to include \"minimum-stability\": \"dev\" and \"prefer-stable\": true.\nThen run `composer update utopia-php/migration` or `composer require\nutopia-php/migration:dev-fix-path-dev` to update composer.lock, and commit both\ncomposer.json and composer.lock.\n```\n\n</details>\n\n<!-- This is an auto-generated comment by CodeRabbit -->\n\n<!-- fingerprinting:phantom:triton:cougar -->",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2163638576",
    "pr_number": 10050,
    "pr_file": "composer.json",
    "created_at": "2025-06-24T10:56:28+00:00",
    "commented_code": "\"utopia-php/platform\": \"0.7.*\",\n         \"utopia-php/pools\": \"0.8.*\",\n         \"utopia-php/preloader\": \"0.2.*\",\n-        \"utopia-php/queue\": \"0.11.0\",\n+        \"utopia-php/queue\": \"dev-feat-swoole-amqp-adapter as 0.11.1\",",
    "repo_full_name": "appwrite/appwrite",
    "discussion_comments": [
      {
        "comment_id": "2163638576",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 10050,
        "pr_file": "composer.json",
        "discussion_id": "2163638576",
        "commented_code": "@@ -67,7 +67,7 @@\n         \"utopia-php/platform\": \"0.7.*\",\n         \"utopia-php/pools\": \"0.8.*\",\n         \"utopia-php/preloader\": \"0.2.*\",\n-        \"utopia-php/queue\": \"0.11.0\",\n+        \"utopia-php/queue\": \"dev-feat-swoole-amqp-adapter as 0.11.1\",",
        "comment_created_at": "2025-06-24T10:56:28+00:00",
        "comment_author": "coderabbitai[bot]",
        "comment_body": "_\u26a0\ufe0f Potential issue_\n\n**Critical: Avoid using development branches in production dependencies.**\n\nUsing `dev-feat-swoole-amqp-adapter` as a dependency source is risky because development branches are unstable and can break builds without notice. Consider using a stable tagged release instead.\n\n\nIf this specific feature branch is required, consider:\n1. Forking the repository and creating a stable tag\n2. Waiting for the feature to be merged and released officially\n3. Using a specific commit hash for better reproducibility\n\n```diff\n-        \"utopia-php/queue\": \"dev-feat-swoole-amqp-adapter as 0.11.1\",\n+        \"utopia-php/queue\": \"0.11.*\",\n```\n\n<!-- suggestion_start -->\n\n<details>\n<summary>\ud83d\udcdd Committable suggestion</summary>\n\n> \u203c\ufe0f **IMPORTANT**\n> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.\n\n```suggestion\n        \"utopia-php/queue\": \"0.11.*\",\n```\n\n</details>\n\n<!-- suggestion_end -->\n\n<details>\n<summary>\ud83e\udd16 Prompt for AI Agents</summary>\n\n```\nIn composer.json at line 70, the dependency \"utopia-php/queue\" is set to use a\ndevelopment branch \"dev-feat-swoole-amqp-adapter\" which is unstable for\nproduction. Replace this with a stable tagged release version. If the feature\nbranch is necessary, either fork the repo and create a stable tag, wait for the\nofficial merge and release, or use a specific commit hash to ensure\nreproducibility and stability.\n```\n\n</details>\n\n<!-- This is an auto-generated comment by CodeRabbit -->\n\n<!-- fingerprinting:phantom:poseidon:panther -->",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2018089360",
    "pr_number": 9477,
    "pr_file": "composer.json",
    "created_at": "2025-03-28T07:52:05+00:00",
    "commented_code": "\"ext-sockets\": \"*\",\n         \"appwrite/php-runtimes\": \"0.19.*\",\n         \"appwrite/php-clamav\": \"2.0.*\",\n+        \"utopia-php/auth\": \"dev-dev\",",
    "repo_full_name": "appwrite/appwrite",
    "discussion_comments": [
      {
        "comment_id": "2018089360",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 9477,
        "pr_file": "composer.json",
        "discussion_id": "2018089360",
        "commented_code": "@@ -46,6 +46,7 @@\n         \"ext-sockets\": \"*\",\n         \"appwrite/php-runtimes\": \"0.19.*\",\n         \"appwrite/php-clamav\": \"2.0.*\",\n+        \"utopia-php/auth\": \"dev-dev\",",
        "comment_created_at": "2025-03-28T07:52:05+00:00",
        "comment_author": "coderabbitai[bot]",
        "comment_body": "_\ud83d\udca1 Verification agent_\n\n<details>\n<summary>\ud83e\udde9 Analysis chain</summary>\n\n**Using development branch dependency may introduce stability risks**\n\nThe addition of `\"utopia-php/auth\": \"dev-dev\"` references a development branch rather than a stable release version, which may introduce stability or reproducibility issues in the build process.\n\n\nConsider using a specific version or at least a specific commit hash instead of a development branch for production code. Development branches can change unexpectedly and lead to inconsistent behavior between environments.\n\n```diff\n-        \"utopia-php/auth\": \"dev-dev\",\n+        \"utopia-php/auth\": \"^1.0.0\",\n```\n\nIf a stable version isn't available yet, consider using a specific commit hash:\n\n```diff\n-        \"utopia-php/auth\": \"dev-dev\",\n+        \"utopia-php/auth\": \"dev-dev#specific-commit-hash\",\n```\n\n---\n\n\ud83c\udf10 Web query:\n\n```web\nBest practices for specifying PHP package dependencies in composer.json\n```\n\n\ud83d\udca1 Result:\n\nSpecifying PHP package dependencies in `composer.json` effectively ensures compatibility, security, and maintainability. Here are the key best practices:\n\n## Use Semantic Versioning Correctly  \nLeverage operators like `^` (caret) and `~` (tilde) to balance stability with updates:  \n- `^1.2.3` allows updates compatible with 1.x.x (avoids breaking changes)  \n- `~1.2.3` allows patches (1.2.x) but not minor/major updates  \nAvoid overly strict constraints (e.g., `1.2.3` exact version) unless necessary[4][6][10].\n\n**Example for modern PHP versions:**  \n```json\n\"require\": {\n  \"php\": \"^8.1\",\n  \"monolog/monolog\": \"^3.0\"\n}\n```\n\n## Separate Production and Development Dependencies  \n- **`require`**: Core dependencies needed in production  \n- **`require-dev`**: Testing/debugging tools (PHPUnit, PHPStan)  \n```json\n\"require-dev\": {\n  \"phpunit/phpunit\": \"^10.0\",\n  \"friendsofphp/php-cs-fixer\": \"^3.0\"\n}\n```\nUse `composer install --no-dev` in production environments[5][7][8].\n\n## Lock File Strategy  \n- **Commit `composer.lock`** for applications to ensure identical dependency versions across environments[4][12]  \n- **Don't commit `composer.lock`** for libraries to allow flexibility[14]  \n\n## Handle Conflicts and Platform Requirements  \nPrevent incompatible packages and specify environment constraints:  \n```json\n\"conflict\": {\n  \"buggy/package\": \"<2.0\"\n},\n\"config\": {\n  \"platform\": {\n    \"php\": \"8.1.10\",\n    \"ext-curl\": \"*\"\n  }\n}\n```\nEnsures dependency resolution matches production environment[3][11].\n\n## Autoloading Standards  \nUse PSR-4 for modern autoloading:  \n```json\n\"autoload\": {\n  \"psr-4\": {\n    \"MyVendor\\\\MyPackage\\\\\": \"src/\"\n  }\n}\n```\nAvoid manual file includes and non-standard autoload methods[7][14].\n\n## Version Control Best Practices  \n- **Include**: `composer.json`, `composer.lock` (for apps)  \n- **Exclude**: `vendor/` directory via `.gitignore`  \n- Update dependencies regularly:  \n  ```bash\n  composer outdated # Check for updates\n  composer update --with-dependencies # Safe updates\n  ```\n  Test updates thoroughly after applying[10][12][15].\n\n## Private Packages and Repositories  \nAdd custom repositories securely:  \n```json\n\"repositories\": [\n  {\n    \"type\": \"vcs\",\n    \"url\": \"https://github.com/mycompany/private-repo\"\n  }\n]\n```\nUse authentication tokens for private packages[8][13].\n\nCitations:\n\n- 1: https://kinsta.com/blog/create-composer-package/\n- 2: https://www.mend.io/blog/how-to-manage-php-dependencies-using-composer/\n- 3: https://github.com/composer/composer/issues/6767\n- 4: https://getcomposer.org/doc/01-basic-usage.md\n- 5: https://dev.to/damms005/understanding-composers-dev-environment-a-beginners-guide-to-dependency-management-in-php-4l1o\n- 6: https://www.trakked.io/en/blog/composer-json-understanding-version-constraints-and-dependencies\n- 7: https://dev.to/timoschinkel/good-practices-when-working-with-composer-5a1c\n- 8: https://docs.pantheon.io/guides/integrated-composer/dependencies\n- 9: https://laracasts.com/discuss/channels/laravel/upgrading-packages-best-practices\n- 10: https://metadesignsolutions.com/using-composer-to-manage-dependencies-in-php-projects-effectively/\n- 11: https://getcomposer.org/doc/04-schema.md\n- 12: https://mikemadison.net/blog/2020/8/4/an-absolute-beginners-guide-dependency-management-and-composer\n- 13: https://clearcode.cc/blog/manage-application-setup-composer/\n- 14: https://blog.phpfui.com/packagist-best-practices\n- 15: https://laracasts.com/discuss/channels/laravel/laravel-package-dependencies-best-practices\n\n---\n\n\n\n</details>\n\n**Action: Update the dependency version for utopia-php/auth**\n\nThe current dependency in composer.json uses the development branch (\"dev-dev\"), which can lead to unpredictable behavior and instability in production. Based on best practices for PHP package dependencies, it's advisable to specify a stable version using semantic versioning or a specific commit hash if a stable release is not yet available.\n\n- **Issue Location:** composer.json, line 49.\n- **Recommendation:** Replace `\"utopia-php/auth\": \"dev-dev\"` with a stable version specifier. For example:\n  ```diff\n  -        \"utopia-php/auth\": \"dev-dev\",\n  +        \"utopia-php/auth\": \"^1.0.0\",\n  ```\n  If a stable release isn\u2019t available, consider referencing a specific commit hash:\n  ```diff\n  -        \"utopia-php/auth\": \"dev-dev\",\n  +        \"utopia-php/auth\": \"dev-dev#specific-commit-hash\",\n  ```\n- **Rationale:** This change aligns with best practices for maintaining compatibility, security, and reproducibility in dependency management.\n\n\n\n<!-- suggestion_start -->\n\n<details>\n<summary>\ud83d\udcdd Committable suggestion</summary>\n\n> \u203c\ufe0f **IMPORTANT**\n> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.\n\n`````suggestion\n        \"utopia-php/auth\": \"^1.0.0\",\n`````\n\n</details>\n\n<!-- suggestion_end -->\n\n<!-- This is an auto-generated comment by CodeRabbit -->\n\n\u2705 Addressed in commit 0483c7e",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2106239706",
    "pr_number": 9890,
    "pr_file": "composer.json",
    "created_at": "2025-05-25T15:53:16+00:00",
    "commented_code": "\"utopia-php/platform\": \"0.7.*\",\n         \"utopia-php/pools\": \"0.8.*\",\n         \"utopia-php/preloader\": \"0.2.*\",\n-        \"utopia-php/queue\": \"0.10.*\",\n+        \"utopia-php/queue\": \"dev-PLA-2762-2 as 0.10.0\",",
    "repo_full_name": "appwrite/appwrite",
    "discussion_comments": [
      {
        "comment_id": "2106239706",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 9890,
        "pr_file": "composer.json",
        "discussion_id": "2106239706",
        "commented_code": "@@ -67,7 +67,7 @@\n         \"utopia-php/platform\": \"0.7.*\",\n         \"utopia-php/pools\": \"0.8.*\",\n         \"utopia-php/preloader\": \"0.2.*\",\n-        \"utopia-php/queue\": \"0.10.*\",\n+        \"utopia-php/queue\": \"dev-PLA-2762-2 as 0.10.0\",",
        "comment_created_at": "2025-05-25T15:53:16+00:00",
        "comment_author": "coderabbitai[bot]",
        "comment_body": "_\ud83d\udca1 Verification agent_\n\n<details>\n<summary>\ud83e\udde9 Analysis chain</summary>\n\n**Approve the development branch dependency for queue library enhancements.**\n\nThe switch to the development branch `dev-PLA-2762-2` is appropriate for implementing the graceful shutdown functionality. The alias `as 0.10.0` maintains semantic versioning compatibility.\n\n\n\n\nPlease ensure there's a plan to switch back to a stable release once the queue library changes are officially released:\n\n---\n\n\ud83c\udfc1 Script executed:\n\n```shell\n#!/bin/bash\n# Description: Check if there are any TODOs or tracking issues for reverting to stable release\nrg -i \"todo.*queue|fixme.*queue|pla-2762\" --type json --type php --type md\n```\n\nLength of output: 350\n\n---\n\n\n\n</details>\n\n**Add explicit revert tracking for the development dependency**\n\nNo TODOs or issue references were found for reverting `utopia-php/queue` from `dev-PLA-2762-2` back to a stable release. Please add one to ensure we don\u2019t forget to switch off this branch once v0.10.x is officially released:\n\n\u2022 In composer.json (around line 70), insert a comment such as:  \n```json\n// TODO (PLA-2762): revert to \"utopia-php/queue\": \"0.10.*\" once the graceful-shutdown feature ships\n\"utopia-php/queue\": \"dev-PLA-2762-2 as 0.10.0\",\n```  \n\u2022 Optionally, create a corresponding issue in your tracker (e.g., PLA-2762) and link it here.\n\n<details>\n<summary>\ud83e\udd16 Prompt for AI Agents</summary>\n\n```\nIn composer.json at line 70, add a TODO comment above the \"utopia-php/queue\"\ndependency line to explicitly track reverting from the development branch\n\"dev-PLA-2762-2\" back to the stable \"0.10.*\" version once the graceful-shutdown\nfeature is released. This comment should reference the PLA-2762 issue for\nclarity and future tracking.\n```\n\n</details>\n\n<!-- This is an auto-generated comment by CodeRabbit -->\n\n\u2705 Addressed in commit fd7331e",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2113191326",
    "pr_number": 9764,
    "pr_file": "composer.json",
    "created_at": "2025-05-29T05:18:57+00:00",
    "commented_code": "\"utopia-php/vcs\": \"0.10.*\",\n         \"utopia-php/websocket\": \"0.3.*\",\n         \"matomo/device-detector\": \"6.1.*\",\n-        \"dragonmantank/cron-expression\": \"3.3.2\",\n-        \"phpmailer/phpmailer\": \"6.9.1\",\n-        \"chillerlan/php-qrcode\": \"4.3.4\",\n-        \"adhocore/jwt\": \"1.1.2\",\n+        \"dragonmantank/cron-expression\": \"^3.3.2\",\n+        \"phpmailer/phpmailer\": \"^6.9.1\",\n+        \"chillerlan/php-qrcode\": \"^4.3.4\",\n+        \"adhocore/jwt\": \"^1.1.2\",",
    "repo_full_name": "appwrite/appwrite",
    "discussion_comments": [
      {
        "comment_id": "2113191326",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 9764,
        "pr_file": "composer.json",
        "discussion_id": "2113191326",
        "commented_code": "@@ -76,10 +76,10 @@\n         \"utopia-php/vcs\": \"0.10.*\",\n         \"utopia-php/websocket\": \"0.3.*\",\n         \"matomo/device-detector\": \"6.1.*\",\n-        \"dragonmantank/cron-expression\": \"3.3.2\",\n-        \"phpmailer/phpmailer\": \"6.9.1\",\n-        \"chillerlan/php-qrcode\": \"4.3.4\",\n-        \"adhocore/jwt\": \"1.1.2\",\n+        \"dragonmantank/cron-expression\": \"^3.3.2\",\n+        \"phpmailer/phpmailer\": \"^6.9.1\",\n+        \"chillerlan/php-qrcode\": \"^4.3.4\",\n+        \"adhocore/jwt\": \"^1.1.2\",",
        "comment_created_at": "2025-05-29T05:18:57+00:00",
        "comment_author": "abnegate",
        "comment_body": "Let's pin to latest minor if we want to update",
        "pr_file_module": null
      },
      {
        "comment_id": "2113197134",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 9764,
        "pr_file": "composer.json",
        "discussion_id": "2113191326",
        "commented_code": "@@ -76,10 +76,10 @@\n         \"utopia-php/vcs\": \"0.10.*\",\n         \"utopia-php/websocket\": \"0.3.*\",\n         \"matomo/device-detector\": \"6.1.*\",\n-        \"dragonmantank/cron-expression\": \"3.3.2\",\n-        \"phpmailer/phpmailer\": \"6.9.1\",\n-        \"chillerlan/php-qrcode\": \"4.3.4\",\n-        \"adhocore/jwt\": \"1.1.2\",\n+        \"dragonmantank/cron-expression\": \"^3.3.2\",\n+        \"phpmailer/phpmailer\": \"^6.9.1\",\n+        \"chillerlan/php-qrcode\": \"^4.3.4\",\n+        \"adhocore/jwt\": \"^1.1.2\",",
        "comment_created_at": "2025-05-29T05:25:09+00:00",
        "comment_author": "lohanidamodar",
        "comment_body": "`composer validator` failed with the pin",
        "pr_file_module": null
      },
      {
        "comment_id": "2113199774",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 9764,
        "pr_file": "composer.json",
        "discussion_id": "2113191326",
        "commented_code": "@@ -76,10 +76,10 @@\n         \"utopia-php/vcs\": \"0.10.*\",\n         \"utopia-php/websocket\": \"0.3.*\",\n         \"matomo/device-detector\": \"6.1.*\",\n-        \"dragonmantank/cron-expression\": \"3.3.2\",\n-        \"phpmailer/phpmailer\": \"6.9.1\",\n-        \"chillerlan/php-qrcode\": \"4.3.4\",\n-        \"adhocore/jwt\": \"1.1.2\",\n+        \"dragonmantank/cron-expression\": \"^3.3.2\",\n+        \"phpmailer/phpmailer\": \"^6.9.1\",\n+        \"chillerlan/php-qrcode\": \"^4.3.4\",\n+        \"adhocore/jwt\": \"^1.1.2\",",
        "comment_created_at": "2025-05-29T05:27:44+00:00",
        "comment_author": "lohanidamodar",
        "comment_body": "https://github.com/appwrite/appwrite/actions/runs/15267264936/job/42935080802?pr=9764\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2113203159",
        "repo_full_name": "appwrite/appwrite",
        "pr_number": 9764,
        "pr_file": "composer.json",
        "discussion_id": "2113191326",
        "commented_code": "@@ -76,10 +76,10 @@\n         \"utopia-php/vcs\": \"0.10.*\",\n         \"utopia-php/websocket\": \"0.3.*\",\n         \"matomo/device-detector\": \"6.1.*\",\n-        \"dragonmantank/cron-expression\": \"3.3.2\",\n-        \"phpmailer/phpmailer\": \"6.9.1\",\n-        \"chillerlan/php-qrcode\": \"4.3.4\",\n-        \"adhocore/jwt\": \"1.1.2\",\n+        \"dragonmantank/cron-expression\": \"^3.3.2\",\n+        \"phpmailer/phpmailer\": \"^6.9.1\",\n+        \"chillerlan/php-qrcode\": \"^4.3.4\",\n+        \"adhocore/jwt\": \"^1.1.2\",",
        "comment_created_at": "2025-05-29T05:31:03+00:00",
        "comment_author": "abnegate",
        "comment_body": "We can just pin minor versions and it will work, `3.3.*` etc",
        "pr_file_module": null
      }
    ]
  }
]