[
  {
    "discussion_id": "2074340715",
    "pr_number": 22572,
    "pr_file": "resource_customizations/argoproj.io/Application/actions/toggle-auto-sync/action.lua",
    "created_at": "2025-05-05T22:51:56+00:00",
    "commented_code": "+function toggleAutoSync(obj)\n+    if obj.spec.syncPolicy and obj.spec.syncPolicy.automated then\n+        obj.spec.syncPolicy.automated = nil",
    "repo_full_name": "argoproj/argo-cd",
    "discussion_comments": [
      {
        "comment_id": "2074340715",
        "repo_full_name": "argoproj/argo-cd",
        "pr_number": 22572,
        "pr_file": "resource_customizations/argoproj.io/Application/actions/toggle-auto-sync/action.lua",
        "discussion_id": "2074340715",
        "commented_code": "@@ -0,0 +1,18 @@\n+function toggleAutoSync(obj)\n+    if obj.spec.syncPolicy and obj.spec.syncPolicy.automated then\n+        obj.spec.syncPolicy.automated = nil",
        "comment_created_at": "2025-05-05T22:51:56+00:00",
        "comment_author": "agaudreault",
        "comment_body": "Missing a check to set `obj.spec.syncPolicy.automated.enabled = false` if it is currently true",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1801314795",
    "pr_number": 20097,
    "pr_file": "resource_customizations/apps/DaemonSet/actions/discovery.lua",
    "created_at": "2024-10-15T14:39:29+00:00",
    "commented_code": "local actions = {}\n actions[\"restart\"] = {}\n+actions[\"scale\"] = {[\"defaultValue\"] = tostring(obj.spec.replicas), [\"hasParameters\"] = true, [\"errorMessage\"] = \"Enter any valid number\", [\"regexp\"] = \"^[0-9]*$\"}",
    "repo_full_name": "argoproj/argo-cd",
    "discussion_comments": [
      {
        "comment_id": "1801314795",
        "repo_full_name": "argoproj/argo-cd",
        "pr_number": 20097,
        "pr_file": "resource_customizations/apps/DaemonSet/actions/discovery.lua",
        "discussion_id": "1801314795",
        "commented_code": "@@ -1,3 +1,4 @@\n local actions = {}\n actions[\"restart\"] = {}\n+actions[\"scale\"] = {[\"defaultValue\"] = tostring(obj.spec.replicas), [\"hasParameters\"] = true, [\"errorMessage\"] = \"Enter any valid number\", [\"regexp\"] = \"^[0-9]*$\"}",
        "comment_created_at": "2024-10-15T14:39:29+00:00",
        "comment_author": "reggie-k",
        "comment_body": "Looks like the scale action is not relevant for Daemon Sets, since they operate on NodeSelectors.",
        "pr_file_module": null
      },
      {
        "comment_id": "1807933375",
        "repo_full_name": "argoproj/argo-cd",
        "pr_number": 20097,
        "pr_file": "resource_customizations/apps/DaemonSet/actions/discovery.lua",
        "discussion_id": "1801314795",
        "commented_code": "@@ -1,3 +1,4 @@\n local actions = {}\n actions[\"restart\"] = {}\n+actions[\"scale\"] = {[\"defaultValue\"] = tostring(obj.spec.replicas), [\"hasParameters\"] = true, [\"errorMessage\"] = \"Enter any valid number\", [\"regexp\"] = \"^[0-9]*$\"}",
        "comment_created_at": "2024-10-20T20:05:18+00:00",
        "comment_author": "ratulbasak",
        "comment_body": "removed DaemonSet scale action",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1987741423",
    "pr_number": 22260,
    "pr_file": "go.mod",
    "created_at": "2025-03-10T17:33:42+00:00",
    "commented_code": "k8s.io/gengo/v2 v2.0.0-20240911193312-2b36238f13e9 // indirect\n \tk8s.io/kube-aggregator v0.32.2 // indirect\n \tk8s.io/kubernetes v1.32.2 // indirect\n-\tnhooyr.io/websocket v1.8.7 // indirect\n \tsigs.k8s.io/json v0.0.0-20241010143419-9aa6b5e7a4b3 // indirect\n \tsigs.k8s.io/kustomize/api v0.18.0 // indirect\n \tsigs.k8s.io/kustomize/kyaml v0.18.1 // indirect\n )\n \n replace (\n+\t// andrii-korotkov-verkada replaces are for libraries deps updates and are hopefully temporary until lib maintainers accept the patches\n \tgithub.com/golang/protobuf => github.com/golang/protobuf v1.5.4\n+\tgithub.com/google/go-jsonnet => github.com/andrii-korotkov-verkada/go-jsonnet v0.0.0-20250308155707-03f98b787f0e\n \tgithub.com/grpc-ecosystem/grpc-gateway => github.com/grpc-ecosystem/grpc-gateway v1.16.0\n+\tgithub.com/improbable-eng/grpc-web => github.com/andrii-korotkov-verkada/grpc-web v0.0.0-20250308221419-d37df84c6882\n+\tgithub.com/olekukonko/tablewriter => github.com/andrii-korotkov-verkada/tablewriter v0.0.0-20250308155854-8571ed54aa92\n+\tgithub.com/r3labs/diff/v3 => github.com/andrii-korotkov-verkada/diff/v3 v3.0.0-20250308155935-ef18f9606732\n+\tgithub.com/soheilhy/cmux => github.com/andrii-korotkov-verkada/cmux v0.0.0-20250308160011-2ab3fff3705c",
    "repo_full_name": "argoproj/argo-cd",
    "discussion_comments": [
      {
        "comment_id": "1987741423",
        "repo_full_name": "argoproj/argo-cd",
        "pr_number": 22260,
        "pr_file": "go.mod",
        "discussion_id": "1987741423",
        "commented_code": "@@ -283,15 +284,20 @@ require (\n \tk8s.io/gengo/v2 v2.0.0-20240911193312-2b36238f13e9 // indirect\n \tk8s.io/kube-aggregator v0.32.2 // indirect\n \tk8s.io/kubernetes v1.32.2 // indirect\n-\tnhooyr.io/websocket v1.8.7 // indirect\n \tsigs.k8s.io/json v0.0.0-20241010143419-9aa6b5e7a4b3 // indirect\n \tsigs.k8s.io/kustomize/api v0.18.0 // indirect\n \tsigs.k8s.io/kustomize/kyaml v0.18.1 // indirect\n )\n \n replace (\n+\t// andrii-korotkov-verkada replaces are for libraries deps updates and are hopefully temporary until lib maintainers accept the patches\n \tgithub.com/golang/protobuf => github.com/golang/protobuf v1.5.4\n+\tgithub.com/google/go-jsonnet => github.com/andrii-korotkov-verkada/go-jsonnet v0.0.0-20250308155707-03f98b787f0e\n \tgithub.com/grpc-ecosystem/grpc-gateway => github.com/grpc-ecosystem/grpc-gateway v1.16.0\n+\tgithub.com/improbable-eng/grpc-web => github.com/andrii-korotkov-verkada/grpc-web v0.0.0-20250308221419-d37df84c6882\n+\tgithub.com/olekukonko/tablewriter => github.com/andrii-korotkov-verkada/tablewriter v0.0.0-20250308155854-8571ed54aa92\n+\tgithub.com/r3labs/diff/v3 => github.com/andrii-korotkov-verkada/diff/v3 v3.0.0-20250308155935-ef18f9606732\n+\tgithub.com/soheilhy/cmux => github.com/andrii-korotkov-verkada/cmux v0.0.0-20250308160011-2ab3fff3705c",
        "comment_created_at": "2025-03-10T17:33:42+00:00",
        "comment_author": "crenshaw-dev",
        "comment_body": "I really don't think we should do this. imo using a fork of a lightly-maintained library is worse than just using the lightly-maintained library.",
        "pr_file_module": null
      }
    ]
  }
]