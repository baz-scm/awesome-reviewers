[
  {
    "discussion_id": "2139151065",
    "pr_number": 50539,
    "pr_file": "eng/scripts/Language-Settings.ps1",
    "created_at": "2025-06-11T04:08:56+00:00",
    "commented_code": "# Save-Package-Properties.ps1\n  $shouldAddDevVersion = Get-Variable -Name 'addDevVersion' -ValueOnly -ErrorAction 'Ignore'\n  $ServiceProj = Join-Path -Path $EngDir -ChildPath \"service.proj\"\n  Write-Host \"dotnet msbuild /nologo /t:GetPackageInfo \"\"$ServiceProj\"\" /p:ServiceDirectory=$serviceDirectory /p:AddDevVersion=$shouldAddDevVersion -tl:off\"\n  $outputFilePath = Join-Path ([System.IO.Path]::GetTempPath()) \"package-info-$([System.Guid]::NewGuid()).txt\"\n  \n  Write-Host \"dotnet msbuild /nologo /t:GetPackageInfo \"\"$ServiceProj\"\" /p:ServiceDirectory=$serviceDirectory /p:AddDevVersion=$shouldAddDevVersion /p:OutputProjectInfoListFilePath=\"\"$outputFilePath\"\" -tl:off\"\n\n  $msbuildOutput = dotnet msbuild `",
    "repo_full_name": "Azure/azure-sdk-for-net",
    "discussion_comments": [
      {
        "comment_id": "2139151065",
        "repo_full_name": "Azure/azure-sdk-for-net",
        "pr_number": 50539,
        "pr_file": "eng/scripts/Language-Settings.ps1",
        "discussion_id": "2139151065",
        "commented_code": "@@ -16,17 +16,27 @@ function Get-AllPackageInfoFromRepo($serviceDirectory)\n   # Save-Package-Properties.ps1\n   $shouldAddDevVersion = Get-Variable -Name 'addDevVersion' -ValueOnly -ErrorAction 'Ignore'\n   $ServiceProj = Join-Path -Path $EngDir -ChildPath \"service.proj\"\n-  Write-Host \"dotnet msbuild /nologo /t:GetPackageInfo \"\"$ServiceProj\"\" /p:ServiceDirectory=$serviceDirectory /p:AddDevVersion=$shouldAddDevVersion -tl:off\"\n+  $outputFilePath = Join-Path ([System.IO.Path]::GetTempPath()) \"package-info-$([System.Guid]::NewGuid()).txt\"\n+  \n+  Write-Host \"dotnet msbuild /nologo /t:GetPackageInfo \"\"$ServiceProj\"\" /p:ServiceDirectory=$serviceDirectory /p:AddDevVersion=$shouldAddDevVersion /p:OutputProjectInfoListFilePath=\"\"$outputFilePath\"\" -tl:off\"\n \n   $msbuildOutput = dotnet msbuild `",
        "comment_created_at": "2025-06-11T04:08:56+00:00",
        "comment_author": "weshaggard",
        "comment_body": "@copilot please remove the $msbuildOutput variable as it is no longer used. Also add error handling to fail if this msbuild call fails. ",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2139217607",
    "pr_number": 50539,
    "pr_file": "eng/scripts/Language-Settings.ps1",
    "created_at": "2025-06-11T05:18:29+00:00",
    "commented_code": "# Save-Package-Properties.ps1\n  $shouldAddDevVersion = Get-Variable -Name 'addDevVersion' -ValueOnly -ErrorAction 'Ignore'\n  $ServiceProj = Join-Path -Path $EngDir -ChildPath \"service.proj\"\n  Write-Host \"dotnet msbuild /nologo /t:GetPackageInfo \"\"$ServiceProj\"\" /p:ServiceDirectory=$serviceDirectory /p:AddDevVersion=$shouldAddDevVersion -tl:off\"\n  $outputFilePath = Join-Path ([System.IO.Path]::GetTempPath()) \"package-info-$([System.Guid]::NewGuid()).txt\"",
    "repo_full_name": "Azure/azure-sdk-for-net",
    "discussion_comments": [
      {
        "comment_id": "2139217607",
        "repo_full_name": "Azure/azure-sdk-for-net",
        "pr_number": 50539,
        "pr_file": "eng/scripts/Language-Settings.ps1",
        "discussion_id": "2139217607",
        "commented_code": "@@ -16,22 +16,41 @@ function Get-AllPackageInfoFromRepo($serviceDirectory)\n   # Save-Package-Properties.ps1\n   $shouldAddDevVersion = Get-Variable -Name 'addDevVersion' -ValueOnly -ErrorAction 'Ignore'\n   $ServiceProj = Join-Path -Path $EngDir -ChildPath \"service.proj\"\n-  Write-Host \"dotnet msbuild /nologo /t:GetPackageInfo \"\"$ServiceProj\"\" /p:ServiceDirectory=$serviceDirectory /p:AddDevVersion=$shouldAddDevVersion -tl:off\"\n+  $outputFilePath = Join-Path ([System.IO.Path]::GetTempPath()) \"package-info-$([System.Guid]::NewGuid()).txt\"",
        "comment_created_at": "2025-06-11T05:18:29+00:00",
        "comment_author": "weshaggard",
        "comment_body": "@copilot this function is somehow causing an empty string to be added to the returned array of objects. What change do you think caused it to add an empty string to the object pipeline?",
        "pr_file_module": null
      },
      {
        "comment_id": "2139233160",
        "repo_full_name": "Azure/azure-sdk-for-net",
        "pr_number": 50539,
        "pr_file": "eng/scripts/Language-Settings.ps1",
        "discussion_id": "2139217607",
        "commented_code": "@@ -16,22 +16,41 @@ function Get-AllPackageInfoFromRepo($serviceDirectory)\n   # Save-Package-Properties.ps1\n   $shouldAddDevVersion = Get-Variable -Name 'addDevVersion' -ValueOnly -ErrorAction 'Ignore'\n   $ServiceProj = Join-Path -Path $EngDir -ChildPath \"service.proj\"\n-  Write-Host \"dotnet msbuild /nologo /t:GetPackageInfo \"\"$ServiceProj\"\" /p:ServiceDirectory=$serviceDirectory /p:AddDevVersion=$shouldAddDevVersion -tl:off\"\n+  $outputFilePath = Join-Path ([System.IO.Path]::GetTempPath()) \"package-info-$([System.Guid]::NewGuid()).txt\"",
        "comment_created_at": "2025-06-11T05:26:44+00:00",
        "comment_author": "weshaggard",
        "comment_body": "I don't think that is the error because the loop skips any lines that are empty and do not parse correctly. There must be some other part of this function that is writing to the powershell object pipeline. Does the msbuild call or the remove-item return an object that could be an empty string?\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2140451115",
        "repo_full_name": "Azure/azure-sdk-for-net",
        "pr_number": 50539,
        "pr_file": "eng/scripts/Language-Settings.ps1",
        "discussion_id": "2139217607",
        "commented_code": "@@ -16,22 +16,41 @@ function Get-AllPackageInfoFromRepo($serviceDirectory)\n   # Save-Package-Properties.ps1\n   $shouldAddDevVersion = Get-Variable -Name 'addDevVersion' -ValueOnly -ErrorAction 'Ignore'\n   $ServiceProj = Join-Path -Path $EngDir -ChildPath \"service.proj\"\n-  Write-Host \"dotnet msbuild /nologo /t:GetPackageInfo \"\"$ServiceProj\"\" /p:ServiceDirectory=$serviceDirectory /p:AddDevVersion=$shouldAddDevVersion -tl:off\"\n+  $outputFilePath = Join-Path ([System.IO.Path]::GetTempPath()) \"package-info-$([System.Guid]::NewGuid()).txt\"",
        "comment_created_at": "2025-06-11T15:09:23+00:00",
        "comment_author": "weshaggard",
        "comment_body": "@copilot If we assign the dotnet msbuild command output to $null how will we see the errors that come out of that command if there are any?",
        "pr_file_module": null
      }
    ]
  }
]