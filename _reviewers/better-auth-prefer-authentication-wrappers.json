[
  {
    "discussion_id": "2161520500",
    "pr_number": 3146,
    "pr_file": "examples/nextjs-mcp/README.md",
    "created_at": "2025-06-23T12:36:28+00:00",
    "commented_code": "export const { GET, POST } = toNextJsHandler(auth);\n ```\n \n-Use `auth.api.getMcpSession` to get the session using the access token sent from the MCP client\n+You can use the helper function `withMcpAuth` to get the session and handle unauthenticated calls automatically.",
    "repo_full_name": "better-auth/better-auth",
    "discussion_comments": [
      {
        "comment_id": "2161520500",
        "repo_full_name": "better-auth/better-auth",
        "pr_number": 3146,
        "pr_file": "examples/nextjs-mcp/README.md",
        "discussion_id": "2161520500",
        "commented_code": "@@ -46,7 +46,7 @@ import { toNextJsHandler } from \"better-auth/next-js\";\n export const { GET, POST } = toNextJsHandler(auth);\n ```\n \n-Use `auth.api.getMcpSession` to get the session using the access token sent from the MCP client\n+You can use the helper function `withMcpAuth` to get the session and handle unauthenticated calls automatically.",
        "comment_created_at": "2025-06-23T12:36:28+00:00",
        "comment_author": "lakbychance",
        "comment_body": "The below code is using `withMcpAuth` HOF and not `auth.api.getMcpSession` in the handler.",
        "pr_file_module": null
      }
    ]
  }
]