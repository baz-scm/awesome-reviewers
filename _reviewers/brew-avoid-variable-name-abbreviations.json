[
  {
    "discussion_id": "1417948212",
    "pr_number": 16289,
    "pr_file": "Library/Homebrew/utils/url.sh",
    "created_at": "2023-12-06T20:34:29+00:00",
    "commented_code": "+# url_get <URL> [key] [key] ...\n+# where:\n+#   URL ~ [scheme://][user[:pass]@]host[:port][path]\n+#   key is one of the element composing the URL\n+url_get() {\n+  [[ ${#} -gt 0 ]] || return\n+\n+  local url=\"${1}\"\n+  [[ -z \"${url}\" ]] && return\n+  shift\n+\n+  local _uphpp=\"${url#*://}\"",
    "repo_full_name": "Homebrew/brew",
    "discussion_comments": [
      {
        "comment_id": "1417948212",
        "repo_full_name": "Homebrew/brew",
        "pr_number": 16289,
        "pr_file": "Library/Homebrew/utils/url.sh",
        "discussion_id": "1417948212",
        "commented_code": "@@ -0,0 +1,53 @@\n+# url_get <URL> [key] [key] ...\n+# where:\n+#   URL ~ [scheme://][user[:pass]@]host[:port][path]\n+#   key is one of the element composing the URL\n+url_get() {\n+  [[ ${#} -gt 0 ]] || return\n+\n+  local url=\"${1}\"\n+  [[ -z \"${url}\" ]] && return\n+  shift\n+\n+  local _uphpp=\"${url#*://}\"",
        "comment_created_at": "2023-12-06T20:34:29+00:00",
        "comment_author": "MikeMcQuaid",
        "comment_body": "No idea what `uphpp` means. Please use longer variable names.",
        "pr_file_module": null
      },
      {
        "comment_id": "1418518329",
        "repo_full_name": "Homebrew/brew",
        "pr_number": 16289,
        "pr_file": "Library/Homebrew/utils/url.sh",
        "discussion_id": "1417948212",
        "commented_code": "@@ -0,0 +1,53 @@\n+# url_get <URL> [key] [key] ...\n+# where:\n+#   URL ~ [scheme://][user[:pass]@]host[:port][path]\n+#   key is one of the element composing the URL\n+url_get() {\n+  [[ ${#} -gt 0 ]] || return\n+\n+  local url=\"${1}\"\n+  [[ -z \"${url}\" ]] && return\n+  shift\n+\n+  local _uphpp=\"${url#*://}\"",
        "comment_created_at": "2023-12-07T07:53:36+00:00",
        "comment_author": "sazriel26",
        "comment_body": "Yes these are internal variables only for intermediate operations (here `uphpp` is for collecting user-pass-host-port-path of the original URL before parsing)\r\n\r\nIn fact, the main variables are:\r\n* `_scheme`\r\n* `_user`\r\n* `_pass`\r\n* `_host`\r\n* `_port`\r\n* `_path` (even if it includes additional elements like arguments)\r\n",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1774720215",
    "pr_number": 18402,
    "pr_file": "Library/Homebrew/tap.sh",
    "created_at": "2024-09-25T07:49:22+00:00",
    "commented_code": "+# Does the quickest output of brew tap possible for no arguments.\n+# HOMEBREW_LIBRARY is set by bin/brew\n+# shellcheck disable=SC2154\n+\n+normalise_tap_name() {\n+  local dir=\"$1\"\n+  local user\n+  local repo\n+\n+  user=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir%%/*}\")\"\n+  repo=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir#*/}\")\"\n+  repo=\"${repo#@(home|linux)brew-}\"\n+  echo \"${user}/${repo}\"",
    "repo_full_name": "Homebrew/brew",
    "discussion_comments": [
      {
        "comment_id": "1774720215",
        "repo_full_name": "Homebrew/brew",
        "pr_number": 18402,
        "pr_file": "Library/Homebrew/tap.sh",
        "discussion_id": "1774720215",
        "commented_code": "@@ -0,0 +1,28 @@\n+# Does the quickest output of brew tap possible for no arguments.\n+# HOMEBREW_LIBRARY is set by bin/brew\n+# shellcheck disable=SC2154\n+\n+normalise_tap_name() {\n+  local dir=\"$1\"\n+  local user\n+  local repo\n+\n+  user=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir%%/*}\")\"\n+  repo=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir#*/}\")\"\n+  repo=\"${repo#@(home|linux)brew-}\"\n+  echo \"${user}/${repo}\"",
        "comment_created_at": "2024-09-25T07:49:22+00:00",
        "comment_author": "MikeMcQuaid",
        "comment_body": "```suggestion\r\n  repository=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir#*/}\")\"\r\n  repository=\"${repository#@(home|linux)brew-}\"\r\n  echo \"${user}/${repository}\"\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1774720960",
    "pr_number": 18402,
    "pr_file": "Library/Homebrew/tap.sh",
    "created_at": "2024-09-25T07:49:49+00:00",
    "commented_code": "+# Does the quickest output of brew tap possible for no arguments.\n+# HOMEBREW_LIBRARY is set by bin/brew\n+# shellcheck disable=SC2154\n+\n+normalise_tap_name() {\n+  local dir=\"$1\"\n+  local user\n+  local repo\n+\n+  user=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir%%/*}\")\"\n+  repo=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir#*/}\")\"",
    "repo_full_name": "Homebrew/brew",
    "discussion_comments": [
      {
        "comment_id": "1774720960",
        "repo_full_name": "Homebrew/brew",
        "pr_number": 18402,
        "pr_file": "Library/Homebrew/tap.sh",
        "discussion_id": "1774720960",
        "commented_code": "@@ -0,0 +1,28 @@\n+# Does the quickest output of brew tap possible for no arguments.\n+# HOMEBREW_LIBRARY is set by bin/brew\n+# shellcheck disable=SC2154\n+\n+normalise_tap_name() {\n+  local dir=\"$1\"\n+  local user\n+  local repo\n+\n+  user=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir%%/*}\")\"\n+  repo=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir#*/}\")\"",
        "comment_created_at": "2024-09-25T07:49:49+00:00",
        "comment_author": "MikeMcQuaid",
        "comment_body": "```suggestion\r\n  user=\"$(tr '[:upper:]' '[:lower:]' <<<\"${directory%%/*}\")\"\r\n  repo=\"$(tr '[:upper:]' '[:lower:]' <<<\"${directory#*/}\")\"\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1774826355",
    "pr_number": 18402,
    "pr_file": "Library/Homebrew/tap.sh",
    "created_at": "2024-09-25T08:47:09+00:00",
    "commented_code": "+# Does the quickest output of brew tap possible for no arguments.\n+# HOMEBREW_LIBRARY is set by bin/brew\n+# shellcheck disable=SC2154\n+\n+normalise_tap_name() {\n+  local dir=\"$1\"\n+  local user\n+  local repo\n+\n+  user=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir%%/*}\")\"\n+  repo=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir#*/}\")\"\n+  repo=\"${repo#@(home|linux)brew-}\"\n+  echo \"${user}/${repo}\"\n+}\n+\n+homebrew-tap() {\n+  local taplib=\"${HOMEBREW_LIBRARY}/Taps\"\n+  (\n+    shopt -s extglob\n+\n+    for dir in \"${taplib}\"/*/*\n+    do\n+      [[ -d \"${dir}\" ]] || continue\n+      dir=\"${dir#\"${taplib}\"/}\"\n+      normalise_tap_name \"${dir}\"",
    "repo_full_name": "Homebrew/brew",
    "discussion_comments": [
      {
        "comment_id": "1774826355",
        "repo_full_name": "Homebrew/brew",
        "pr_number": 18402,
        "pr_file": "Library/Homebrew/tap.sh",
        "discussion_id": "1774826355",
        "commented_code": "@@ -0,0 +1,28 @@\n+# Does the quickest output of brew tap possible for no arguments.\n+# HOMEBREW_LIBRARY is set by bin/brew\n+# shellcheck disable=SC2154\n+\n+normalise_tap_name() {\n+  local dir=\"$1\"\n+  local user\n+  local repo\n+\n+  user=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir%%/*}\")\"\n+  repo=\"$(tr '[:upper:]' '[:lower:]' <<<\"${dir#*/}\")\"\n+  repo=\"${repo#@(home|linux)brew-}\"\n+  echo \"${user}/${repo}\"\n+}\n+\n+homebrew-tap() {\n+  local taplib=\"${HOMEBREW_LIBRARY}/Taps\"\n+  (\n+    shopt -s extglob\n+\n+    for dir in \"${taplib}\"/*/*\n+    do\n+      [[ -d \"${dir}\" ]] || continue\n+      dir=\"${dir#\"${taplib}\"/}\"\n+      normalise_tap_name \"${dir}\"",
        "comment_created_at": "2024-09-25T08:47:09+00:00",
        "comment_author": "ZhongRuoyu",
        "comment_body": "```suggestion\r\n    for directory in \"${taplib}\"/*/*\r\n    do\r\n      [[ -d \"${directory}\" ]] || continue\r\n      normalise_tap_name \"${directory#\"${taplib}\"/}\"\r\n```\r\n",
        "pr_file_module": null
      }
    ]
  }
]