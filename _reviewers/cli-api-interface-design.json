[
  {
    "discussion_id": "994345634",
    "pr_number": 4126,
    "pr_file": "cliv2/cmd/cliv2/main.go",
    "created_at": "2022-10-13T08:46:33+00:00",
    "commented_code": "}\n \n \t// run the cli\n-\terr = cli.Execute(port, wrapperProxy.CertificateLocation, args)\n+\tproxyInfo := wrapperProxy.ProxyInfo()\n+\terr = cli.Execute(proxyInfo, wrapperProxy.CertificateLocation, args)",
    "repo_full_name": "snyk/cli",
    "discussion_comments": [
      {
        "comment_id": "994345634",
        "repo_full_name": "snyk/cli",
        "pr_number": 4126,
        "pr_file": "cliv2/cmd/cliv2/main.go",
        "discussion_id": "994345634",
        "commented_code": "@@ -149,7 +149,8 @@ func MainWithErrorCode(envVariables EnvironmentVariables, args []string) int {\n \t}\n \n \t// run the cli\n-\terr = cli.Execute(port, wrapperProxy.CertificateLocation, args)\n+\tproxyInfo := wrapperProxy.ProxyInfo()\n+\terr = cli.Execute(proxyInfo, wrapperProxy.CertificateLocation, args)",
        "comment_created_at": "2022-10-13T08:46:33+00:00",
        "comment_author": "PeterSchafer",
        "comment_body": "Suggestion: How about adding the CertificateLocation to ProxyInfo and thereby reducing the interface here.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "926819689",
    "pr_number": 3430,
    "pr_file": "cliv2/internal/httpauth/httpauth.go",
    "created_at": "2022-07-21T15:23:33+00:00",
    "commented_code": "package httpauth\n \n import (\n-\t\"net/http\"\n+\t\"fmt\"\n+\t\"io\"\n+\t\"log\"\n \t\"net/url\"\n-\n-\t\"github.com/dpotapov/go-spnego\"\n )\n \n-type AuthenticationMechanism int\n+type AuthenticationMechanism string\n+type AuthenticationState int\n+\n+const maxCycleCount int = 10\n+\n+const (\n+\tNoAuth           AuthenticationMechanism = \"NoAuth\"\n+\tMock             AuthenticationMechanism = \"Mock\"\n+\tNegotiate        AuthenticationMechanism = \"Negotiate\"\n+\tUnknownMechanism AuthenticationMechanism = \"UnknownMechanism\"\n+)\n \n const (\n-\tNoAuth    AuthenticationMechanism = iota\n-\tMock      AuthenticationMechanism = iota\n-\tNegotiate AuthenticationMechanism = iota\n+\tInitial     AuthenticationState = iota\n+\tNegotiating AuthenticationState = iota\n+\tDone        AuthenticationState = iota\n+\tError       AuthenticationState = iota\n+\tCancel      AuthenticationState = iota\n+\tClose       AuthenticationState = iota\n )\n \n const (\n \tAuthorizationKey      string = \"Authorization\"\n \tProxyAuthorizationKey string = \"Proxy-Authorization\"\n+\tProxyAuthenticateKey  string = \"Proxy-Authenticate\"\n )\n \n+type AuthenticationHandlerInterface interface {",
    "repo_full_name": "snyk/cli",
    "discussion_comments": [
      {
        "comment_id": "926819689",
        "repo_full_name": "snyk/cli",
        "pr_number": 3430,
        "pr_file": "cliv2/internal/httpauth/httpauth.go",
        "discussion_id": "926819689",
        "commented_code": "@@ -1,68 +1,140 @@\n package httpauth\n \n import (\n-\t\"net/http\"\n+\t\"fmt\"\n+\t\"io\"\n+\t\"log\"\n \t\"net/url\"\n-\n-\t\"github.com/dpotapov/go-spnego\"\n )\n \n-type AuthenticationMechanism int\n+type AuthenticationMechanism string\n+type AuthenticationState int\n+\n+const maxCycleCount int = 10\n+\n+const (\n+\tNoAuth           AuthenticationMechanism = \"NoAuth\"\n+\tMock             AuthenticationMechanism = \"Mock\"\n+\tNegotiate        AuthenticationMechanism = \"Negotiate\"\n+\tUnknownMechanism AuthenticationMechanism = \"UnknownMechanism\"\n+)\n \n const (\n-\tNoAuth    AuthenticationMechanism = iota\n-\tMock      AuthenticationMechanism = iota\n-\tNegotiate AuthenticationMechanism = iota\n+\tInitial     AuthenticationState = iota\n+\tNegotiating AuthenticationState = iota\n+\tDone        AuthenticationState = iota\n+\tError       AuthenticationState = iota\n+\tCancel      AuthenticationState = iota\n+\tClose       AuthenticationState = iota\n )\n \n const (\n \tAuthorizationKey      string = \"Authorization\"\n \tProxyAuthorizationKey string = \"Proxy-Authorization\"\n+\tProxyAuthenticateKey  string = \"Proxy-Authenticate\"\n )\n \n+type AuthenticationHandlerInterface interface {",
        "comment_created_at": "2022-07-21T15:23:33+00:00",
        "comment_author": "maxjeffos",
        "comment_body": "question: is this interface really required?",
        "pr_file_module": null
      },
      {
        "comment_id": "926897413",
        "repo_full_name": "snyk/cli",
        "pr_number": 3430,
        "pr_file": "cliv2/internal/httpauth/httpauth.go",
        "discussion_id": "926819689",
        "commented_code": "@@ -1,68 +1,140 @@\n package httpauth\n \n import (\n-\t\"net/http\"\n+\t\"fmt\"\n+\t\"io\"\n+\t\"log\"\n \t\"net/url\"\n-\n-\t\"github.com/dpotapov/go-spnego\"\n )\n \n-type AuthenticationMechanism int\n+type AuthenticationMechanism string\n+type AuthenticationState int\n+\n+const maxCycleCount int = 10\n+\n+const (\n+\tNoAuth           AuthenticationMechanism = \"NoAuth\"\n+\tMock             AuthenticationMechanism = \"Mock\"\n+\tNegotiate        AuthenticationMechanism = \"Negotiate\"\n+\tUnknownMechanism AuthenticationMechanism = \"UnknownMechanism\"\n+)\n \n const (\n-\tNoAuth    AuthenticationMechanism = iota\n-\tMock      AuthenticationMechanism = iota\n-\tNegotiate AuthenticationMechanism = iota\n+\tInitial     AuthenticationState = iota\n+\tNegotiating AuthenticationState = iota\n+\tDone        AuthenticationState = iota\n+\tError       AuthenticationState = iota\n+\tCancel      AuthenticationState = iota\n+\tClose       AuthenticationState = iota\n )\n \n const (\n \tAuthorizationKey      string = \"Authorization\"\n \tProxyAuthorizationKey string = \"Proxy-Authorization\"\n+\tProxyAuthenticateKey  string = \"Proxy-Authenticate\"\n )\n \n+type AuthenticationHandlerInterface interface {",
        "comment_created_at": "2022-07-21T16:42:40+00:00",
        "comment_author": "PeterSchafer",
        "comment_body": "Without the interface it would be impossible to implement other authentication handlers in the future.",
        "pr_file_module": null
      }
    ]
  }
]