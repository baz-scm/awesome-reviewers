[
  {
    "discussion_id": "1524733016",
    "pr_number": 5093,
    "pr_file": ".circleci/config.yml",
    "created_at": "2024-03-14T12:12:30+00:00",
    "commented_code": "docker:\n       - image: bastiandoetsch209/cli-build:20240214-145818\n     working_directory: /mnt/ramdisk/snyk\n-    resource_class: large\n+    resource_class: xlarge",
    "repo_full_name": "snyk/cli",
    "discussion_comments": [
      {
        "comment_id": "1524733016",
        "repo_full_name": "snyk/cli",
        "pr_number": 5093,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1524733016",
        "commented_code": "@@ -48,7 +49,7 @@ executors:\n     docker:\n       - image: bastiandoetsch209/cli-build:20240214-145818\n     working_directory: /mnt/ramdisk/snyk\n-    resource_class: large\n+    resource_class: xlarge",
        "comment_created_at": "2024-03-14T12:12:30+00:00",
        "comment_author": "thisislawatts",
        "comment_body": "**Issue (blocking):** This will increase the resource size for **every** job that uses this executor, as we only need the additional resources to support the test cases lets override the resource_class only for the `acceptance-test` jobs that require it. ",
        "pr_file_module": null
      },
      {
        "comment_id": "1524932522",
        "repo_full_name": "snyk/cli",
        "pr_number": 5093,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1524733016",
        "commented_code": "@@ -48,7 +49,7 @@ executors:\n     docker:\n       - image: bastiandoetsch209/cli-build:20240214-145818\n     working_directory: /mnt/ramdisk/snyk\n-    resource_class: large\n+    resource_class: xlarge",
        "comment_created_at": "2024-03-14T13:59:13+00:00",
        "comment_author": "j-luong",
        "comment_body": "added an `xl` version of the executor which is used only in the relevant acceptance tests",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1519332999",
    "pr_number": 5098,
    "pr_file": ".circleci/config.yml",
    "created_at": "2024-03-11T08:48:24+00:00",
    "commented_code": "executor: docker-amd64\n     steps:\n       - prepare-workspace\n+      - shall-deploy:\n+          deployment: stable\n       - run:\n           name: Trigger build-and-publish workflow at snyk-images\n           command: ./release-scripts/upload-artifacts.sh trigger-snyk-images\n       - failed-release-notification\n+\n+  noop:\n+    executor: docker-amd64",
    "repo_full_name": "snyk/cli",
    "discussion_comments": [
      {
        "comment_id": "1519332999",
        "repo_full_name": "snyk/cli",
        "pr_number": 5098,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1519332999",
        "commented_code": "@@ -1205,7 +1255,16 @@ jobs:\n     executor: docker-amd64\n     steps:\n       - prepare-workspace\n+      - shall-deploy:\n+          deployment: stable\n       - run:\n           name: Trigger build-and-publish workflow at snyk-images\n           command: ./release-scripts/upload-artifacts.sh trigger-snyk-images\n       - failed-release-notification\n+\n+  noop:\n+    executor: docker-amd64",
        "comment_created_at": "2024-03-11T08:48:24+00:00",
        "comment_author": "thisislawatts",
        "comment_body": "**suggestion:** As this is a no-op consider using a smaller/cheaper job executor. Perhaps, docker image `cimg/base:current` with resource_class small.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1276056599",
    "pr_number": 4738,
    "pr_file": ".circleci/config.yml",
    "created_at": "2023-07-27T10:05:17+00:00",
    "commented_code": "version: '2.1'\n \n orbs:\n-  # https://circleci.com/developer/orbs/orb/circleci/windows\n-  win: circleci/windows@2.4.1\n-  # https://circleci.com/developer/orbs/orb/circleci/aws-cli\n+  prodsec: snyk/prodsec-orb@1.0\n+  snyk: snyk/snyk@1.7.0\n+  go: circleci/go@1.7.1\n+  win: circleci/windows@5.0\n   aws-cli: circleci/aws-cli@2.0.3\n-  # https://circleci.com/developer/orbs/orb/circleci/github-cli\n   gh: circleci/github-cli@2.1.0\n-  # https://circleci.com/developer/orbs/orb/circleci/go\n-  go: circleci/go@1.7.1\n-  # https://github.com/snyk/prodsec-orb\n-  prodsec: snyk/prodsec-orb@1.0\n-\n-parameters:\n-  aws_version:\n-    type: string\n-    # https://github.com/aws/aws-cli/blob/v2/CHANGELOG.rst\n-    default: '2.4.12'\n-  gh_version:\n-    type: string\n-    # https://github.com/cli/cli/releases\n-    default: '2.7.0'\n-  go_version:\n-    type: string\n-    # https://go.dev/doc/devel/release\n-    default: '1.20.5'\n \n executors:\n   alpine:\n     docker:\n       - image: alpine:3.17\n-  docker-node:\n+  docker-amd64:\n     docker:\n-      - image: bastiandoetsch209/cli-build:20230613-040119\n-    # Using RAM Disk. https://circleci.com/docs/2.0/executor-types/#ram-disks\n+      - image: bastiandoetsch209/cli-build:latest\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: large\n-  arm64:\n-    machine:\n-      image: ubuntu-2204:2023.02.1\n+  docker-arm64:\n+    docker:\n+      - image: bastiandoetsch209/cli-build-arm64:latest\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: arm.large\n-  linux:\n+  linux-amd64:\n     machine:\n       image: ubuntu-2204:2023.02.1\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: large\n-  macos:\n+  macos-amd64:\n     macos:\n       # https://circleci.com/docs/2.0/testing-ios/#supported-xcode-versions\n-      xcode: '13.3.0'\n+      xcode: '14.3.1'\n     resource_class: macos.x86.medium.gen2\n+  macos-arm64:\n+    macos:\n+      # https://circleci.com/docs/2.0/testing-ios/#supported-xcode-versions\n+      xcode: '14.3.1'\n+    resource_class: macos.m1.large.gen1\n \n commands:\n-  install_sdks_windows:\n+  install-deps-windows-full:",
    "repo_full_name": "snyk/cli",
    "discussion_comments": [
      {
        "comment_id": "1276056599",
        "repo_full_name": "snyk/cli",
        "pr_number": 4738,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1276056599",
        "commented_code": "@@ -1,276 +1,540 @@\n version: '2.1'\n \n orbs:\n-  # https://circleci.com/developer/orbs/orb/circleci/windows\n-  win: circleci/windows@2.4.1\n-  # https://circleci.com/developer/orbs/orb/circleci/aws-cli\n+  prodsec: snyk/prodsec-orb@1.0\n+  snyk: snyk/snyk@1.7.0\n+  go: circleci/go@1.7.1\n+  win: circleci/windows@5.0\n   aws-cli: circleci/aws-cli@2.0.3\n-  # https://circleci.com/developer/orbs/orb/circleci/github-cli\n   gh: circleci/github-cli@2.1.0\n-  # https://circleci.com/developer/orbs/orb/circleci/go\n-  go: circleci/go@1.7.1\n-  # https://github.com/snyk/prodsec-orb\n-  prodsec: snyk/prodsec-orb@1.0\n-\n-parameters:\n-  aws_version:\n-    type: string\n-    # https://github.com/aws/aws-cli/blob/v2/CHANGELOG.rst\n-    default: '2.4.12'\n-  gh_version:\n-    type: string\n-    # https://github.com/cli/cli/releases\n-    default: '2.7.0'\n-  go_version:\n-    type: string\n-    # https://go.dev/doc/devel/release\n-    default: '1.20.5'\n \n executors:\n   alpine:\n     docker:\n       - image: alpine:3.17\n-  docker-node:\n+  docker-amd64:\n     docker:\n-      - image: bastiandoetsch209/cli-build:20230613-040119\n-    # Using RAM Disk. https://circleci.com/docs/2.0/executor-types/#ram-disks\n+      - image: bastiandoetsch209/cli-build:latest\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: large\n-  arm64:\n-    machine:\n-      image: ubuntu-2204:2023.02.1\n+  docker-arm64:\n+    docker:\n+      - image: bastiandoetsch209/cli-build-arm64:latest\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: arm.large\n-  linux:\n+  linux-amd64:\n     machine:\n       image: ubuntu-2204:2023.02.1\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: large\n-  macos:\n+  macos-amd64:\n     macos:\n       # https://circleci.com/docs/2.0/testing-ios/#supported-xcode-versions\n-      xcode: '13.3.0'\n+      xcode: '14.3.1'\n     resource_class: macos.x86.medium.gen2\n+  macos-arm64:\n+    macos:\n+      # https://circleci.com/docs/2.0/testing-ios/#supported-xcode-versions\n+      xcode: '14.3.1'\n+    resource_class: macos.m1.large.gen1\n \n commands:\n-  install_sdks_windows:\n+  install-deps-windows-full:",
        "comment_created_at": "2023-07-27T10:05:17+00:00",
        "comment_author": "j-luong",
        "comment_body": "question: it looks like each windows command is a subset of `install-deps-windows-full`, so shouldn't caching mean we don't need multiple versions of this command?",
        "pr_file_module": null
      },
      {
        "comment_id": "1276074610",
        "repo_full_name": "snyk/cli",
        "pr_number": 4738,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1276056599",
        "commented_code": "@@ -1,276 +1,540 @@\n version: '2.1'\n \n orbs:\n-  # https://circleci.com/developer/orbs/orb/circleci/windows\n-  win: circleci/windows@2.4.1\n-  # https://circleci.com/developer/orbs/orb/circleci/aws-cli\n+  prodsec: snyk/prodsec-orb@1.0\n+  snyk: snyk/snyk@1.7.0\n+  go: circleci/go@1.7.1\n+  win: circleci/windows@5.0\n   aws-cli: circleci/aws-cli@2.0.3\n-  # https://circleci.com/developer/orbs/orb/circleci/github-cli\n   gh: circleci/github-cli@2.1.0\n-  # https://circleci.com/developer/orbs/orb/circleci/go\n-  go: circleci/go@1.7.1\n-  # https://github.com/snyk/prodsec-orb\n-  prodsec: snyk/prodsec-orb@1.0\n-\n-parameters:\n-  aws_version:\n-    type: string\n-    # https://github.com/aws/aws-cli/blob/v2/CHANGELOG.rst\n-    default: '2.4.12'\n-  gh_version:\n-    type: string\n-    # https://github.com/cli/cli/releases\n-    default: '2.7.0'\n-  go_version:\n-    type: string\n-    # https://go.dev/doc/devel/release\n-    default: '1.20.5'\n \n executors:\n   alpine:\n     docker:\n       - image: alpine:3.17\n-  docker-node:\n+  docker-amd64:\n     docker:\n-      - image: bastiandoetsch209/cli-build:20230613-040119\n-    # Using RAM Disk. https://circleci.com/docs/2.0/executor-types/#ram-disks\n+      - image: bastiandoetsch209/cli-build:latest\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: large\n-  arm64:\n-    machine:\n-      image: ubuntu-2204:2023.02.1\n+  docker-arm64:\n+    docker:\n+      - image: bastiandoetsch209/cli-build-arm64:latest\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: arm.large\n-  linux:\n+  linux-amd64:\n     machine:\n       image: ubuntu-2204:2023.02.1\n     working_directory: /mnt/ramdisk/snyk\n     resource_class: large\n-  macos:\n+  macos-amd64:\n     macos:\n       # https://circleci.com/docs/2.0/testing-ios/#supported-xcode-versions\n-      xcode: '13.3.0'\n+      xcode: '14.3.1'\n     resource_class: macos.x86.medium.gen2\n+  macos-arm64:\n+    macos:\n+      # https://circleci.com/docs/2.0/testing-ios/#supported-xcode-versions\n+      xcode: '14.3.1'\n+    resource_class: macos.m1.large.gen1\n \n commands:\n-  install_sdks_windows:\n+  install-deps-windows-full:",
        "comment_created_at": "2023-07-27T10:20:44+00:00",
        "comment_author": "PeterSchafer",
        "comment_body": "Caching only relates to the downloaded installers, they still need to be executed to install the applications. The different versions of the command install different subsets of the tools for efficiency reasons.",
        "pr_file_module": null
      }
    ]
  }
]