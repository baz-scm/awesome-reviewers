[
  {
    "discussion_id": "1324195821",
    "pr_number": 4853,
    "pr_file": ".circleci/config.yml",
    "created_at": "2023-09-13T08:52:53+00:00",
    "commented_code": "key: chocolatey-cache-v3-{{ arch }}-{{ checksum \".circleci/chocolatey.config\" }}\n           paths:\n             - ~\\AppData\\Local\\Temp\\chocolatey\n+      - install-deps-python:\n+          executor: win-something",
    "repo_full_name": "snyk/cli",
    "discussion_comments": [
      {
        "comment_id": "1324195821",
        "repo_full_name": "snyk/cli",
        "pr_number": 4853,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1324195821",
        "commented_code": "@@ -181,6 +181,8 @@ commands:\n           key: chocolatey-cache-v3-{{ arch }}-{{ checksum \".circleci/chocolatey.config\" }}\n           paths:\n             - ~\\AppData\\Local\\Temp\\chocolatey\n+      - install-deps-python:\n+          executor: win-something",
        "comment_created_at": "2023-09-13T08:52:53+00:00",
        "comment_author": "PeterSchafer",
        "comment_body": "Question: win-something? What is it?",
        "pr_file_module": null
      },
      {
        "comment_id": "1324202770",
        "repo_full_name": "snyk/cli",
        "pr_number": 4853,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1324195821",
        "commented_code": "@@ -181,6 +181,8 @@ commands:\n           key: chocolatey-cache-v3-{{ arch }}-{{ checksum \".circleci/chocolatey.config\" }}\n           paths:\n             - ~\\AppData\\Local\\Temp\\chocolatey\n+      - install-deps-python:\n+          executor: win-something",
        "comment_created_at": "2023-09-13T08:58:16+00:00",
        "comment_author": "PeterSchafer",
        "comment_body": "Oh got it, it is just to trigger another case. This is a bit confusing. Can we please at least have a comment what we do here?",
        "pr_file_module": null
      },
      {
        "comment_id": "1324205383",
        "repo_full_name": "snyk/cli",
        "pr_number": 4853,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1324195821",
        "commented_code": "@@ -181,6 +181,8 @@ commands:\n           key: chocolatey-cache-v3-{{ arch }}-{{ checksum \".circleci/chocolatey.config\" }}\n           paths:\n             - ~\\AppData\\Local\\Temp\\chocolatey\n+      - install-deps-python:\n+          executor: win-something",
        "comment_created_at": "2023-09-13T09:00:21+00:00",
        "comment_author": "PeterSchafer",
        "comment_body": "Actually it might be better to rename the parameter from executor to something like OS, since executor is an existing construct that has a special meaning.",
        "pr_file_module": null
      },
      {
        "comment_id": "1324251965",
        "repo_full_name": "snyk/cli",
        "pr_number": 4853,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1324195821",
        "commented_code": "@@ -181,6 +181,8 @@ commands:\n           key: chocolatey-cache-v3-{{ arch }}-{{ checksum \".circleci/chocolatey.config\" }}\n           paths:\n             - ~\\AppData\\Local\\Temp\\chocolatey\n+      - install-deps-python:\n+          executor: win-something",
        "comment_created_at": "2023-09-13T09:37:36+00:00",
        "comment_author": "bastiandoetsch",
        "comment_body": "yeah, already thought about it and then forgot :)",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1289642666",
    "pr_number": 4770,
    "pr_file": ".circleci/config.yml",
    "created_at": "2023-08-10T06:53:20+00:00",
    "commented_code": "- binary-releases/snyk-fix.tgz\n             - binary-releases/snyk-protect.tgz\n \n-  build-windows-artifact:\n-    parameters:\n-      go_os:\n-        type: string\n-      go_arch:\n-        type: string\n-    executor:\n-      name: win/default\n-      size: large\n-    steps:\n-      - prepare-workspace\n-      - install-deps-windows-full\n-      - run:\n-          name: Build Windows\n-          shell: powershell\n-          command: make build GOOS=windows GOARCH=amd64\n-          environment:\n-            CGO_ENABLED: 1\n-      - store_artifacts:\n-          path: binary-releases\n-      - persist_to_workspace:\n-          root: .\n-          paths:\n-            - binary-releases/snyk-*\n-            - binary-releases/version\n-\n   build-artifact:\n     parameters:\n       go_os:\n         type: string\n+      go_target_os:\n+        type: string\n       go_arch:\n         type: string\n       c_compiler:\n         type: string\n         default: ''\n       executor:\n         type: string\n-      artifact:\n+      go_base_url:\n+        type: string\n+        default: 'https://go.dev/dl/'\n+      install_deps_extension:\n         type: string\n+        default: 'noop'\n+      install_path:\n+        type: string\n+        default: '.'\n     executor: << parameters.executor >>\n-    environment:\n-      HOSTTYPE: << parameters.go_arch >>\n     steps:\n       - prepare-workspace\n-      - go/install:\n-          version: << pipeline.parameters.go_version >>\n+      - install-deps-<< parameters.install_deps_extension >>\n+      - install-go:\n+          go_os: << parameters.go_os >>\n+          go_target_os: << parameters.go_target_os >>\n+          go_arch: << parameters.go_arch >>\n+          base_url: << parameters.go_base_url >>",
    "repo_full_name": "snyk/cli",
    "discussion_comments": [
      {
        "comment_id": "1289642666",
        "repo_full_name": "snyk/cli",
        "pr_number": 4770,
        "pr_file": ".circleci/config.yml",
        "discussion_id": "1289642666",
        "commented_code": "@@ -563,60 +622,46 @@ jobs:\n             - binary-releases/snyk-fix.tgz\n             - binary-releases/snyk-protect.tgz\n \n-  build-windows-artifact:\n-    parameters:\n-      go_os:\n-        type: string\n-      go_arch:\n-        type: string\n-    executor:\n-      name: win/default\n-      size: large\n-    steps:\n-      - prepare-workspace\n-      - install-deps-windows-full\n-      - run:\n-          name: Build Windows\n-          shell: powershell\n-          command: make build GOOS=windows GOARCH=amd64\n-          environment:\n-            CGO_ENABLED: 1\n-      - store_artifacts:\n-          path: binary-releases\n-      - persist_to_workspace:\n-          root: .\n-          paths:\n-            - binary-releases/snyk-*\n-            - binary-releases/version\n-\n   build-artifact:\n     parameters:\n       go_os:\n         type: string\n+      go_target_os:\n+        type: string\n       go_arch:\n         type: string\n       c_compiler:\n         type: string\n         default: ''\n       executor:\n         type: string\n-      artifact:\n+      go_base_url:\n+        type: string\n+        default: 'https://go.dev/dl/'\n+      install_deps_extension:\n         type: string\n+        default: 'noop'\n+      install_path:\n+        type: string\n+        default: '.'\n     executor: << parameters.executor >>\n-    environment:\n-      HOSTTYPE: << parameters.go_arch >>\n     steps:\n       - prepare-workspace\n-      - go/install:\n-          version: << pipeline.parameters.go_version >>\n+      - install-deps-<< parameters.install_deps_extension >>\n+      - install-go:\n+          go_os: << parameters.go_os >>\n+          go_target_os: << parameters.go_target_os >>\n+          go_arch: << parameters.go_arch >>\n+          base_url: << parameters.go_base_url >>",
        "comment_created_at": "2023-08-10T06:53:20+00:00",
        "comment_author": "bastiandoetsch",
        "comment_body": "this should be named differently - it's not obvious what it is. Suggestion: `go_download_base_url`",
        "pr_file_module": null
      }
    ]
  }
]