[
  {
    "discussion_id": "1091871291",
    "pr_number": 4376,
    "pr_file": "cliv2/cmd/cliv2/main.go",
    "created_at": "2023-01-31T12:44:09+00:00",
    "commented_code": "}\n }\n \n+func writeLogHeader(config configuration.Configuration) {\n+\ttokenShaSum := []byte{}\n+\tif token := config.GetString(configuration.AUTHENTICATION_TOKEN); len(token) > 0 {\n+\t\ttemp := sha256.Sum256([]byte(token))",
    "repo_full_name": "snyk/cli",
    "discussion_comments": [
      {
        "comment_id": "1091871291",
        "repo_full_name": "snyk/cli",
        "pr_number": 4376,
        "pr_file": "cliv2/cmd/cliv2/main.go",
        "discussion_id": "1091871291",
        "commented_code": "@@ -197,6 +200,32 @@ func displayError(err error) {\n \t}\n }\n \n+func writeLogHeader(config configuration.Configuration) {\n+\ttokenShaSum := []byte{}\n+\tif token := config.GetString(configuration.AUTHENTICATION_TOKEN); len(token) > 0 {\n+\t\ttemp := sha256.Sum256([]byte(token))",
        "comment_created_at": "2023-01-31T12:44:09+00:00",
        "comment_author": "michelkaporin",
        "comment_body": "If we really intend to share token hash, crc32 or md5 functions are faster than computing sha256.",
        "pr_file_module": null
      },
      {
        "comment_id": "1092095912",
        "repo_full_name": "snyk/cli",
        "pr_number": 4376,
        "pr_file": "cliv2/cmd/cliv2/main.go",
        "discussion_id": "1091871291",
        "commented_code": "@@ -197,6 +200,32 @@ func displayError(err error) {\n \t}\n }\n \n+func writeLogHeader(config configuration.Configuration) {\n+\ttokenShaSum := []byte{}\n+\tif token := config.GetString(configuration.AUTHENTICATION_TOKEN); len(token) > 0 {\n+\t\ttemp := sha256.Sum256([]byte(token))",
        "comment_created_at": "2023-01-31T15:27:42+00:00",
        "comment_author": "bastiandoetsch",
        "comment_body": "yes, but they are not secure hash functions. speed of sha256 is more than fast enough, and it's not compromised. MD5, CRC32 are not remotely secure and not guaranteed to be unidirectional anymore (or CRC has never been).",
        "pr_file_module": null
      },
      {
        "comment_id": "1092265128",
        "repo_full_name": "snyk/cli",
        "pr_number": 4376,
        "pr_file": "cliv2/cmd/cliv2/main.go",
        "discussion_id": "1091871291",
        "commented_code": "@@ -197,6 +200,32 @@ func displayError(err error) {\n \t}\n }\n \n+func writeLogHeader(config configuration.Configuration) {\n+\ttokenShaSum := []byte{}\n+\tif token := config.GetString(configuration.AUTHENTICATION_TOKEN); len(token) > 0 {\n+\t\ttemp := sha256.Sum256([]byte(token))",
        "comment_created_at": "2023-01-31T17:29:57+00:00",
        "comment_author": "PeterSchafer",
        "comment_body": "We can optimize and just do it when `--debug` is used",
        "pr_file_module": null
      },
      {
        "comment_id": "1093134259",
        "repo_full_name": "snyk/cli",
        "pr_number": 4376,
        "pr_file": "cliv2/cmd/cliv2/main.go",
        "discussion_id": "1091871291",
        "commented_code": "@@ -197,6 +200,32 @@ func displayError(err error) {\n \t}\n }\n \n+func writeLogHeader(config configuration.Configuration) {\n+\ttokenShaSum := []byte{}\n+\tif token := config.GetString(configuration.AUTHENTICATION_TOKEN); len(token) > 0 {\n+\t\ttemp := sha256.Sum256([]byte(token))",
        "comment_created_at": "2023-02-01T12:07:52+00:00",
        "comment_author": "bastiandoetsch",
        "comment_body": "Maybe a random salt should be used on top to prevent attacks via rainbow tables. But yeah, just guard it with `--debug` and add a random UUID as salt.",
        "pr_file_module": null
      },
      {
        "comment_id": "1093135669",
        "repo_full_name": "snyk/cli",
        "pr_number": 4376,
        "pr_file": "cliv2/cmd/cliv2/main.go",
        "discussion_id": "1091871291",
        "commented_code": "@@ -197,6 +200,32 @@ func displayError(err error) {\n \t}\n }\n \n+func writeLogHeader(config configuration.Configuration) {\n+\ttokenShaSum := []byte{}\n+\tif token := config.GetString(configuration.AUTHENTICATION_TOKEN); len(token) > 0 {\n+\t\ttemp := sha256.Sum256([]byte(token))",
        "comment_created_at": "2023-02-01T12:09:19+00:00",
        "comment_author": "bastiandoetsch",
        "comment_body": "As it's not meant to change - maybe the random salt per instantiation is not possible.",
        "pr_file_module": null
      },
      {
        "comment_id": "1093145789",
        "repo_full_name": "snyk/cli",
        "pr_number": 4376,
        "pr_file": "cliv2/cmd/cliv2/main.go",
        "discussion_id": "1091871291",
        "commented_code": "@@ -197,6 +200,32 @@ func displayError(err error) {\n \t}\n }\n \n+func writeLogHeader(config configuration.Configuration) {\n+\ttokenShaSum := []byte{}\n+\tif token := config.GetString(configuration.AUTHENTICATION_TOKEN); len(token) > 0 {\n+\t\ttemp := sha256.Sum256([]byte(token))",
        "comment_created_at": "2023-02-01T12:19:47+00:00",
        "comment_author": "PeterSchafer",
        "comment_body": "yes, salt would not be good \ud83d\ude04  the token-hash is being truncated to 16 bytes to avoid any reverse engineering of the actual token, see the lines below.",
        "pr_file_module": null
      }
    ]
  }
]