[
  {
    "discussion_id": "2216695682",
    "pr_number": 5015,
    "pr_file": "src/core/task/index.ts",
    "created_at": "2025-07-18T18:47:57+00:00",
    "commented_code": "!this.taskState.checkpointTrackerErrorMessage\n \t\t) {\n \t\t\ttry {\n+\t\t\t\t// Warning Timer - If checkpoints take a while to to initialize, show a warning message\n+\t\t\t\tlet checkpointsWarningTimer: NodeJS.Timeout | null = null\n+\t\t\t\tlet checkpointsWarningShown = false\n+\n+\t\t\t\tcheckpointsWarningTimer = setTimeout(async () => {\n+\t\t\t\t\tif (!checkpointsWarningShown) {\n+\t\t\t\t\t\tcheckpointsWarningShown = true\n+\t\t\t\t\t\tthis.taskState.checkpointTrackerErrorMessage =\n+\t\t\t\t\t\t\t\"Checkpoints are taking longer than expected to initialize. Working in a large repository? Consider re-opening Cline in a project that uses git, or disabling checkpoints.\"\n+\t\t\t\t\t\tawait this.postStateToWebview()\n+\t\t\t\t\t}\n+\t\t\t\t}, 7_000)\n+",
    "repo_full_name": "cline/cline",
    "discussion_comments": [
      {
        "comment_id": "2216695682",
        "repo_full_name": "cline/cline",
        "pr_number": 5015,
        "pr_file": "src/core/task/index.ts",
        "discussion_id": "2216695682",
        "commented_code": "@@ -2038,6 +2052,20 @@ export class Task {\n \t\t\t!this.taskState.checkpointTrackerErrorMessage\n \t\t) {\n \t\t\ttry {\n+\t\t\t\t// Warning Timer - If checkpoints take a while to to initialize, show a warning message\n+\t\t\t\tlet checkpointsWarningTimer: NodeJS.Timeout | null = null\n+\t\t\t\tlet checkpointsWarningShown = false\n+\n+\t\t\t\tcheckpointsWarningTimer = setTimeout(async () => {\n+\t\t\t\t\tif (!checkpointsWarningShown) {\n+\t\t\t\t\t\tcheckpointsWarningShown = true\n+\t\t\t\t\t\tthis.taskState.checkpointTrackerErrorMessage =\n+\t\t\t\t\t\t\t\"Checkpoints are taking longer than expected to initialize. Working in a large repository? Consider re-opening Cline in a project that uses git, or disabling checkpoints.\"\n+\t\t\t\t\t\tawait this.postStateToWebview()\n+\t\t\t\t\t}\n+\t\t\t\t}, 7_000)\n+",
        "comment_created_at": "2025-07-18T18:47:57+00:00",
        "comment_author": "canvrno",
        "comment_body": "This is a new timeout- If checkpoints take > 7 seconds to initialize, we warn the user. We do not abandon the checkpoints init unless it takes > 15 seconds.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2092310526",
    "pr_number": 3572,
    "pr_file": "src/core/controller/index.ts",
    "created_at": "2025-05-16T04:44:11+00:00",
    "commented_code": "// 'Add to Cline' context menu in editor and code action\n \tasync addSelectedCodeToChat(code: string, filePath: string, languageId: string, diagnostics?: vscode.Diagnostic[]) {\n-\t\t// Ensure the sidebar view is visible\n-\t\tawait vscode.commands.executeCommand(\"claude-dev.SidebarProvider.focus\")\n-\t\tawait setTimeoutPromise(100)",
    "repo_full_name": "cline/cline",
    "discussion_comments": [
      {
        "comment_id": "2092310526",
        "repo_full_name": "cline/cline",
        "pr_number": 3572,
        "pr_file": "src/core/controller/index.ts",
        "discussion_id": "2092310526",
        "commented_code": "@@ -1064,10 +1064,6 @@ export class Controller {\n \n \t// 'Add to Cline' context menu in editor and code action\n \tasync addSelectedCodeToChat(code: string, filePath: string, languageId: string, diagnostics?: vscode.Diagnostic[]) {\n-\t\t// Ensure the sidebar view is visible\n-\t\tawait vscode.commands.executeCommand(\"claude-dev.SidebarProvider.focus\")\n-\t\tawait setTimeoutPromise(100)",
        "comment_created_at": "2025-05-16T04:44:11+00:00",
        "comment_author": "pashpashpash",
        "comment_body": "we probably shouldn't remove these timeouts",
        "pr_file_module": null
      },
      {
        "comment_id": "2092721510",
        "repo_full_name": "cline/cline",
        "pr_number": 3572,
        "pr_file": "src/core/controller/index.ts",
        "discussion_id": "2092310526",
        "commented_code": "@@ -1064,10 +1064,6 @@ export class Controller {\n \n \t// 'Add to Cline' context menu in editor and code action\n \tasync addSelectedCodeToChat(code: string, filePath: string, languageId: string, diagnostics?: vscode.Diagnostic[]) {\n-\t\t// Ensure the sidebar view is visible\n-\t\tawait vscode.commands.executeCommand(\"claude-dev.SidebarProvider.focus\")\n-\t\tawait setTimeoutPromise(100)",
        "comment_created_at": "2025-05-16T09:43:57+00:00",
        "comment_author": "alpparkan",
        "comment_body": "Thanks for the review! \r\n\r\nI reintroduced timeouts after focusing on the sidebar to avoid any potential flakiness. Also, added a changeset, thanks for the reminder.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2080812904",
    "pr_number": 3404,
    "pr_file": "src/integrations/terminal/TerminalProcess.ts",
    "created_at": "2025-05-09T02:46:23+00:00",
    "commented_code": "let isFirstChunk = true\n \t\t\tlet didOutputNonCommand = false\n \t\t\tlet didEmitEmptyLine = false\n+\t\t\tlet firstChunkTimeout: NodeJS.Timeout\n+\n+\t\t\tconst timeoutMs = 500",
    "repo_full_name": "cline/cline",
    "discussion_comments": [
      {
        "comment_id": "2080812904",
        "repo_full_name": "cline/cline",
        "pr_number": 3404,
        "pr_file": "src/integrations/terminal/TerminalProcess.ts",
        "discussion_id": "2080812904",
        "commented_code": "@@ -34,7 +35,41 @@ export class TerminalProcess extends EventEmitter<TerminalProcessEvents> {\n \t\t\tlet isFirstChunk = true\n \t\t\tlet didOutputNonCommand = false\n \t\t\tlet didEmitEmptyLine = false\n+\t\t\tlet firstChunkTimeout: NodeJS.Timeout\n+\n+\t\t\tconst timeoutMs = 500",
        "comment_created_at": "2025-05-09T02:46:23+00:00",
        "comment_author": "pashpashpash",
        "comment_body": "The 500ms timeout is sufficient because shell integration consistently emits an initial chunk immediately, even for long-running commands. Verified with commands like sleep 5, npm run build, node -e 'setTimeout(() => {}, 10000)', and yes. In all cases, the first chunk was received within a few milliseconds.",
        "pr_file_module": null
      }
    ]
  }
]