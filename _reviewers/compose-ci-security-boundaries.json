[
  {
    "discussion_id": "1971675828",
    "pr_number": 12588,
    "pr_file": ".github/workflows/markdown-lint.yml",
    "created_at": "2025-02-26T14:19:48+00:00",
    "commented_code": "+name: Markdown Lint & Auto-Fix\n+\n+on:\n+  pull_request:\n+    branches:\n+      - main\n+\n+jobs:\n+  markdown-lint:\n+    name: Lint and Fix Markdown Files\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+      - name: Checkout Repository\n+        uses: actions/checkout@v4\n+        with:\n+          ref: ${{ github.head_ref }}\n+          token: ${{ secrets.GITHUB_TOKEN }}\n+\n+      - name: Set up Markdownlint\n+        run: |\n+          sudo apt-get update\n+          sudo apt-get install -y markdownlint-cli\n+\n+      - name: Run Markdownlint & Auto-Fix\n+        run: |\n+          markdownlint '**/*.md' --fix\n+\n+      - name: Commit Changes (if any)\n+        run: |\n+          git config --global user.name \"github-actions[bot]\"\n+          git config --global user.email \"github-actions[bot]@users.noreply.github.com\"\n+          git add .\n+          if git diff --cached --quiet; then\n+            echo \"No changes to commit\"\n+          else\n+            git commit -m \"chore: Auto-fix Markdown lint issues\"\n+            git push origin ${{ github.head_ref }}\n+          fi",
    "repo_full_name": "docker/compose",
    "discussion_comments": [
      {
        "comment_id": "1971675828",
        "repo_full_name": "docker/compose",
        "pr_number": 12588,
        "pr_file": ".github/workflows/markdown-lint.yml",
        "discussion_id": "1971675828",
        "commented_code": "@@ -0,0 +1,39 @@\n+name: Markdown Lint & Auto-Fix\n+\n+on:\n+  pull_request:\n+    branches:\n+      - main\n+\n+jobs:\n+  markdown-lint:\n+    name: Lint and Fix Markdown Files\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+      - name: Checkout Repository\n+        uses: actions/checkout@v4\n+        with:\n+          ref: ${{ github.head_ref }}\n+          token: ${{ secrets.GITHUB_TOKEN }}\n+\n+      - name: Set up Markdownlint\n+        run: |\n+          sudo apt-get update\n+          sudo apt-get install -y markdownlint-cli\n+\n+      - name: Run Markdownlint & Auto-Fix\n+        run: |\n+          markdownlint '**/*.md' --fix\n+\n+      - name: Commit Changes (if any)\n+        run: |\n+          git config --global user.name \"github-actions[bot]\"\n+          git config --global user.email \"github-actions[bot]@users.noreply.github.com\"\n+          git add .\n+          if git diff --cached --quiet; then\n+            echo \"No changes to commit\"\n+          else\n+            git commit -m \"chore: Auto-fix Markdown lint issues\"\n+            git push origin ${{ github.head_ref }}\n+          fi",
        "comment_created_at": "2025-02-26T14:19:48+00:00",
        "comment_author": "ndeloof",
        "comment_body": "Please don't set any kind of \"auto-fix\". CI role is to check everything is OK in contributor's commit, not to replace contributor doing things right.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1890217490",
    "pr_number": 12399,
    "pr_file": ".github/workflows/merge.yml",
    "created_at": "2024-12-18T13:13:10+00:00",
    "commented_code": "-\n         name: Generate Token\n         id: generate_token\n-        uses: tibdex/github-app-token@v1\n+        uses: tibdex/github-app-token@v2",
    "repo_full_name": "docker/compose",
    "discussion_comments": [
      {
        "comment_id": "1890217490",
        "repo_full_name": "docker/compose",
        "pr_number": 12399,
        "pr_file": ".github/workflows/merge.yml",
        "discussion_id": "1890217490",
        "commented_code": "@@ -129,14 +129,14 @@ jobs:\n       -\n         name: Generate Token\n         id: generate_token\n-        uses: tibdex/github-app-token@v1\n+        uses: tibdex/github-app-token@v2",
        "comment_created_at": "2024-12-18T13:13:10+00:00",
        "comment_author": "thaJeztah",
        "comment_body": "This is a 3rd party action, so potentially less \"trusted\"; wondering if this is one that we should pin to a commit? (also make sure that we evaluate the changes in the release).\r\n\r\n\r\nDiff since last (v1.9.0) v1 release (but perhaps there's been other v1 updates since it was added); https://github.com/tibdex/github-app-token/compare/v1.9.0...v2.1.0",
        "pr_file_module": null
      },
      {
        "comment_id": "1890339638",
        "repo_full_name": "docker/compose",
        "pr_number": 12399,
        "pr_file": ".github/workflows/merge.yml",
        "discussion_id": "1890217490",
        "commented_code": "@@ -129,14 +129,14 @@ jobs:\n       -\n         name: Generate Token\n         id: generate_token\n-        uses: tibdex/github-app-token@v1\n+        uses: tibdex/github-app-token@v2",
        "comment_created_at": "2024-12-18T14:33:02+00:00",
        "comment_author": "glours",
        "comment_body": "I pinned the version to the `v2.1.0` commit",
        "pr_file_module": null
      },
      {
        "comment_id": "1890374537",
        "repo_full_name": "docker/compose",
        "pr_number": 12399,
        "pr_file": ".github/workflows/merge.yml",
        "discussion_id": "1890217490",
        "commented_code": "@@ -129,14 +129,14 @@ jobs:\n       -\n         name: Generate Token\n         id: generate_token\n-        uses: tibdex/github-app-token@v1\n+        uses: tibdex/github-app-token@v2",
        "comment_created_at": "2024-12-18T14:54:43+00:00",
        "comment_author": "thaJeztah",
        "comment_body": "Thanks!",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1519676101",
    "pr_number": 11583,
    "pr_file": ".github/workflows/ci.yml",
    "created_at": "2024-03-11T12:59:02+00:00",
    "commented_code": "uses: actions/checkout@v3\n       -\n         name: Set up QEMU\n-        uses: docker/setup-qemu-action@v2\n+        uses: docker/setup-qemu-action@v3\n       -\n         name: Set up Docker Buildx\n-        uses: docker/setup-buildx-action@v2\n+        uses: docker/setup-buildx-action@v3\n       -\n         name: Build\n-        uses: docker/bake-action@v2\n+        uses: docker/bake-action@v4",
    "repo_full_name": "docker/compose",
    "discussion_comments": [
      {
        "comment_id": "1519676101",
        "repo_full_name": "docker/compose",
        "pr_number": 11583,
        "pr_file": ".github/workflows/ci.yml",
        "discussion_id": "1519676101",
        "commented_code": "@@ -84,13 +81,13 @@ jobs:\n         uses: actions/checkout@v3\n       -\n         name: Set up QEMU\n-        uses: docker/setup-qemu-action@v2\n+        uses: docker/setup-qemu-action@v3\n       -\n         name: Set up Docker Buildx\n-        uses: docker/setup-buildx-action@v2\n+        uses: docker/setup-buildx-action@v3\n       -\n         name: Build\n-        uses: docker/bake-action@v2\n+        uses: docker/bake-action@v4",
        "comment_created_at": "2024-03-11T12:59:02+00:00",
        "comment_author": "crazy-max",
        "comment_body": "be careful, since v3 provenance is enabled by default and will therefore upload a `provenance.json` in GitHub Release. Add an extra step after this one to make sure of it:\r\n\r\n```yaml\r\n-\r\n   name: List artifacts\r\n   run: |\r\n     tree -nh ./bin/release\r\n```\r\n\r\nIf that's the case you can either set `provenance: false` or handle it like we do in buildx repo.",
        "pr_file_module": null
      }
    ]
  }
]