[
  {
    "discussion_id": "1147061376",
    "pr_number": 26202,
    "pr_file": "npm/vite-dev-server/client/initCypressTests.js",
    "created_at": "2023-03-24T02:39:30+00:00",
    "commented_code": "// This file is merged in a <script type=module> into index.html\n // it will be used to load and kick start the selected spec\n \n+// Fetch a dynamic import and re-try 3 times with a 2-second back-off",
    "repo_full_name": "cypress-io/cypress",
    "discussion_comments": [
      {
        "comment_id": "1147061376",
        "repo_full_name": "cypress-io/cypress",
        "pr_number": 26202,
        "pr_file": "npm/vite-dev-server/client/initCypressTests.js",
        "discussion_id": "1147061376",
        "commented_code": "@@ -1,6 +1,39 @@\n // This file is merged in a <script type=module> into index.html\n // it will be used to load and kick start the selected spec\n \n+// Fetch a dynamic import and re-try 3 times with a 2-second back-off",
        "comment_created_at": "2023-03-24T02:39:30+00:00",
        "comment_author": "lmiller1990",
        "comment_body": "Maybe a link to the GH issue? This is a hack, but I don't know if we will ever isolate the issue (seems incredibly hard to narrow down). It might be good to at least reference why we had to do this in the first place.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "568007790",
    "pr_number": 14785,
    "pr_file": "packages/server/lib/socket.js",
    "created_at": "2021-02-01T17:30:36+00:00",
    "commented_code": "})\n   }\n \n-  watchTestFileByPath (config, specConfig, options) {\n+  onStudioTestFileChange (filePath) {\n+    return this.onTestFileChange(filePath).then(() => {",
    "repo_full_name": "cypress-io/cypress",
    "discussion_comments": [
      {
        "comment_id": "568007790",
        "repo_full_name": "cypress-io/cypress",
        "pr_number": 14785,
        "pr_file": "packages/server/lib/socket.js",
        "discussion_id": "568007790",
        "commented_code": "@@ -71,7 +73,17 @@ class Socket {\n     })\n   }\n \n-  watchTestFileByPath (config, specConfig, options) {\n+  onStudioTestFileChange (filePath) {\n+    return this.onTestFileChange(filePath).then(() => {",
        "comment_created_at": "2021-02-01T17:30:36+00:00",
        "comment_author": "flotwig",
        "comment_body": "may be worth adding a comment? was non-obvious to me what this was doing\r\n```suggestion\r\n    // wait for the studio test file to be written to disk, then reload the test\r\n    return this.onTestFileChange(filePath).then(() => {\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "568016583",
        "repo_full_name": "cypress-io/cypress",
        "pr_number": 14785,
        "pr_file": "packages/server/lib/socket.js",
        "discussion_id": "568007790",
        "commented_code": "@@ -71,7 +73,17 @@ class Socket {\n     })\n   }\n \n-  watchTestFileByPath (config, specConfig, options) {\n+  onStudioTestFileChange (filePath) {\n+    return this.onTestFileChange(filePath).then(() => {",
        "comment_created_at": "2021-02-01T17:43:24+00:00",
        "comment_author": "panzarino",
        "comment_body": "I've added some additional comments to clarify things",
        "pr_file_module": null
      }
    ]
  }
]