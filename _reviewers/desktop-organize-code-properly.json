[
  {
    "discussion_id": "2049326061",
    "pr_number": 7690,
    "pr_file": "src/zen/downloads/ZenDownloadAnimation.mjs",
    "created_at": "2025-04-17T16:49:37+00:00",
    "commented_code": "+var { Downloads } = ChromeUtils.importESModule('resource://gre/modules/Downloads.sys.mjs');\n+\n+{\n+  const CONFIG = Object.freeze({\n+    ANIMATION: {\n+      APPEAR_DURATION: 400,\n+      FADE_DURATION: 300,\n+      ARC_STEPS: 30,\n+      DISTANCE_MULTIPLIER: 2, // Animation duration = distance * multiplier\n+      MAX_ARC_HEIGHT: 200,\n+      ARC_HEIGHT_RATIO: 0.8, // Arc height = distance * ratio (capped at MAX_ARC_HEIGHT)\n+      SCALE_END: 0.5, // Final scale at destination\n+    },\n+    FILE_TYPES: {\n+      document: ['pdf', 'doc', 'docx', 'txt', 'rtf', 'odt', 'xls', 'xlsx', 'ppt', 'pptx'],\n+      image: ['jpg', 'jpeg', 'png', 'gif', 'svg', 'webp', 'bmp', 'tiff', 'ico'],\n+      audio: ['mp3', 'wav', 'ogg', 'flac', 'aac', 'm4a', 'wma'],\n+      video: ['mp4', 'webm', 'avi', 'mkv', 'mov', 'wmv', 'flv', 'm4v'],\n+      archive: ['zip', 'rar', 'tar', 'gz', '7z', 'bz2', 'xz'],\n+      application: ['exe', 'dmg', 'pkg', 'apk', 'msi', 'deb', 'rpm'],\n+    },\n+  });\n+\n+  class ZenAnimationController {",
    "repo_full_name": "zen-browser/desktop",
    "discussion_comments": [
      {
        "comment_id": "2049326061",
        "repo_full_name": "zen-browser/desktop",
        "pr_number": 7690,
        "pr_file": "src/zen/downloads/ZenDownloadAnimation.mjs",
        "discussion_id": "2049326061",
        "commented_code": "@@ -0,0 +1,380 @@\n+var { Downloads } = ChromeUtils.importESModule('resource://gre/modules/Downloads.sys.mjs');\n+\n+{\n+  const CONFIG = Object.freeze({\n+    ANIMATION: {\n+      APPEAR_DURATION: 400,\n+      FADE_DURATION: 300,\n+      ARC_STEPS: 30,\n+      DISTANCE_MULTIPLIER: 2, // Animation duration = distance * multiplier\n+      MAX_ARC_HEIGHT: 200,\n+      ARC_HEIGHT_RATIO: 0.8, // Arc height = distance * ratio (capped at MAX_ARC_HEIGHT)\n+      SCALE_END: 0.5, // Final scale at destination\n+    },\n+    FILE_TYPES: {\n+      document: ['pdf', 'doc', 'docx', 'txt', 'rtf', 'odt', 'xls', 'xlsx', 'ppt', 'pptx'],\n+      image: ['jpg', 'jpeg', 'png', 'gif', 'svg', 'webp', 'bmp', 'tiff', 'ico'],\n+      audio: ['mp3', 'wav', 'ogg', 'flac', 'aac', 'm4a', 'wma'],\n+      video: ['mp4', 'webm', 'avi', 'mkv', 'mov', 'wmv', 'flv', 'm4v'],\n+      archive: ['zip', 'rar', 'tar', 'gz', '7z', 'bz2', 'xz'],\n+      application: ['exe', 'dmg', 'pkg', 'apk', 'msi', 'deb', 'rpm'],\n+    },\n+  });\n+\n+  class ZenAnimationController {",
        "comment_created_at": "2025-04-17T16:49:37+00:00",
        "comment_author": "mr-cheffy",
        "comment_body": "Make this extend ZenDOMOperatedFeature and move the constructor into the \"init\"",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2119476843",
    "pr_number": 8773,
    "pr_file": "src/zen/split-view/ZenViewSplitter.mjs",
    "created_at": "2025-06-01T19:25:17+00:00",
    "commented_code": "}\n     return true;\n   }\n+\n+  #initLinkDragDropSplit() {\n+    this._handleLinkDragEnter = this._handleLinkDragEnter.bind(this);\n+    this._handleLinkDragLeave = this._handleLinkDragLeave.bind(this);\n+    this._handleLinkDragDrop = this._handleLinkDragDrop.bind(this);\n+    this._handleLinkDragEnd = this._handleLinkDragEnd.bind(this);\n+\n+    const tabBox = document.getElementById('tabbrowser-tabbox');\n+\n+    tabBox.addEventListener('dragenter', this._handleLinkDragEnter, true);\n+    tabBox.addEventListener('dragleave', this._handleLinkDragLeave, false);\n+    tabBox.addEventListener('drop', this._handleLinkDragDrop, false);\n+    tabBox.addEventListener('dragend', this._handleLinkDragEnd, false);\n+  }\n+\n+  _createLinkDropZone() {\n+    if (this._linkDropZone) return;\n+\n+    this._linkDropZone = document.createXULElement('box');\n+    this._linkDropZone.id = 'zen-drop-link-zone';\n+\n+    const content = document.createXULElement('vbox');\n+    content.setAttribute('align', 'center');\n+    content.setAttribute('pack', 'center');\n+    content.setAttribute('flex', '1');\n+\n+    const text = document.createXULElement('description');\n+    text.setAttribute('value', 'Drop link to split'); // Localization! data-l10n-id\n+\n+    content.appendChild(text);\n+    this._linkDropZone.appendChild(content);\n+\n+    this._linkDropZone.addEventListener('dragover', (event) => {\n+      event.preventDefault();\n+      event.stopPropagation();\n+      event.dataTransfer.dropEffect = 'link';\n+      if (!this._linkDropZone.hasAttribute('has-focus')) {\n+        this._linkDropZone.setAttribute('has-focus', 'true');\n+      }\n+    });\n+\n+    this._linkDropZone.addEventListener('dragleave', (event) => {\n+      event.stopPropagation();\n+      if (!this._linkDropZone.contains(event.relatedTarget)) {\n+        this._linkDropZone.removeAttribute('has-focus');\n+      }\n+    });\n+\n+    this._linkDropZone.addEventListener('drop', this._handleDropForSplit.bind(this));\n+\n+    const tabBox = document.getElementById('tabbrowser-tabbox');\n+    tabBox.appendChild(this._linkDropZone);\n+  }\n+\n+  _showLinkDropZone() {\n+    if (!this._linkDropZone) this._createLinkDropZone();\n+\n+    this._linkDropZone.setAttribute('enabled', 'true');\n+  }\n+\n+  _hideLinkDropZone(force = false) {\n+    if (!this._linkDropZone || !this._linkDropZone.hasAttribute('enabled')) return;\n+\n+    if (this._isLinkDragging && !force) return;\n+\n+    this._linkDropZone.removeAttribute('enabled');\n+    this._linkDropZone.removeAttribute('has-focus');\n+  }\n+\n+  _validateURI(dataTransfer) {\n+    let dt = dataTransfer;\n+\n+    const URL_TYPES = ['text/uri-list', 'text/x-moz-url', 'text/plain'];\n+\n+    const FIXUP_FLAGS = Ci.nsIURIFixup.FIXUP_FLAG_FIX_SCHEME_TYPOS;\n+\n+    const matchedType = URL_TYPES.find((type) => {\n+      const raw = dt.getData(type);\n+      return typeof raw === 'string' && raw.trim().length > 0;\n+    });\n+\n+    const uriString = dt.getData(matchedType).trim();\n+\n+    const info = Services.uriFixup.getFixupURIInfo(uriString, FIXUP_FLAGS);\n+\n+    if (!info || !info.fixedURI) {\n+      return null;\n+    }\n+\n+    return info.fixedURI.spec;\n+  }\n+\n+  _handleLinkDragEnter(event) {\n+    // If rearrangeViewEnabled - don't do anything\n+    if (this.rearrangeViewEnabled) {\n+      return;\n+    }\n+\n+    const shouldBeDisabled = !this.canOpenLinkInSplitView();\n+    if (shouldBeDisabled) return;\n+\n+    // If the target is our drop zone or one of its children, or already active, do nothing here.\n+    if (\n+      this._linkDropZone &&\n+      (this._linkDropZone.contains(event.target) || this._linkDropZone.hasAttribute('enabled'))\n+    ) {\n+      return;\n+    }\n+\n+    // If the data is not a valid URI, we don't want to do anything\n+    if (!this._validateURI(event.dataTransfer)) {\n+      return;\n+    }\n+\n+    this._isLinkDragging = true;\n+    this._showLinkDropZone();\n+\n+    event.preventDefault();\n+    event.stopPropagation();\n+  }\n+\n+  _handleLinkDragLeave(event) {\n+    if (\n+      event.target === document.documentElement ||\n+      (event.clientX <= 0 && event.clientY <= 0) ||\n+      event.clientX >= window.innerWidth ||\n+      event.clientY >= window.innerHeight\n+    ) {\n+      if (this._linkDropZone && !this._linkDropZone.contains(event.relatedTarget)) {\n+        this._isLinkDragging = false;\n+        this._hideLinkDropZone();\n+      }\n+    }\n+  }\n+\n+  _handleLinkDragDrop(event) {\n+    if (!this._linkDropZone || !this._linkDropZone.contains(event.target)) {\n+      if (this._linkDropZone && this._linkDropZone.hasAttribute('enabled')) {\n+        this._isLinkDragging = false;\n+        this._hideLinkDropZone(true); // true for forced hiding\n+      }\n+    }\n+  }\n+\n+  _handleLinkDragEnd(event) {\n+    this._isLinkDragging = false;\n+    this._hideLinkDropZone(true); // true for forced hiding\n+  }\n+\n+  _handleDropForSplit(event) {\n+    let linkDropZone = this._linkDropZone;\n+    event.preventDefault();\n+    event.stopPropagation();\n+\n+    const url = this._validateURI(event.dataTransfer);\n+\n+    if (!url) {\n+      this._hideDropZoneAndResetState();\n+      return;\n+    }\n+\n+    const currentTab = gZenGlanceManager.getTabOrGlanceParent(gBrowser.selectedTab);\n+    const newTab = this.openAndSwitchToTab(url, { inBackground: false });\n+\n+    if (!newTab) {\n+      this._hideDropZoneAndResetState();\n+      return;\n+    }\n+\n+    const linkDropSide = this._calculateDropSide(event, linkDropZone);\n+\n+    this._createOrUpdateSplitViewWithSide(currentTab, newTab, linkDropSide);\n+\n+    this._hideDropZoneAndResetState();\n+  }\n+  _calculateDropSide(event, linkDropZone) {",
    "repo_full_name": "zen-browser/desktop",
    "discussion_comments": [
      {
        "comment_id": "2119476843",
        "repo_full_name": "zen-browser/desktop",
        "pr_number": 8773,
        "pr_file": "src/zen/split-view/ZenViewSplitter.mjs",
        "discussion_id": "2119476843",
        "commented_code": "@@ -1894,6 +1903,279 @@ class ZenViewSplitter extends ZenDOMOperatedFeature {\n     }\n     return true;\n   }\n+\n+  #initLinkDragDropSplit() {\n+    this._handleLinkDragEnter = this._handleLinkDragEnter.bind(this);\n+    this._handleLinkDragLeave = this._handleLinkDragLeave.bind(this);\n+    this._handleLinkDragDrop = this._handleLinkDragDrop.bind(this);\n+    this._handleLinkDragEnd = this._handleLinkDragEnd.bind(this);\n+\n+    const tabBox = document.getElementById('tabbrowser-tabbox');\n+\n+    tabBox.addEventListener('dragenter', this._handleLinkDragEnter, true);\n+    tabBox.addEventListener('dragleave', this._handleLinkDragLeave, false);\n+    tabBox.addEventListener('drop', this._handleLinkDragDrop, false);\n+    tabBox.addEventListener('dragend', this._handleLinkDragEnd, false);\n+  }\n+\n+  _createLinkDropZone() {\n+    if (this._linkDropZone) return;\n+\n+    this._linkDropZone = document.createXULElement('box');\n+    this._linkDropZone.id = 'zen-drop-link-zone';\n+\n+    const content = document.createXULElement('vbox');\n+    content.setAttribute('align', 'center');\n+    content.setAttribute('pack', 'center');\n+    content.setAttribute('flex', '1');\n+\n+    const text = document.createXULElement('description');\n+    text.setAttribute('value', 'Drop link to split'); // Localization! data-l10n-id\n+\n+    content.appendChild(text);\n+    this._linkDropZone.appendChild(content);\n+\n+    this._linkDropZone.addEventListener('dragover', (event) => {\n+      event.preventDefault();\n+      event.stopPropagation();\n+      event.dataTransfer.dropEffect = 'link';\n+      if (!this._linkDropZone.hasAttribute('has-focus')) {\n+        this._linkDropZone.setAttribute('has-focus', 'true');\n+      }\n+    });\n+\n+    this._linkDropZone.addEventListener('dragleave', (event) => {\n+      event.stopPropagation();\n+      if (!this._linkDropZone.contains(event.relatedTarget)) {\n+        this._linkDropZone.removeAttribute('has-focus');\n+      }\n+    });\n+\n+    this._linkDropZone.addEventListener('drop', this._handleDropForSplit.bind(this));\n+\n+    const tabBox = document.getElementById('tabbrowser-tabbox');\n+    tabBox.appendChild(this._linkDropZone);\n+  }\n+\n+  _showLinkDropZone() {\n+    if (!this._linkDropZone) this._createLinkDropZone();\n+\n+    this._linkDropZone.setAttribute('enabled', 'true');\n+  }\n+\n+  _hideLinkDropZone(force = false) {\n+    if (!this._linkDropZone || !this._linkDropZone.hasAttribute('enabled')) return;\n+\n+    if (this._isLinkDragging && !force) return;\n+\n+    this._linkDropZone.removeAttribute('enabled');\n+    this._linkDropZone.removeAttribute('has-focus');\n+  }\n+\n+  _validateURI(dataTransfer) {\n+    let dt = dataTransfer;\n+\n+    const URL_TYPES = ['text/uri-list', 'text/x-moz-url', 'text/plain'];\n+\n+    const FIXUP_FLAGS = Ci.nsIURIFixup.FIXUP_FLAG_FIX_SCHEME_TYPOS;\n+\n+    const matchedType = URL_TYPES.find((type) => {\n+      const raw = dt.getData(type);\n+      return typeof raw === 'string' && raw.trim().length > 0;\n+    });\n+\n+    const uriString = dt.getData(matchedType).trim();\n+\n+    const info = Services.uriFixup.getFixupURIInfo(uriString, FIXUP_FLAGS);\n+\n+    if (!info || !info.fixedURI) {\n+      return null;\n+    }\n+\n+    return info.fixedURI.spec;\n+  }\n+\n+  _handleLinkDragEnter(event) {\n+    // If rearrangeViewEnabled - don't do anything\n+    if (this.rearrangeViewEnabled) {\n+      return;\n+    }\n+\n+    const shouldBeDisabled = !this.canOpenLinkInSplitView();\n+    if (shouldBeDisabled) return;\n+\n+    // If the target is our drop zone or one of its children, or already active, do nothing here.\n+    if (\n+      this._linkDropZone &&\n+      (this._linkDropZone.contains(event.target) || this._linkDropZone.hasAttribute('enabled'))\n+    ) {\n+      return;\n+    }\n+\n+    // If the data is not a valid URI, we don't want to do anything\n+    if (!this._validateURI(event.dataTransfer)) {\n+      return;\n+    }\n+\n+    this._isLinkDragging = true;\n+    this._showLinkDropZone();\n+\n+    event.preventDefault();\n+    event.stopPropagation();\n+  }\n+\n+  _handleLinkDragLeave(event) {\n+    if (\n+      event.target === document.documentElement ||\n+      (event.clientX <= 0 && event.clientY <= 0) ||\n+      event.clientX >= window.innerWidth ||\n+      event.clientY >= window.innerHeight\n+    ) {\n+      if (this._linkDropZone && !this._linkDropZone.contains(event.relatedTarget)) {\n+        this._isLinkDragging = false;\n+        this._hideLinkDropZone();\n+      }\n+    }\n+  }\n+\n+  _handleLinkDragDrop(event) {\n+    if (!this._linkDropZone || !this._linkDropZone.contains(event.target)) {\n+      if (this._linkDropZone && this._linkDropZone.hasAttribute('enabled')) {\n+        this._isLinkDragging = false;\n+        this._hideLinkDropZone(true); // true for forced hiding\n+      }\n+    }\n+  }\n+\n+  _handleLinkDragEnd(event) {\n+    this._isLinkDragging = false;\n+    this._hideLinkDropZone(true); // true for forced hiding\n+  }\n+\n+  _handleDropForSplit(event) {\n+    let linkDropZone = this._linkDropZone;\n+    event.preventDefault();\n+    event.stopPropagation();\n+\n+    const url = this._validateURI(event.dataTransfer);\n+\n+    if (!url) {\n+      this._hideDropZoneAndResetState();\n+      return;\n+    }\n+\n+    const currentTab = gZenGlanceManager.getTabOrGlanceParent(gBrowser.selectedTab);\n+    const newTab = this.openAndSwitchToTab(url, { inBackground: false });\n+\n+    if (!newTab) {\n+      this._hideDropZoneAndResetState();\n+      return;\n+    }\n+\n+    const linkDropSide = this._calculateDropSide(event, linkDropZone);\n+\n+    this._createOrUpdateSplitViewWithSide(currentTab, newTab, linkDropSide);\n+\n+    this._hideDropZoneAndResetState();\n+  }\n+  _calculateDropSide(event, linkDropZone) {",
        "comment_created_at": "2025-06-01T19:25:17+00:00",
        "comment_author": "mr-cheffy",
        "comment_body": "This might create some conflicts with already existing functions. Could we move all of these into a separate class / file? Called `ZenSplitViewLinkDrop`",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1903006019",
    "pr_number": 4158,
    "pr_file": "src/browser/components/tabbrowser/content/tabs-js.patch",
    "created_at": "2025-01-04T10:14:25+00:00",
    "commented_code": "-      }\n +      this.arrowScrollbox.ensureElementIsVisible(selectedTab, aInstant);\n  \n-+      if (!aInstant && Services.prefs.getBoolPref('zen.view.compact')\n++      if (!aInstant && !gZenGlanceManager.animatingOpen\n++          && Services.prefs.getBoolPref('zen.view.compact')",
    "repo_full_name": "zen-browser/desktop",
    "discussion_comments": [
      {
        "comment_id": "1903006019",
        "repo_full_name": "zen-browser/desktop",
        "pr_number": 4158,
        "pr_file": "src/browser/components/tabbrowser/content/tabs-js.patch",
        "discussion_id": "1903006019",
        "commented_code": "@@ -76,7 +76,8 @@ index f7c39fe804182e2bdf53045ba3b6a5ba17079fc3..93be23da305a5e2e51bff1c5b5f28743\n -      }\n +      this.arrowScrollbox.ensureElementIsVisible(selectedTab, aInstant);\n  \n-+      if (!aInstant && Services.prefs.getBoolPref('zen.view.compact')\n++      if (!aInstant && !gZenGlanceManager.animatingOpen\n++          && Services.prefs.getBoolPref('zen.view.compact')",
        "comment_created_at": "2025-01-04T10:14:25+00:00",
        "comment_author": "mr-cheffy",
        "comment_body": "This patch is getting a bit long. Should we move it to a function called `gZenCompactModeManager.flashSidebarIfAllowed(aInstant)`?",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1988504484",
    "pr_number": 6321,
    "pr_file": "src/browser/base/content/ZenUIManager.mjs",
    "created_at": "2025-03-11T06:41:07+00:00",
    "commented_code": "this._tabEdited = null;\n   },\n };\n+\n+var gZenMediaController = {",
    "repo_full_name": "zen-browser/desktop",
    "discussion_comments": [
      {
        "comment_id": "1988504484",
        "repo_full_name": "zen-browser/desktop",
        "pr_number": 6321,
        "pr_file": "src/browser/base/content/ZenUIManager.mjs",
        "discussion_id": "1988504484",
        "commented_code": "@@ -768,3 +770,252 @@ var gZenVerticalTabsManager = {\n     this._tabEdited = null;\n   },\n };\n+\n+var gZenMediaController = {",
        "comment_created_at": "2025-03-11T06:41:07+00:00",
        "comment_author": "mr-cheffy",
        "comment_body": "Only thing I would suggest is adding this class into a different file",
        "pr_file_module": null
      },
      {
        "comment_id": "1988917370",
        "repo_full_name": "zen-browser/desktop",
        "pr_number": 6321,
        "pr_file": "src/browser/base/content/ZenUIManager.mjs",
        "discussion_id": "1988504484",
        "commented_code": "@@ -768,3 +770,252 @@ var gZenVerticalTabsManager = {\n     this._tabEdited = null;\n   },\n };\n+\n+var gZenMediaController = {",
        "comment_created_at": "2025-03-11T10:29:57+00:00",
        "comment_author": "Slowlife01",
        "comment_body": "You want me to create a new file?",
        "pr_file_module": null
      },
      {
        "comment_id": "1989799270",
        "repo_full_name": "zen-browser/desktop",
        "pr_number": 6321,
        "pr_file": "src/browser/base/content/ZenUIManager.mjs",
        "discussion_id": "1988504484",
        "commented_code": "@@ -768,3 +770,252 @@ var gZenVerticalTabsManager = {\n     this._tabEdited = null;\n   },\n };\n+\n+var gZenMediaController = {",
        "comment_created_at": "2025-03-11T17:23:41+00:00",
        "comment_author": "mr-cheffy",
        "comment_body": "That would be great yeah, ZenMediaControler.mjs or something",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1791557510",
    "pr_number": 1957,
    "pr_file": "src/browser/components/tabbrowser/content/tabbrowser-js.patch",
    "created_at": "2024-10-08T09:43:20+00:00",
    "commented_code": "aTab.selected ||\n          aTab.closing ||\n          // Tabs that are sharing the screen, microphone or camera cannot be hidden.\n+@@ -7870,7 +7925,14 @@ var TabContextMenu = {\n+     );\n+     contextUnpinSelectedTabs.hidden =\n+       !this.contextTab.pinned || !multiselectionContext;\n+-\n++    let contextResetPinnedTab = document.getElementById(\"context_zen-reset-pinned-tab\");\n++    if(contextResetPinnedTab) {",
    "repo_full_name": "zen-browser/desktop",
    "discussion_comments": [
      {
        "comment_id": "1791557510",
        "repo_full_name": "zen-browser/desktop",
        "pr_number": 1957,
        "pr_file": "src/browser/components/tabbrowser/content/tabbrowser-js.patch",
        "discussion_id": "1791557510",
        "commented_code": "@@ -103,3 +134,19 @@ index ef857bd81f2cd7c163ecc74ac1cf81a0b63ce838..807eb0c493f15643412b05d8dad81d36\n          aTab.selected ||\n          aTab.closing ||\n          // Tabs that are sharing the screen, microphone or camera cannot be hidden.\n+@@ -7870,7 +7925,14 @@ var TabContextMenu = {\n+     );\n+     contextUnpinSelectedTabs.hidden =\n+       !this.contextTab.pinned || !multiselectionContext;\n+-\n++    let contextResetPinnedTab = document.getElementById(\"context_zen-reset-pinned-tab\");\n++    if(contextResetPinnedTab) {",
        "comment_created_at": "2024-10-08T09:43:20+00:00",
        "comment_author": "mr-cheffy",
        "comment_body": "Same here, moving into a function inside the pinned tabs manager because large patches can end up being messy and could break in the future",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1792421571",
    "pr_number": 1957,
    "pr_file": "src/browser/components/tabbrowser/content/tabbrowser-js.patch",
    "created_at": "2024-10-08T19:49:05+00:00",
    "commented_code": "aTab.selected ||\n          aTab.closing ||\n          // Tabs that are sharing the screen, microphone or camera cannot be hidden.\n+@@ -7870,7 +7911,7 @@ var TabContextMenu = {\n+     );\n+     contextUnpinSelectedTabs.hidden =\n+       !this.contextTab.pinned || !multiselectionContext;\n+-\n++    gZenPinnedTabManager.updatePinnedTabContextMenu(this.contextTab);",
    "repo_full_name": "zen-browser/desktop",
    "discussion_comments": [
      {
        "comment_id": "1792421571",
        "repo_full_name": "zen-browser/desktop",
        "pr_number": 1957,
        "pr_file": "src/browser/components/tabbrowser/content/tabbrowser-js.patch",
        "discussion_id": "1792421571",
        "commented_code": "@@ -103,3 +121,12 @@ index ef857bd81f2cd7c163ecc74ac1cf81a0b63ce838..807eb0c493f15643412b05d8dad81d36\n          aTab.selected ||\n          aTab.closing ||\n          // Tabs that are sharing the screen, microphone or camera cannot be hidden.\n+@@ -7870,7 +7911,7 @@ var TabContextMenu = {\n+     );\n+     contextUnpinSelectedTabs.hidden =\n+       !this.contextTab.pinned || !multiselectionContext;\n+-\n++    gZenPinnedTabManager.updatePinnedTabContextMenu(this.contextTab);",
        "comment_created_at": "2024-10-08T19:49:05+00:00",
        "comment_author": "mr-cheffy",
        "comment_body": "This could be moved into the pinned tab manager, instead of having a patch.\r\n\r\nSomething like\r\n\r\n```\r\npopupElement.addEventListener('popupshowing', <update popup>);\r\n```",
        "pr_file_module": null
      }
    ]
  }
]