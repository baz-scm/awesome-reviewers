[
  {
    "discussion_id": "2276173498",
    "pr_number": 23611,
    "pr_file": "web/app/components/workflow/hooks/use-workflow.ts",
    "created_at": "2025-08-14T10:01:48+00:00",
    "commented_code": "const handleOutVarRenameChange = useCallback((nodeId: string, oldValeSelector: ValueSelector, newVarSelector: ValueSelector) => {\n     const { getNodes, setNodes } = store.getState()\n-    const afterNodes = getAfterNodesInSameBranch(nodeId)\n-    const effectNodes = findUsedVarNodes(oldValeSelector, afterNodes)\n+    const allNodes = getNodes()\n+    const effectNodes = findUsedVarNodes(oldValeSelector, allNodes)",
    "repo_full_name": "langgenius/dify",
    "discussion_comments": [
      {
        "comment_id": "2276173498",
        "repo_full_name": "langgenius/dify",
        "pr_number": 23611,
        "pr_file": "web/app/components/workflow/hooks/use-workflow.ts",
        "discussion_id": "2276173498",
        "commented_code": "@@ -259,10 +259,10 @@ export const useWorkflow = () => {\n \n   const handleOutVarRenameChange = useCallback((nodeId: string, oldValeSelector: ValueSelector, newVarSelector: ValueSelector) => {\n     const { getNodes, setNodes } = store.getState()\n-    const afterNodes = getAfterNodesInSameBranch(nodeId)\n-    const effectNodes = findUsedVarNodes(oldValeSelector, afterNodes)\n+    const allNodes = getNodes()\n+    const effectNodes = findUsedVarNodes(oldValeSelector, allNodes)",
        "comment_created_at": "2025-08-14T10:01:48+00:00",
        "comment_author": "crazywoola",
        "comment_body": "```suggestion\r\n    const effectNodes = findUsedVarNodes(oldValeSelector, allNodes)\r\n```\r\n\r\nI think we should rename it to `affectedNodes`",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1940641501",
    "pr_number": 13166,
    "pr_file": "web/app/components/header/account-setting/model-provider-page/declarations.ts",
    "created_at": "2025-02-04T07:35:50+00:00",
    "commented_code": "export type CredentialFormSchemaBase = {\n   variable: string\n+  inputs?: Array<{ name: string; value: string }>",
    "repo_full_name": "langgenius/dify",
    "discussion_comments": [
      {
        "comment_id": "1940641501",
        "repo_full_name": "langgenius/dify",
        "pr_number": 13166,
        "pr_file": "web/app/components/header/account-setting/model-provider-page/declarations.ts",
        "discussion_id": "1940641501",
        "commented_code": "@@ -102,6 +102,7 @@ export type FormShowOnObject = {\n \n export type CredentialFormSchemaBase = {\n   variable: string\n+  inputs?: Array<{ name: string; value: string }>",
        "comment_created_at": "2025-02-04T07:35:50+00:00",
        "comment_author": "obadakhalili",
        "comment_body": "to render a form with an input that accepts variables, the schema is changed to accept `inputs` property, `variables` might be a better name, but it is confusing next to `variable`.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1942552363",
    "pr_number": 13223,
    "pr_file": "web/utils/permission.ts",
    "created_at": "2025-02-05T09:47:42+00:00",
    "commented_code": "+import type { DatasetPermission } from '@/models/datasets'\n+\n+type DatasetConfig = {\n+  createdBy: string\n+  partialMemberList: string[]\n+  permission: DatasetPermission\n+}\n+\n+export const hasEditPermissionForDataset = (userId: string, datasetConfig: DatasetConfig) => {\n+  const { createdBy, partialMemberList, permission } = datasetConfig\n+  if (permission === 'only_me')",
    "repo_full_name": "langgenius/dify",
    "discussion_comments": [
      {
        "comment_id": "1942552363",
        "repo_full_name": "langgenius/dify",
        "pr_number": 13223,
        "pr_file": "web/utils/permission.ts",
        "discussion_id": "1942552363",
        "commented_code": "@@ -0,0 +1,18 @@\n+import type { DatasetPermission } from '@/models/datasets'\n+\n+type DatasetConfig = {\n+  createdBy: string\n+  partialMemberList: string[]\n+  permission: DatasetPermission\n+}\n+\n+export const hasEditPermissionForDataset = (userId: string, datasetConfig: DatasetConfig) => {\n+  const { createdBy, partialMemberList, permission } = datasetConfig\n+  if (permission === 'only_me')",
        "comment_created_at": "2025-02-05T09:47:42+00:00",
        "comment_author": "crazywoola",
        "comment_body": "Since we are defining a new file here, I figure it's better to move those string variables to enums instead.",
        "pr_file_module": null
      }
    ]
  }
]