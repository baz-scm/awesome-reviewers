[
  {
    "discussion_id": "2328585353",
    "pr_number": 25317,
    "pr_file": "web/app/components/app-sidebar/app-info.tsx",
    "created_at": "2025-09-07T09:01:13+00:00",
    "commented_code": "import { getRedirection } from '@/utils/app-redirection'\n import type { EnvironmentVariable } from '@/app/components/workflow/types'\n import { fetchWorkflowDraft } from '@/service/workflow'\n+import { useNodesSyncDraft } from '@/app/components/workflow/hooks/use-nodes-sync-draft'",
    "repo_full_name": "langgenius/dify",
    "discussion_comments": [
      {
        "comment_id": "2328585353",
        "repo_full_name": "langgenius/dify",
        "pr_number": 25317,
        "pr_file": "web/app/components/app-sidebar/app-info.tsx",
        "discussion_id": "2328585353",
        "commented_code": "@@ -23,6 +23,7 @@ import { NEED_REFRESH_APP_LIST_KEY } from '@/config'\n import { getRedirection } from '@/utils/app-redirection'\n import type { EnvironmentVariable } from '@/app/components/workflow/types'\n import { fetchWorkflowDraft } from '@/service/workflow'\n+import { useNodesSyncDraft } from '@/app/components/workflow/hooks/use-nodes-sync-draft'",
        "comment_created_at": "2025-09-07T09:01:13+00:00",
        "comment_author": "Kritoooo",
        "comment_body": "Due to context inconsistency, doSyncWorkflowDraft cannot function properly here; a better approach would be to prompt the user to save.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1983999053",
    "pr_number": 14271,
    "pr_file": "web/app/components/app/workflow-log/index.tsx",
    "created_at": "2025-03-06T20:20:38+00:00",
    "commented_code": "limit,\n     ...(debouncedQueryParams.status !== 'all' ? { status: debouncedQueryParams.status } : {}),\n     ...(debouncedQueryParams.keyword ? { keyword: debouncedQueryParams.keyword } : {}),\n+    ...((debouncedQueryParams.period !== '9')\n+      ? {\n+        created_at__after: dayjs().subtract(TIME_PERIOD_MAPPING[debouncedQueryParams.period].value, 'day').startOf('day').tz(timezone).format('YYYY-MM-DDTHH:mm:ssZ'),\n+        created_at__before: dayjs().endOf('day').tz(timezone).format('YYYY-MM-DDTHH:mm:ssZ'),\n+      }\n+      : {}),\n+    ...omit(debouncedQueryParams, ['period', 'status']),",
    "repo_full_name": "langgenius/dify",
    "discussion_comments": [
      {
        "comment_id": "1983999053",
        "repo_full_name": "langgenius/dify",
        "pr_number": 14271,
        "pr_file": "web/app/components/app/workflow-log/index.tsx",
        "discussion_id": "1983999053",
        "commented_code": "@@ -58,6 +68,13 @@ const Logs: FC<ILogsProps> = ({ appDetail }) => {\n     limit,\n     ...(debouncedQueryParams.status !== 'all' ? { status: debouncedQueryParams.status } : {}),\n     ...(debouncedQueryParams.keyword ? { keyword: debouncedQueryParams.keyword } : {}),\n+    ...((debouncedQueryParams.period !== '9')\n+      ? {\n+        created_at__after: dayjs().subtract(TIME_PERIOD_MAPPING[debouncedQueryParams.period].value, 'day').startOf('day').tz(timezone).format('YYYY-MM-DDTHH:mm:ssZ'),\n+        created_at__before: dayjs().endOf('day').tz(timezone).format('YYYY-MM-DDTHH:mm:ssZ'),\n+      }\n+      : {}),\n+    ...omit(debouncedQueryParams, ['period', 'status']),",
        "comment_created_at": "2025-03-06T20:20:38+00:00",
        "comment_author": "aiswaryasankarwork",
        "comment_body": "Missing error handling for invalid `period` values in `TIME_PERIOD_MAPPING`. If an invalid period is provided, accessing `TIME_PERIOD_MAPPING[debouncedQueryParams.period].value` will throw.\n<!-- suggestion_start -->\n\n<details>\n<summary><strong>\ud83d\udcdd Committable Code Suggestion</strong></summary>\n\n> \u203c\ufe0f Ensure you review the code suggestion before committing it to the branch. Make sure it replaces the highlighted code, contains no missing lines, and has no issues with indentation. \n\n\n```suggestion\n    ...((debouncedQueryParams.period !== '9' && TIME_PERIOD_MAPPING[debouncedQueryParams.period])\n      ? {\n        created_at__after: dayjs().subtract(TIME_PERIOD_MAPPING[debouncedQueryParams.period].value, 'day').startOf('day').tz(timezone).format('YYYY-MM-DDTHH:mm:ssZ'),\n        created_at__before: dayjs().endOf('day').tz(timezone).format('YYYY-MM-DDTHH:mm:ssZ'),\n      }\n      : {}),\n    ...omit(debouncedQueryParams, ['period', 'status']),\n```\n</details>\n<!-- suggestion_end -->\n",
        "pr_file_module": null
      },
      {
        "comment_id": "1986656679",
        "repo_full_name": "langgenius/dify",
        "pr_number": 14271,
        "pr_file": "web/app/components/app/workflow-log/index.tsx",
        "discussion_id": "1983999053",
        "commented_code": "@@ -58,6 +68,13 @@ const Logs: FC<ILogsProps> = ({ appDetail }) => {\n     limit,\n     ...(debouncedQueryParams.status !== 'all' ? { status: debouncedQueryParams.status } : {}),\n     ...(debouncedQueryParams.keyword ? { keyword: debouncedQueryParams.keyword } : {}),\n+    ...((debouncedQueryParams.period !== '9')\n+      ? {\n+        created_at__after: dayjs().subtract(TIME_PERIOD_MAPPING[debouncedQueryParams.period].value, 'day').startOf('day').tz(timezone).format('YYYY-MM-DDTHH:mm:ssZ'),\n+        created_at__before: dayjs().endOf('day').tz(timezone).format('YYYY-MM-DDTHH:mm:ssZ'),\n+      }\n+      : {}),\n+    ...omit(debouncedQueryParams, ['period', 'status']),",
        "comment_created_at": "2025-03-10T06:01:31+00:00",
        "comment_author": "JzoNgKVO",
        "comment_body": "The above situation will not occur in existing UI  interactions. Thanks for your review.",
        "pr_file_module": null
      }
    ]
  }
]