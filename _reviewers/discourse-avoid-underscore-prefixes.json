[
  {
    "discussion_id": "2280599701",
    "pr_number": 34361,
    "pr_file": "app/assets/javascripts/discourse/app/controllers/preferences/interface.js",
    "created_at": "2025-08-16T20:59:04+00:00",
    "commented_code": "return userOptionTextSize !== selectedTextSize;\n   }\n \n+  _isInLightMode() {",
    "repo_full_name": "discourse/discourse",
    "discussion_comments": [
      {
        "comment_id": "2280599701",
        "repo_full_name": "discourse/discourse",
        "pr_number": 34361,
        "pr_file": "app/assets/javascripts/discourse/app/controllers/preferences/interface.js",
        "discussion_id": "2280599701",
        "commented_code": "@@ -185,6 +185,48 @@ export default class InterfaceController extends Controller {\n     return userOptionTextSize !== selectedTextSize;\n   }\n \n+  _isInLightMode() {",
        "comment_created_at": "2025-08-16T20:59:04+00:00",
        "comment_author": "CvX",
        "comment_body": "1. this and the next one should be getters instead\r\n2. we recently discussed the naming convention for \"private\" props, and while opinions on using the actual private property syntax (i.e. the `#` prefix) are split, the consensus is to not use `_` name prefixes.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2283078049",
    "pr_number": 34361,
    "pr_file": "app/assets/javascripts/discourse/app/controllers/preferences/interface.js",
    "created_at": "2025-08-18T17:53:09+00:00",
    "commented_code": "return userOptionTextSize !== selectedTextSize;\n   }\n \n+  get isInLightMode() {\n+    return (\n+      this.interfaceColor.colorModeIsLight ||\n+      (this.interfaceColor.colorModeIsAuto &&\n+        !window.matchMedia(\"(prefers-color-scheme: dark)\").matches)\n+    );\n+  }\n+\n+  get isInDarkMode() {\n+    return (\n+      this.interfaceColor.colorModeIsDark ||\n+      (this.interfaceColor.colorModeIsAuto &&\n+        window.matchMedia(\"(prefers-color-scheme: dark)\").matches)\n+    );\n+  }\n+\n+  _shouldEnablePreview(isDarkMode) {",
    "repo_full_name": "discourse/discourse",
    "discussion_comments": [
      {
        "comment_id": "2283078049",
        "repo_full_name": "discourse/discourse",
        "pr_number": 34361,
        "pr_file": "app/assets/javascripts/discourse/app/controllers/preferences/interface.js",
        "discussion_id": "2283078049",
        "commented_code": "@@ -185,6 +185,52 @@ export default class InterfaceController extends Controller {\n     return userOptionTextSize !== selectedTextSize;\n   }\n \n+  get isInLightMode() {\n+    return (\n+      this.interfaceColor.colorModeIsLight ||\n+      (this.interfaceColor.colorModeIsAuto &&\n+        !window.matchMedia(\"(prefers-color-scheme: dark)\").matches)\n+    );\n+  }\n+\n+  get isInDarkMode() {\n+    return (\n+      this.interfaceColor.colorModeIsDark ||\n+      (this.interfaceColor.colorModeIsAuto &&\n+        window.matchMedia(\"(prefers-color-scheme: dark)\").matches)\n+    );\n+  }\n+\n+  _shouldEnablePreview(isDarkMode) {",
        "comment_created_at": "2025-08-18T17:53:09+00:00",
        "comment_author": "CvX",
        "comment_body": "`_` prefixed methods should be renamed - as in the other PR, either just w/o it or converted to full-fledged private methods with `#` prefix",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2280864861",
    "pr_number": 34359,
    "pr_file": "app/assets/javascripts/admin/addon/controllers/admin-customize-colors.js",
    "created_at": "2025-08-17T12:41:58+00:00",
    "commented_code": "this.defaultTheme?.dark_color_scheme_id;\n   }\n \n-  get changedThemePreferences() {\n-    const changedTheme = this.defaultTheme?.id !== currentThemeId(this.site);\n+  _getUserColorSchemeDifferences() {",
    "repo_full_name": "discourse/discourse",
    "discussion_comments": [
      {
        "comment_id": "2280864861",
        "repo_full_name": "discourse/discourse",
        "pr_number": 34359,
        "pr_file": "app/assets/javascripts/admin/addon/controllers/admin-customize-colors.js",
        "discussion_id": "2280864861",
        "commented_code": "@@ -63,18 +68,86 @@ export default class AdminCustomizeColorsController extends Controller {\n       this.defaultTheme?.dark_color_scheme_id;\n   }\n \n-  get changedThemePreferences() {\n-    const changedTheme = this.defaultTheme?.id !== currentThemeId(this.site);\n+  _getUserColorSchemeDifferences() {",
        "comment_created_at": "2025-08-17T12:41:58+00:00",
        "comment_author": "CvX",
        "comment_body": "this probably should be a getter (and without the `_get` prefix)",
        "pr_file_module": null
      }
    ]
  }
]