[
  {
    "discussion_id": "2089882683",
    "pr_number": 19448,
    "pr_file": "django/contrib/admin/templates/admin/object_history.html",
    "created_at": "2025-05-14T23:03:50+00:00",
    "commented_code": "{% endfor %}\n         </tbody>\n     </table>\n-    <p class=\"paginator\">\n+    <nav class=\"paginator\" aria-labelledby=\"pagination\">\n+      <h2 id=\"pagination\" class=\"visually-hidden\">Pagination</h2>",
    "repo_full_name": "django/django",
    "discussion_comments": [
      {
        "comment_id": "2089882683",
        "repo_full_name": "django/django",
        "pr_number": 19448,
        "pr_file": "django/contrib/admin/templates/admin/object_history.html",
        "discussion_id": "2089882683",
        "commented_code": "@@ -34,20 +34,21 @@\n         {% endfor %}\n         </tbody>\n     </table>\n-    <p class=\"paginator\">\n+    <nav class=\"paginator\" aria-labelledby=\"pagination\">\n+      <h2 id=\"pagination\" class=\"visually-hidden\">Pagination</h2>",
        "comment_created_at": "2025-05-14T23:03:50+00:00",
        "comment_author": "Antoliny0919",
        "comment_body": "I have one question @tut-tuuut \ud83d\ude03.\r\n \r\nCurrently, only the word \"pagination\" is provided as a screen reader.\r\nI'm wondering if it would be better to include the model name before it.\r\nIt might be too much information, but at the same time, I\u2019m concerned that when screen reader users navigate to the pagination area, the word \"pagination\" alone may not clearly indicate which model's pagination it is.\r\n(It's not that they won\u2019t know, but rather that they would have to keep track of which model it refers to.)",
        "pr_file_module": null
      },
      {
        "comment_id": "2094201454",
        "repo_full_name": "django/django",
        "pr_number": 19448,
        "pr_file": "django/contrib/admin/templates/admin/object_history.html",
        "discussion_id": "2089882683",
        "commented_code": "@@ -34,20 +34,21 @@\n         {% endfor %}\n         </tbody>\n     </table>\n-    <p class=\"paginator\">\n+    <nav class=\"paginator\" aria-labelledby=\"pagination\">\n+      <h2 id=\"pagination\" class=\"visually-hidden\">Pagination</h2>",
        "comment_created_at": "2025-05-17T20:16:05+00:00",
        "comment_author": "tut-tuuut",
        "comment_body": "\r\nI'm wondering if it's useful with only one pagination per page. (But on the other hand, explicit is better than implicit!)\r\nI'm not sure if it's possible to have several paginations on only one page? I'm trying to make it happen on my test django instance ^^",
        "pr_file_module": null
      },
      {
        "comment_id": "2094292267",
        "repo_full_name": "django/django",
        "pr_number": 19448,
        "pr_file": "django/contrib/admin/templates/admin/object_history.html",
        "discussion_id": "2089882683",
        "commented_code": "@@ -34,20 +34,21 @@\n         {% endfor %}\n         </tbody>\n     </table>\n-    <p class=\"paginator\">\n+    <nav class=\"paginator\" aria-labelledby=\"pagination\">\n+      <h2 id=\"pagination\" class=\"visually-hidden\">Pagination</h2>",
        "comment_created_at": "2025-05-18T00:52:32+00:00",
        "comment_author": "Antoliny0919",
        "comment_body": "Hello @tut-tuuut \r\nIn theory, customize the admin page, we can place multiple paginations on a single page, but I think such cases are rare.\r\n\r\nPreviously, when we improved the accessibility of the search section, we included the module_name in that part.\r\n\r\nAs you mentioned, I also think that explicit is better than implicit.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2108919785",
    "pr_number": 19448,
    "pr_file": "django/contrib/admin/templates/admin/object_history.html",
    "created_at": "2025-05-27T11:19:30+00:00",
    "commented_code": "{% endfor %}\n         </tbody>\n     </table>\n-    <p class=\"paginator\">\n+    <nav class=\"paginator\" aria-labelledby=\"pagination\">\n+      <h2 id=\"pagination\" class=\"visually-hidden\">{% blocktranslate with name=opts.verbose_name %}Pagination {{ name }} entries{% endblocktranslate %}</h2>",
    "repo_full_name": "django/django",
    "discussion_comments": [
      {
        "comment_id": "2108919785",
        "repo_full_name": "django/django",
        "pr_number": 19448,
        "pr_file": "django/contrib/admin/templates/admin/object_history.html",
        "discussion_id": "2108919785",
        "commented_code": "@@ -34,20 +34,23 @@\n         {% endfor %}\n         </tbody>\n     </table>\n-    <p class=\"paginator\">\n+    <nav class=\"paginator\" aria-labelledby=\"pagination\">\n+      <h2 id=\"pagination\" class=\"visually-hidden\">{% blocktranslate with name=opts.verbose_name %}Pagination {{ name }} entries{% endblocktranslate %}</h2>",
        "comment_created_at": "2025-05-27T11:19:30+00:00",
        "comment_author": "Antoliny0919",
        "comment_body": "Since screen readers allow users to navigate to both the nav tag and the h2 tag in sequence, it seems that the descriptions provided are essentially redundant.\r\n\r\nWhat do you think about removing the h2 tag and providing an aria-label on the nav element instead?\r\n\r\nWhile this would mean giving up the heading semantics(translation), I think it might provide a more natural experience when navigating with a screen reader.",
        "pr_file_module": null
      },
      {
        "comment_id": "2163168532",
        "repo_full_name": "django/django",
        "pr_number": 19448,
        "pr_file": "django/contrib/admin/templates/admin/object_history.html",
        "discussion_id": "2108919785",
        "commented_code": "@@ -34,20 +34,23 @@\n         {% endfor %}\n         </tbody>\n     </table>\n-    <p class=\"paginator\">\n+    <nav class=\"paginator\" aria-labelledby=\"pagination\">\n+      <h2 id=\"pagination\" class=\"visually-hidden\">{% blocktranslate with name=opts.verbose_name %}Pagination {{ name }} entries{% endblocktranslate %}</h2>",
        "comment_created_at": "2025-06-24T07:28:30+00:00",
        "comment_author": "sarahboyce",
        "comment_body": "I wouldn't make this an aria-label as we lose translation benefits (pretty sure @MHLut explained this to me once)\r\nIf you don't want the navigation via headers, this could be a span or some other tag",
        "pr_file_module": null
      },
      {
        "comment_id": "2165088295",
        "repo_full_name": "django/django",
        "pr_number": 19448,
        "pr_file": "django/contrib/admin/templates/admin/object_history.html",
        "discussion_id": "2108919785",
        "commented_code": "@@ -34,20 +34,23 @@\n         {% endfor %}\n         </tbody>\n     </table>\n-    <p class=\"paginator\">\n+    <nav class=\"paginator\" aria-labelledby=\"pagination\">\n+      <h2 id=\"pagination\" class=\"visually-hidden\">{% blocktranslate with name=opts.verbose_name %}Pagination {{ name }} entries{% endblocktranslate %}</h2>",
        "comment_created_at": "2025-06-24T22:57:21+00:00",
        "comment_author": "Antoliny0919",
        "comment_body": "I\u2019ve reconsidered this part, and using an `<h2>` tag seems more appropriate when taking header navigation into account.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1995780265",
    "pr_number": 19105,
    "pr_file": "django/contrib/admin/templates/admin/delete_confirmation.html",
    "created_at": "2025-03-14T15:27:25+00:00",
    "commented_code": "<a href=\"{% url 'admin:index' %}\">{% translate 'Home' %}</a>\n &rsaquo; <a href=\"{% url 'admin:app_list' app_label=opts.app_label %}\">{{ opts.app_config.verbose_name }}</a>\n &rsaquo; <a href=\"{% url opts|admin_urlname:'changelist' %}\">{{ opts.verbose_name_plural|capfirst }}</a>\n-&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|truncatewords:\"18\" }}</a>\n+&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|to_object_display_value|truncatechars:\"18\" }}</a>",
    "repo_full_name": "django/django",
    "discussion_comments": [
      {
        "comment_id": "1995780265",
        "repo_full_name": "django/django",
        "pr_number": 19105,
        "pr_file": "django/contrib/admin/templates/admin/delete_confirmation.html",
        "discussion_id": "1995780265",
        "commented_code": "@@ -14,25 +14,25 @@\n <a href=\"{% url 'admin:index' %}\">{% translate 'Home' %}</a>\n &rsaquo; <a href=\"{% url 'admin:app_list' app_label=opts.app_label %}\">{{ opts.app_config.verbose_name }}</a>\n &rsaquo; <a href=\"{% url opts|admin_urlname:'changelist' %}\">{{ opts.verbose_name_plural|capfirst }}</a>\n-&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|truncatewords:\"18\" }}</a>\n+&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|to_object_display_value|truncatechars:\"18\" }}</a>",
        "comment_created_at": "2025-03-14T15:27:25+00:00",
        "comment_author": "cliff688",
        "comment_body": "Is the change from `truncatewords` -> `truncatechars` intentional? If so can you share your thoughts",
        "pr_file_module": null
      },
      {
        "comment_id": "1997751547",
        "repo_full_name": "django/django",
        "pr_number": 19105,
        "pr_file": "django/contrib/admin/templates/admin/delete_confirmation.html",
        "discussion_id": "1995780265",
        "commented_code": "@@ -14,25 +14,25 @@\n <a href=\"{% url 'admin:index' %}\">{% translate 'Home' %}</a>\n &rsaquo; <a href=\"{% url 'admin:app_list' app_label=opts.app_label %}\">{{ opts.app_config.verbose_name }}</a>\n &rsaquo; <a href=\"{% url opts|admin_urlname:'changelist' %}\">{{ opts.verbose_name_plural|capfirst }}</a>\n-&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|truncatewords:\"18\" }}</a>\n+&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|to_object_display_value|truncatechars:\"18\" }}</a>",
        "comment_created_at": "2025-03-16T22:29:13+00:00",
        "comment_author": "Antoliny0919",
        "comment_body": "Thank you! cliff688, truncatewords does not handle whitespace,so I changed it to truncatechars.\r\nhttps://github.com/django/django/pull/19105#discussion_r1951918927",
        "pr_file_module": null
      },
      {
        "comment_id": "2007821033",
        "repo_full_name": "django/django",
        "pr_number": 19105,
        "pr_file": "django/contrib/admin/templates/admin/delete_confirmation.html",
        "discussion_id": "1995780265",
        "commented_code": "@@ -14,25 +14,25 @@\n <a href=\"{% url 'admin:index' %}\">{% translate 'Home' %}</a>\n &rsaquo; <a href=\"{% url 'admin:app_list' app_label=opts.app_label %}\">{{ opts.app_config.verbose_name }}</a>\n &rsaquo; <a href=\"{% url opts|admin_urlname:'changelist' %}\">{{ opts.verbose_name_plural|capfirst }}</a>\n-&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|truncatewords:\"18\" }}</a>\n+&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|to_object_display_value|truncatechars:\"18\" }}</a>",
        "comment_created_at": "2025-03-21T15:25:28+00:00",
        "comment_author": "sarahboyce",
        "comment_body": "Updating to truncated chars means we should increase this number\r\nPreviously `\"I am a long piece of text with many words and I go on and on and on and on\"` :\r\n-  was `\"I am a long piece of text with many words and I go on and on and on...\"`\r\n- now `\"I am a long piece ...\"`\r\n\r\nWe should probably have a test around this boundary and agree a reasonable number",
        "pr_file_module": null
      },
      {
        "comment_id": "2008773827",
        "repo_full_name": "django/django",
        "pr_number": 19105,
        "pr_file": "django/contrib/admin/templates/admin/delete_confirmation.html",
        "discussion_id": "1995780265",
        "commented_code": "@@ -14,25 +14,25 @@\n <a href=\"{% url 'admin:index' %}\">{% translate 'Home' %}</a>\n &rsaquo; <a href=\"{% url 'admin:app_list' app_label=opts.app_label %}\">{{ opts.app_config.verbose_name }}</a>\n &rsaquo; <a href=\"{% url opts|admin_urlname:'changelist' %}\">{{ opts.verbose_name_plural|capfirst }}</a>\n-&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|truncatewords:\"18\" }}</a>\n+&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|to_object_display_value|truncatechars:\"18\" }}</a>",
        "comment_created_at": "2025-03-22T13:37:19+00:00",
        "comment_author": "Antoliny0919",
        "comment_body": "I'm unsure about this part... \ud83e\uddd0\r\nI'm a bit concerned about modifying the original form to handle spaces, as it will be different from the previous version regardless of the compromise we reach.\r\nThis change doesn't seem to cause big issues, but I still want to preserve the characteristics of truncatewords as much as possible.\r\nI'll look into this part. If you have any good ideas, please let me know! Thank you, @sarahboyce :)\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2045890763",
        "repo_full_name": "django/django",
        "pr_number": 19105,
        "pr_file": "django/contrib/admin/templates/admin/delete_confirmation.html",
        "discussion_id": "1995780265",
        "commented_code": "@@ -14,25 +14,25 @@\n <a href=\"{% url 'admin:index' %}\">{% translate 'Home' %}</a>\n &rsaquo; <a href=\"{% url 'admin:app_list' app_label=opts.app_label %}\">{{ opts.app_config.verbose_name }}</a>\n &rsaquo; <a href=\"{% url opts|admin_urlname:'changelist' %}\">{{ opts.verbose_name_plural|capfirst }}</a>\n-&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|truncatewords:\"18\" }}</a>\n+&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|to_object_display_value|truncatechars:\"18\" }}</a>",
        "comment_created_at": "2025-04-16T02:29:40+00:00",
        "comment_author": "Antoliny0919",
        "comment_body": "For now, I used a truncatechars value of 80. As you mentioned, I think this value needs to be discussed and agreed upon. I'm also curious to hear the opinions of the accessibility team. [Considering the purpose of `__str__`](https://docs.djangoproject.com/en/5.2/ref/models/instances/#str), I personally feel that removing `truncatechars` might not be a bad idea.\r\n\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2134333746",
        "repo_full_name": "django/django",
        "pr_number": 19105,
        "pr_file": "django/contrib/admin/templates/admin/delete_confirmation.html",
        "discussion_id": "1995780265",
        "commented_code": "@@ -14,25 +14,25 @@\n <a href=\"{% url 'admin:index' %}\">{% translate 'Home' %}</a>\n &rsaquo; <a href=\"{% url 'admin:app_list' app_label=opts.app_label %}\">{{ opts.app_config.verbose_name }}</a>\n &rsaquo; <a href=\"{% url opts|admin_urlname:'changelist' %}\">{{ opts.verbose_name_plural|capfirst }}</a>\n-&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|truncatewords:\"18\" }}</a>\n+&rsaquo; <a href=\"{% url opts|admin_urlname:'change' object.pk|admin_urlquote %}\">{{ object|to_object_display_value|truncatechars:\"18\" }}</a>",
        "comment_created_at": "2025-06-08T01:56:35+00:00",
        "comment_author": "Antoliny0919",
        "comment_body": "As a potential solution regarding this part, [accessibility improvements for the current breadcrumbs are in progress](https://github.com/django/django/pull/19492). As part of this work, `<a>` tags are being introduced, and by adding `title` and `aria-label` attributes to these a tags, the full content can be equally provided to both visual and screen reader users, regardless of the truncation length.",
        "pr_file_module": null
      }
    ]
  }
]