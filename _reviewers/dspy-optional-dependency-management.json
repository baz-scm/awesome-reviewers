[
  {
    "discussion_id": "2041405661",
    "pr_number": 8060,
    "pr_file": "pyproject.toml",
    "created_at": "2025-04-14T04:42:21+00:00",
    "commented_code": "\"json-repair>=0.30.0\",\n     \"tenacity>=8.2.3\",\n     \"anyio\",\n+    \"mcp>=1.6.0\",",
    "repo_full_name": "stanfordnlp/dspy",
    "discussion_comments": [
      {
        "comment_id": "2041405661",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 8060,
        "pr_file": "pyproject.toml",
        "discussion_id": "2041405661",
        "commented_code": "@@ -41,10 +41,12 @@ dependencies = [\n     \"json-repair>=0.30.0\",\n     \"tenacity>=8.2.3\",\n     \"anyio\",\n+    \"mcp>=1.6.0\",",
        "comment_created_at": "2025-04-14T04:42:21+00:00",
        "comment_author": "TomeHirata",
        "comment_body": "Please don't include mcp in the main dependency. Include it in the extra dependency instead",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1581607469",
    "pr_number": 911,
    "pr_file": "pyproject.toml",
    "created_at": "2024-04-26T23:27:44+00:00",
    "commented_code": "psycopg2 = { version = \"^2.9.9\", optional = true }\n pgvector = { version = \"^0.2.5\", optional = true }\n structlog = \"^24.1.0\"\n+llama-index = \"^0.10.30\"",
    "repo_full_name": "stanfordnlp/dspy",
    "discussion_comments": [
      {
        "comment_id": "1581607469",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 911,
        "pr_file": "pyproject.toml",
        "discussion_id": "1581607469",
        "commented_code": "@@ -118,6 +118,7 @@ rich = \"^13.7.1\"\n psycopg2 = { version = \"^2.9.9\", optional = true }\n pgvector = { version = \"^0.2.5\", optional = true }\n structlog = \"^24.1.0\"\n+llama-index = \"^0.10.30\"",
        "comment_created_at": "2024-04-26T23:27:44+00:00",
        "comment_author": "ammirsm",
        "comment_body": "don't you think it should be optional?",
        "pr_file_module": null
      },
      {
        "comment_id": "1581608495",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 911,
        "pr_file": "pyproject.toml",
        "discussion_id": "1581607469",
        "commented_code": "@@ -118,6 +118,7 @@ rich = \"^13.7.1\"\n psycopg2 = { version = \"^2.9.9\", optional = true }\n pgvector = { version = \"^0.2.5\", optional = true }\n structlog = \"^24.1.0\"\n+llama-index = \"^0.10.30\"",
        "comment_created_at": "2024-04-26T23:31:16+00:00",
        "comment_author": "ammirsm",
        "comment_body": "I know it is causing lots of confusion but for the dependencies right now we use 3 different places... I have a PR to fix that in a short but if it is going to be merge before that you need to add your dependencies in requirements.txt (which use for building our package), here that you added it, and `dependencies` in the pyproject.toml ...\r\n\r\n more info:\r\nhttps://github.com/stanfordnlp/dspy/pull/819\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "1582159442",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 911,
        "pr_file": "pyproject.toml",
        "discussion_id": "1581607469",
        "commented_code": "@@ -118,6 +118,7 @@ rich = \"^13.7.1\"\n psycopg2 = { version = \"^2.9.9\", optional = true }\n pgvector = { version = \"^0.2.5\", optional = true }\n structlog = \"^24.1.0\"\n+llama-index = \"^0.10.30\"",
        "comment_created_at": "2024-04-28T13:30:59+00:00",
        "comment_author": "no-dice-io",
        "comment_body": "I'm open to making the dependency optional - but wouldn't my tests fail as you pointed out if we run that route? ",
        "pr_file_module": null
      },
      {
        "comment_id": "1585113153",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 911,
        "pr_file": "pyproject.toml",
        "discussion_id": "1581607469",
        "commented_code": "@@ -118,6 +118,7 @@ rich = \"^13.7.1\"\n psycopg2 = { version = \"^2.9.9\", optional = true }\n pgvector = { version = \"^0.2.5\", optional = true }\n structlog = \"^24.1.0\"\n+llama-index = \"^0.10.30\"",
        "comment_created_at": "2024-04-30T16:05:02+00:00",
        "comment_author": "ammirsm",
        "comment_body": "I think the best way is to tag those tests to just be ran when the llama-index is installed and we fix the CI based on that.",
        "pr_file_module": null
      },
      {
        "comment_id": "1585287540",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 911,
        "pr_file": "pyproject.toml",
        "discussion_id": "1581607469",
        "commented_code": "@@ -118,6 +118,7 @@ rich = \"^13.7.1\"\n psycopg2 = { version = \"^2.9.9\", optional = true }\n pgvector = { version = \"^0.2.5\", optional = true }\n structlog = \"^24.1.0\"\n+llama-index = \"^0.10.30\"",
        "comment_created_at": "2024-04-30T18:05:51+00:00",
        "comment_author": "no-dice-io",
        "comment_body": "I'll go with that. I'll make the adjustment today or tomorrow. I'll only run those tests when llamaindex is present.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1530379749",
    "pr_number": 637,
    "pr_file": "pyproject.toml",
    "created_at": "2024-03-19T13:34:45+00:00",
    "commented_code": "autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+groq = \"^0.4.2\"",
    "repo_full_name": "stanfordnlp/dspy",
    "discussion_comments": [
      {
        "comment_id": "1530379749",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 637,
        "pr_file": "pyproject.toml",
        "discussion_id": "1530379749",
        "commented_code": "@@ -108,6 +109,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+groq = \"^0.4.2\"",
        "comment_created_at": "2024-03-19T13:34:45+00:00",
        "comment_author": "okhat",
        "comment_body": "Shouldn't this be optional? We don't want a dependency on groq",
        "pr_file_module": null
      },
      {
        "comment_id": "1530502845",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 637,
        "pr_file": "pyproject.toml",
        "discussion_id": "1530379749",
        "commented_code": "@@ -108,6 +109,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+groq = \"^0.4.2\"",
        "comment_created_at": "2024-03-19T14:35:34+00:00",
        "comment_author": "someshfengde",
        "comment_body": "I think it's required it's the same for anthropic, openai etc",
        "pr_file_module": null
      },
      {
        "comment_id": "1530769290",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 637,
        "pr_file": "pyproject.toml",
        "discussion_id": "1530379749",
        "commented_code": "@@ -108,6 +109,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+groq = \"^0.4.2\"",
        "comment_created_at": "2024-03-19T17:05:27+00:00",
        "comment_author": "arnavsinghvi11",
        "comment_body": "@someshfengde adding `optional = true` as done with the other dependencies should resolve this",
        "pr_file_module": null
      },
      {
        "comment_id": "1531547177",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 637,
        "pr_file": "pyproject.toml",
        "discussion_id": "1530379749",
        "commented_code": "@@ -108,6 +109,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+groq = \"^0.4.2\"",
        "comment_created_at": "2024-03-20T06:11:39+00:00",
        "comment_author": "someshfengde",
        "comment_body": "Hi @arnavsinghvi11  @okhat  I've added it as optional ",
        "pr_file_module": null
      },
      {
        "comment_id": "1531551499",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 637,
        "pr_file": "pyproject.toml",
        "discussion_id": "1530379749",
        "commented_code": "@@ -108,6 +109,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+groq = \"^0.4.2\"",
        "comment_created_at": "2024-03-20T06:19:53+00:00",
        "comment_author": "someshfengde",
        "comment_body": "Also resolved the merge conflicts. \r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "1532577711",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 637,
        "pr_file": "pyproject.toml",
        "discussion_id": "1530379749",
        "commented_code": "@@ -108,6 +109,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+groq = \"^0.4.2\"",
        "comment_created_at": "2024-03-20T18:13:21+00:00",
        "comment_author": "arnavsinghvi11",
        "comment_body": "Thanks @someshfengde ! are the poetry.lock changes needed for the PR as well? not sure if they are. will merge following this confirmation!",
        "pr_file_module": null
      },
      {
        "comment_id": "1533234970",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 637,
        "pr_file": "pyproject.toml",
        "discussion_id": "1530379749",
        "commented_code": "@@ -108,6 +109,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+groq = \"^0.4.2\"",
        "comment_created_at": "2024-03-21T04:32:59+00:00",
        "comment_author": "someshfengde",
        "comment_body": "\ud83d\udc4d \r\n",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1518643179",
    "pr_number": 608,
    "pr_file": "pyproject.toml",
    "created_at": "2024-03-09T18:43:48+00:00",
    "commented_code": "autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+mistralai = \"^0.1.3\"",
    "repo_full_name": "stanfordnlp/dspy",
    "discussion_comments": [
      {
        "comment_id": "1518643179",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 608,
        "pr_file": "pyproject.toml",
        "discussion_id": "1518643179",
        "commented_code": "@@ -101,6 +102,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+mistralai = \"^0.1.3\"",
        "comment_created_at": "2024-03-09T18:43:48+00:00",
        "comment_author": "arnavsinghvi11",
        "comment_body": "remove from global dependencies",
        "pr_file_module": null
      },
      {
        "comment_id": "1518649443",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 608,
        "pr_file": "pyproject.toml",
        "discussion_id": "1518643179",
        "commented_code": "@@ -101,6 +102,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+mistralai = \"^0.1.3\"",
        "comment_created_at": "2024-03-09T19:34:19+00:00",
        "comment_author": "fsndzomga",
        "comment_body": "thanks for the proposal. I wanted to do that initially. but when I did, the PR failed some tests in the CI/CD because of all the imports from mistralai client didn't work. Can you recommend a workaround ?",
        "pr_file_module": null
      },
      {
        "comment_id": "1518649945",
        "repo_full_name": "stanfordnlp/dspy",
        "pr_number": 608,
        "pr_file": "pyproject.toml",
        "discussion_id": "1518643179",
        "commented_code": "@@ -101,6 +102,7 @@ sphinx_rtd_theme = { version = \"*\", optional = true }\n autodoc_pydantic = { version = \"*\", optional = true }\n sphinx-reredirects = { version = \"^0.1.2\", optional = true }\n sphinx-automodapi = { version = \"0.16.0\", optional = true }\n+mistralai = \"^0.1.3\"",
        "comment_created_at": "2024-03-09T19:39:06+00:00",
        "comment_author": "arnavsinghvi11",
        "comment_body": "I believe the local imports from above should fix this!",
        "pr_file_module": null
      }
    ]
  }
]