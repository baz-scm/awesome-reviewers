[
  {
    "discussion_id": "1510598677",
    "pr_number": 2895,
    "pr_file": ".github/workflows/test.yml",
    "created_at": "2024-03-04T05:17:37+00:00",
    "commented_code": "with:\n           go-version: ${{ matrix.go-version }}\n \n-      - run: go test ./... -v -race -count=1\n+      - name: Install gotestsum\n+        run: go install gotest.tools/gotestsum@v1.11.0\n+\n+      - name: Run gotestsum\n+        run: gotestsum -f testname -- ./... -race",
    "repo_full_name": "gofiber/fiber",
    "discussion_comments": [
      {
        "comment_id": "1510598677",
        "repo_full_name": "gofiber/fiber",
        "pr_number": 2895,
        "pr_file": ".github/workflows/test.yml",
        "discussion_id": "1510598677",
        "commented_code": "@@ -30,4 +30,8 @@ jobs:\n         with:\n           go-version: ${{ matrix.go-version }}\n \n-      - run: go test ./... -v -race -count=1\n+      - name: Install gotestsum\n+        run: go install gotest.tools/gotestsum@v1.11.0\n+\n+      - name: Run gotestsum\n+        run: gotestsum -f testname -- ./... -race",
        "comment_created_at": "2024-03-04T05:17:37+00:00",
        "comment_author": "gaby",
        "comment_body": "You are missing  `-count=1`",
        "pr_file_module": null
      },
      {
        "comment_id": "1510600865",
        "repo_full_name": "gofiber/fiber",
        "pr_number": 2895,
        "pr_file": ".github/workflows/test.yml",
        "discussion_id": "1510598677",
        "commented_code": "@@ -30,4 +30,8 @@ jobs:\n         with:\n           go-version: ${{ matrix.go-version }}\n \n-      - run: go test ./... -v -race -count=1\n+      - name: Install gotestsum\n+        run: go install gotest.tools/gotestsum@v1.11.0\n+\n+      - name: Run gotestsum\n+        run: gotestsum -f testname -- ./... -race",
        "comment_created_at": "2024-03-04T05:21:52+00:00",
        "comment_author": "nickajacks1",
        "comment_body": "I can add it back in, but it's already going to run every test exactly once, so it would make no difference.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1320577055",
    "pr_number": 2469,
    "pr_file": ".github/workflows/test.yml",
    "created_at": "2023-09-09T14:24:49+00:00",
    "commented_code": "- name: Install Go\n         uses: actions/setup-go@v4\n         with:\n+          cache: false # setup-go v4 caches by default\n           go-version: ${{ matrix.go-version }}\n \n       - name: Run Test\n         uses: nick-fields/retry@v2\n         with:\n           max_attempts: 3\n           timeout_minutes: 15\n-          command: go test ./... -v -race -count=1\n+          command: go test -v -race ./...",
    "repo_full_name": "gofiber/fiber",
    "discussion_comments": [
      {
        "comment_id": "1320577055",
        "repo_full_name": "gofiber/fiber",
        "pr_number": 2469,
        "pr_file": ".github/workflows/test.yml",
        "discussion_id": "1320577055",
        "commented_code": "@@ -28,11 +29,12 @@ jobs:\n       - name: Install Go\n         uses: actions/setup-go@v4\n         with:\n+          cache: false # setup-go v4 caches by default\n           go-version: ${{ matrix.go-version }}\n \n       - name: Run Test\n         uses: nick-fields/retry@v2\n         with:\n           max_attempts: 3\n           timeout_minutes: 15\n-          command: go test ./... -v -race -count=1\n+          command: go test -v -race ./...",
        "comment_created_at": "2023-09-09T14:24:49+00:00",
        "comment_author": "gaby",
        "comment_body": "Why is `count=1` removed?",
        "pr_file_module": null
      },
      {
        "comment_id": "1320872842",
        "repo_full_name": "gofiber/fiber",
        "pr_number": 2469,
        "pr_file": ".github/workflows/test.yml",
        "discussion_id": "1320577055",
        "commented_code": "@@ -28,11 +29,12 @@ jobs:\n       - name: Install Go\n         uses: actions/setup-go@v4\n         with:\n+          cache: false # setup-go v4 caches by default\n           go-version: ${{ matrix.go-version }}\n \n       - name: Run Test\n         uses: nick-fields/retry@v2\n         with:\n           max_attempts: 3\n           timeout_minutes: 15\n-          command: go test ./... -v -race -count=1\n+          command: go test -v -race ./...",
        "comment_created_at": "2023-09-10T22:14:35+00:00",
        "comment_author": "leonklingele",
        "comment_body": "This makes tests run concurrently again. Not only to make test-runs faster but also to spot data races.\r\nSee the relevant commit message: https://github.com/gofiber/fiber/pull/2469/commits/1e268a25039d671fb6fb84684985eedd26fa3a19\r\n\r\nThis was added in https://github.com/gofiber/fiber/commit/9effdf829a79df49c24318bf753f8332d6e75375 (the commit message doesn't match what has actually changed, maybe @ReneWerner87 can explain why this is/was needed)",
        "pr_file_module": null
      },
      {
        "comment_id": "1320874668",
        "repo_full_name": "gofiber/fiber",
        "pr_number": 2469,
        "pr_file": ".github/workflows/test.yml",
        "discussion_id": "1320577055",
        "commented_code": "@@ -28,11 +29,12 @@ jobs:\n       - name: Install Go\n         uses: actions/setup-go@v4\n         with:\n+          cache: false # setup-go v4 caches by default\n           go-version: ${{ matrix.go-version }}\n \n       - name: Run Test\n         uses: nick-fields/retry@v2\n         with:\n           max_attempts: 3\n           timeout_minutes: 15\n-          command: go test ./... -v -race -count=1\n+          command: go test -v -race ./...",
        "comment_created_at": "2023-09-10T22:28:07+00:00",
        "comment_author": "leonklingele",
        "comment_body": "I also removed the `test` job retry logic in https://github.com/gofiber/fiber/pull/2469/commits/6de93415ef9030f930118085e705ba2532c7d12c which allows us to spot data races immediately.",
        "pr_file_module": null
      },
      {
        "comment_id": "1320877151",
        "repo_full_name": "gofiber/fiber",
        "pr_number": 2469,
        "pr_file": ".github/workflows/test.yml",
        "discussion_id": "1320577055",
        "commented_code": "@@ -28,11 +29,12 @@ jobs:\n       - name: Install Go\n         uses: actions/setup-go@v4\n         with:\n+          cache: false # setup-go v4 caches by default\n           go-version: ${{ matrix.go-version }}\n \n       - name: Run Test\n         uses: nick-fields/retry@v2\n         with:\n           max_attempts: 3\n           timeout_minutes: 15\n-          command: go test ./... -v -race -count=1\n+          command: go test -v -race ./...",
        "comment_created_at": "2023-09-10T22:43:09+00:00",
        "comment_author": "leonklingele",
        "comment_body": "btw, this change just detected a data race! \ud83e\udd73 4c4d3475a82fb618902d2594c5f12d0c8fede7d2",
        "pr_file_module": null
      },
      {
        "comment_id": "1321090659",
        "repo_full_name": "gofiber/fiber",
        "pr_number": 2469,
        "pr_file": ".github/workflows/test.yml",
        "discussion_id": "1320577055",
        "commented_code": "@@ -28,11 +29,12 @@ jobs:\n       - name: Install Go\n         uses: actions/setup-go@v4\n         with:\n+          cache: false # setup-go v4 caches by default\n           go-version: ${{ matrix.go-version }}\n \n       - name: Run Test\n         uses: nick-fields/retry@v2\n         with:\n           max_attempts: 3\n           timeout_minutes: 15\n-          command: go test ./... -v -race -count=1\n+          command: go test -v -race ./...",
        "comment_created_at": "2023-09-11T07:14:07+00:00",
        "comment_author": "ReneWerner87",
        "comment_body": "this prefix was used to disable the golang cache for testing, because in the past several tests went through it\r\n\r\nfor now, would get this construct",
        "pr_file_module": null
      },
      {
        "comment_id": "1326936601",
        "repo_full_name": "gofiber/fiber",
        "pr_number": 2469,
        "pr_file": ".github/workflows/test.yml",
        "discussion_id": "1320577055",
        "commented_code": "@@ -28,11 +29,12 @@ jobs:\n       - name: Install Go\n         uses: actions/setup-go@v4\n         with:\n+          cache: false # setup-go v4 caches by default\n           go-version: ${{ matrix.go-version }}\n \n       - name: Run Test\n         uses: nick-fields/retry@v2\n         with:\n           max_attempts: 3\n           timeout_minutes: 15\n-          command: go test ./... -v -race -count=1\n+          command: go test -v -race ./...",
        "comment_created_at": "2023-09-15T07:54:57+00:00",
        "comment_author": "ReneWerner87",
        "comment_body": "> for now, would get this construct\r\n\r\nwith \"-count=1\"",
        "pr_file_module": null
      }
    ]
  }
]