[
  {
    "discussion_id": "1961944084",
    "pr_number": 1201,
    "pr_file": "apps/api/src/routes/v1.ts",
    "created_at": "2025-02-19T15:52:50+00:00",
    "commented_code": "wrap(extractStatusController),\n );\n \n+v1Router.post(\n+  \"/generate-llmstxt\",\n+  authMiddleware(RateLimiterMode.Extract),\n+  wrap(generateLLMsTextController),\n+);\n+\n+v1Router.get(\n+  \"/generate-llmstxt/:jobId\",\n+  authMiddleware(RateLimiterMode.ExtractStatus),\n+  wrap(generateLLMsTextStatusController),\n+);\n+",
    "repo_full_name": "firecrawl/firecrawl",
    "discussion_comments": [
      {
        "comment_id": "1961944084",
        "repo_full_name": "firecrawl/firecrawl",
        "pr_number": 1201,
        "pr_file": "apps/api/src/routes/v1.ts",
        "discussion_id": "1961944084",
        "commented_code": "@@ -242,6 +244,18 @@ v1Router.get(\n   wrap(extractStatusController),\n );\n \n+v1Router.post(\n+  \"/generate-llmstxt\",\n+  authMiddleware(RateLimiterMode.Extract),\n+  wrap(generateLLMsTextController),\n+);\n+\n+v1Router.get(\n+  \"/generate-llmstxt/:jobId\",\n+  authMiddleware(RateLimiterMode.ExtractStatus),\n+  wrap(generateLLMsTextStatusController),\n+);\n+",
        "comment_created_at": "2025-02-19T15:52:50+00:00",
        "comment_author": "mogery",
        "comment_body": "should just be `/llmstxt` imo\r\n```suggestion\r\nv1Router.post(\r\n  \"/llmstxt\",\r\n  authMiddleware(RateLimiterMode.Extract),\r\n  wrap(generateLLMsTextController),\r\n);\r\n\r\nv1Router.get(\r\n  \"/llmstxt/:jobId\",\r\n  authMiddleware(RateLimiterMode.ExtractStatus),\r\n  wrap(generateLLMsTextStatusController),\r\n);\r\n\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1689598923",
    "pr_number": 449,
    "pr_file": "apps/api/src/scraper/WebScraper/crawler.ts",
    "created_at": "2024-07-24T11:22:01+00:00",
    "commented_code": "private filterLinks(sitemapLinks: string[], limit: number, maxDepth: number): string[] {\n     return sitemapLinks\n       .filter((link) => {\n+        \n+        // if link is not a complete url, add the base url\n+        link = link.trim();\n+        const isCompleteUrl = new RegExp('^(?:[a-z+]+:)?//', 'i');\n+        if (!isCompleteUrl.test(link)){\n+          link = this.baseUrl + link;\n+        }\n+\n         const url = new URL(link);",
    "repo_full_name": "firecrawl/firecrawl",
    "discussion_comments": [
      {
        "comment_id": "1689598923",
        "repo_full_name": "firecrawl/firecrawl",
        "pr_number": 449,
        "pr_file": "apps/api/src/scraper/WebScraper/crawler.ts",
        "discussion_id": "1689598923",
        "commented_code": "@@ -64,6 +64,14 @@ export class WebCrawler {\n   private filterLinks(sitemapLinks: string[], limit: number, maxDepth: number): string[] {\n     return sitemapLinks\n       .filter((link) => {\n+        \n+        // if link is not a complete url, add the base url\n+        link = link.trim();\n+        const isCompleteUrl = new RegExp('^(?:[a-z+]+:)?//', 'i');\n+        if (!isCompleteUrl.test(link)){\n+          link = this.baseUrl + link;\n+        }\n+\n         const url = new URL(link);",
        "comment_created_at": "2024-07-24T11:22:01+00:00",
        "comment_author": "mogery",
        "comment_body": "```suggestion\r\n        const url = new URL(link.trim(), this.baseUrl);\r\n```\r\n\r\nThis is easier, faster, and does not rely on the RegEx engine",
        "pr_file_module": null
      }
    ]
  }
]