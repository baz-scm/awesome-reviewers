[
  {
    "discussion_id": "549092121",
    "pr_number": 2098,
    "pr_file": "pkg/config/types.go",
    "created_at": "2020-12-27T10:00:21+00:00",
    "commented_code": "-// Copyright 2019 fatedier, fatedier@gmail.com",
    "repo_full_name": "fatedier/frp",
    "discussion_comments": [
      {
        "comment_id": "549092121",
        "repo_full_name": "fatedier/frp",
        "pr_number": 2098,
        "pr_file": "pkg/config/types.go",
        "discussion_id": "549092121",
        "commented_code": "@@ -1,4 +1,4 @@\n-// Copyright 2019 fatedier, fatedier@gmail.com",
        "comment_created_at": "2020-12-27T10:00:21+00:00",
        "comment_author": "fatedier",
        "comment_body": "Don't remove original copyright.\r\n\r\nAdd new copyright in next line.",
        "pr_file_module": null
      },
      {
        "comment_id": "549199819",
        "repo_full_name": "fatedier/frp",
        "pr_number": 2098,
        "pr_file": "pkg/config/types.go",
        "discussion_id": "549092121",
        "commented_code": "@@ -1,4 +1,4 @@\n-// Copyright 2019 fatedier, fatedier@gmail.com",
        "comment_created_at": "2020-12-28T03:09:03+00:00",
        "comment_author": "yuyulei",
        "comment_body": "original copyright is in original `types.go`, which is renamed to `bandwidth.go`.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "382986421",
    "pr_number": 1661,
    "pr_file": "server/service.go",
    "created_at": "2020-02-23T09:17:13+00:00",
    "commented_code": "log.Info(\"https service listen on %s:%d\", cfg.ProxyBindAddr, cfg.VhostHttpsPort)\n \t}\n \n+\t// Create tcp http tunnel muxer.\n+\tif cfg.TcpHttpTunnelPort > 0 {\n+\t\tvar l net.Listener\n+\t\tl, err = net.Listen(\"tcp\", fmt.Sprintf(\"%s:%d\", cfg.ProxyBindAddr, cfg.TcpHttpTunnelPort))\n+\t\tif err != nil {\n+\t\t\terr = fmt.Errorf(\"Create server listener error, %v\", err)\n+\t\t\treturn\n+\t\t}\n+\n+\t\tsvr.rc.VhostTcpMuxer, err = vhost.NewTcpHttpTunnelMuxer(l, 30*time.Second)",
    "repo_full_name": "fatedier/frp",
    "discussion_comments": [
      {
        "comment_id": "382986421",
        "repo_full_name": "fatedier/frp",
        "pr_number": 1661,
        "pr_file": "server/service.go",
        "discussion_id": "382986421",
        "commented_code": "@@ -215,6 +215,23 @@ func NewService(cfg config.ServerCommonConf) (svr *Service, err error) {\n \t\tlog.Info(\"https service listen on %s:%d\", cfg.ProxyBindAddr, cfg.VhostHttpsPort)\n \t}\n \n+\t// Create tcp http tunnel muxer.\n+\tif cfg.TcpHttpTunnelPort > 0 {\n+\t\tvar l net.Listener\n+\t\tl, err = net.Listen(\"tcp\", fmt.Sprintf(\"%s:%d\", cfg.ProxyBindAddr, cfg.TcpHttpTunnelPort))\n+\t\tif err != nil {\n+\t\t\terr = fmt.Errorf(\"Create server listener error, %v\", err)\n+\t\t\treturn\n+\t\t}\n+\n+\t\tsvr.rc.VhostTcpMuxer, err = vhost.NewTcpHttpTunnelMuxer(l, 30*time.Second)",
        "comment_created_at": "2020-02-23T09:17:13+00:00",
        "comment_author": "mpeterson",
        "comment_body": "The timeout is a good candidate for a constant with a comment on why that arbitrary number was chosen.",
        "pr_file_module": null
      },
      {
        "comment_id": "387340849",
        "repo_full_name": "fatedier/frp",
        "pr_number": 1661,
        "pr_file": "server/service.go",
        "discussion_id": "382986421",
        "commented_code": "@@ -215,6 +215,23 @@ func NewService(cfg config.ServerCommonConf) (svr *Service, err error) {\n \t\tlog.Info(\"https service listen on %s:%d\", cfg.ProxyBindAddr, cfg.VhostHttpsPort)\n \t}\n \n+\t// Create tcp http tunnel muxer.\n+\tif cfg.TcpHttpTunnelPort > 0 {\n+\t\tvar l net.Listener\n+\t\tl, err = net.Listen(\"tcp\", fmt.Sprintf(\"%s:%d\", cfg.ProxyBindAddr, cfg.TcpHttpTunnelPort))\n+\t\tif err != nil {\n+\t\t\terr = fmt.Errorf(\"Create server listener error, %v\", err)\n+\t\t\treturn\n+\t\t}\n+\n+\t\tsvr.rc.VhostTcpMuxer, err = vhost.NewTcpHttpTunnelMuxer(l, 30*time.Second)",
        "comment_created_at": "2020-03-03T22:46:20+00:00",
        "comment_author": "GuyLewin",
        "comment_body": "I didn't put a comment, @fatedier feel free if you want to",
        "pr_file_module": null
      }
    ]
  }
]