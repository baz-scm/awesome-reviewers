[
  {
    "discussion_id": "1377461196",
    "pr_number": 3737,
    "pr_file": "Dockerfile",
    "created_at": "2023-10-31T11:48:24+00:00",
    "commented_code": "+FROM golang:1.21 AS builder\n+\n+WORKDIR /building\n+COPY . .\n+\n+ARG APP\n+RUN make ${APP}\n+\n+FROM alpine:3.18 AS runtime\n+\n+ARG APP\n+RUN addgroup -g 1000 -S ${APP} && adduser -u 1000 -S ${APP} -G ${APP} --home /app \\",
    "repo_full_name": "fatedier/frp",
    "discussion_comments": [
      {
        "comment_id": "1377461196",
        "repo_full_name": "fatedier/frp",
        "pr_number": 3737,
        "pr_file": "Dockerfile",
        "discussion_id": "1377461196",
        "commented_code": "@@ -0,0 +1,34 @@\n+FROM golang:1.21 AS builder\n+\n+WORKDIR /building\n+COPY . .\n+\n+ARG APP\n+RUN make ${APP}\n+\n+FROM alpine:3.18 AS runtime\n+\n+ARG APP\n+RUN addgroup -g 1000 -S ${APP} && adduser -u 1000 -S ${APP} -G ${APP} --home /app \\",
        "comment_created_at": "2023-10-31T11:48:24+00:00",
        "comment_author": "fatedier",
        "comment_body": "Given that frp is often used to listen on port 80, will not using the root user have any impact? On the other hand, what problems may arise from using the root user?",
        "pr_file_module": null
      },
      {
        "comment_id": "1377596359",
        "repo_full_name": "fatedier/frp",
        "pr_number": 3737,
        "pr_file": "Dockerfile",
        "discussion_id": "1377461196",
        "commented_code": "@@ -0,0 +1,34 @@\n+FROM golang:1.21 AS builder\n+\n+WORKDIR /building\n+COPY . .\n+\n+ARG APP\n+RUN make ${APP}\n+\n+FROM alpine:3.18 AS runtime\n+\n+ARG APP\n+RUN addgroup -g 1000 -S ${APP} && adduser -u 1000 -S ${APP} -G ${APP} --home /app \\",
        "comment_created_at": "2023-10-31T13:34:48+00:00",
        "comment_author": "reneleonhardt",
        "comment_body": "Using root opens the attack surface to a whole lot more security bug possibilities.\r\nThe privileged port problem was solved 3 years ago:\r\nhttps://stackoverflow.com/questions/66431299/i-can-bind-to-port-80-as-a-non-root-user-in-a-docker-container-why-whats-goin \r\nCan you try both new images to verify the expected functionality?\r\n\r\nIt would be optimal if the Docker build would automatically verify the expected functionality... \ud83d\ude09",
        "pr_file_module": null
      }
    ]
  }
]