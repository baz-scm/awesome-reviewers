[
  {
    "discussion_id": "2199101719",
    "pr_number": 3713,
    "pr_file": "packages/cli/src/gemini.tsx",
    "created_at": "2025-07-11T00:39:27+00:00",
    "commented_code": "}\n     }\n   }\n+\n+  if (\n+    settings.merged.selectedAuthType === AuthType.LOGIN_WITH_GOOGLE &&\n+    config.getNoBrowser()\n+  ) {\n+    // Do oauth before app renders to make copying the link possible.\n+    await getOauthClient(settings.merged.selectedAuthType, config);",
    "repo_full_name": "google-gemini/gemini-cli",
    "discussion_comments": [
      {
        "comment_id": "2199101719",
        "repo_full_name": "google-gemini/gemini-cli",
        "pr_number": 3713,
        "pr_file": "packages/cli/src/gemini.tsx",
        "discussion_id": "2199101719",
        "commented_code": "@@ -165,6 +166,15 @@ export async function main() {\n       }\n     }\n   }\n+\n+  if (\n+    settings.merged.selectedAuthType === AuthType.LOGIN_WITH_GOOGLE &&\n+    config.getNoBrowser()\n+  ) {\n+    // Do oauth before app renders to make copying the link possible.\n+    await getOauthClient(settings.merged.selectedAuthType, config);",
        "comment_created_at": "2025-07-11T00:39:27+00:00",
        "comment_author": "sethtroisi",
        "comment_body": "This is the reasonable flow here because you can actually copy-paste the url. BUT it requires the authtype to already be set. the \"happy\" path right now is open gemini, select login with google, quit, re-start it. This is obviously a terrible \"happy\" path but it's the best I could figure out today so we'll ship it and improve tomorrow. ",
        "pr_file_module": null
      }
    ]
  }
]