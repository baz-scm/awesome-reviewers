[
  {
    "discussion_id": "187933858",
    "pr_number": 1296,
    "pr_file": "gin.go",
    "created_at": "2018-05-14T12:26:14+00:00",
    "commented_code": "engine.SetHTMLTemplate(templ)\n }\n \n+// LoadHTMLFilesRecursively loads recursively a slice of HTML files mathing an extension\n+// and associates the result with HTML renderer.\n+func (engine *Engine) LoadHTMLFilesRecursively(folder string, extensionsAllowed []string) {\n+\n+\tfiles := []string{}\n+\tsort.Strings(extensionsAllowed)\n+\n+\tfilepath.Walk(folder, func(path string, info os.FileInfo, err error) error {\n+\t\textension := strings.ToLower(filepath.Ext(path))\n+\t\tindexFound := sort.SearchStrings(extensionsAllowed, extension)\n+\t\tif indexFound < len(extensionsAllowed) && extensionsAllowed[indexFound] == extension {\n+\t\t\tfiles = append(files, path)",
    "repo_full_name": "gin-gonic/gin",
    "discussion_comments": [
      {
        "comment_id": "187933858",
        "repo_full_name": "gin-gonic/gin",
        "pr_number": 1296,
        "pr_file": "gin.go",
        "discussion_id": "187933858",
        "commented_code": "@@ -194,6 +197,26 @@ func (engine *Engine) LoadHTMLFiles(files ...string) {\n \tengine.SetHTMLTemplate(templ)\n }\n \n+// LoadHTMLFilesRecursively loads recursively a slice of HTML files mathing an extension\n+// and associates the result with HTML renderer.\n+func (engine *Engine) LoadHTMLFilesRecursively(folder string, extensionsAllowed []string) {\n+\n+\tfiles := []string{}\n+\tsort.Strings(extensionsAllowed)\n+\n+\tfilepath.Walk(folder, func(path string, info os.FileInfo, err error) error {\n+\t\textension := strings.ToLower(filepath.Ext(path))\n+\t\tindexFound := sort.SearchStrings(extensionsAllowed, extension)\n+\t\tif indexFound < len(extensionsAllowed) && extensionsAllowed[indexFound] == extension {\n+\t\t\tfiles = append(files, path)",
        "comment_created_at": "2018-05-14T12:26:14+00:00",
        "comment_author": "thinkerou",
        "comment_body": "There are have `sort` and `search` two steps.\r\nwhy not use the follow code?\r\n\r\n```go\r\nfor _, v := range extensionsAllowed {\r\n    if strings.ToLower(v) == extension {\r\n        files = append(files, path)\r\n    }\r\n}\r\n```\r\nmoreover, `sort.SearchStrings` maybe have problem, see https://github.com/golang/go/issues/25382",
        "pr_file_module": null
      }
    ]
  }
]