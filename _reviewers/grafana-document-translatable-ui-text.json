[
  {
    "discussion_id": "2185326552",
    "pr_number": 107596,
    "pr_file": "public/app/features/dashboard-scene/saving/provisioned/PreviewBannerViewPR.tsx",
    "created_at": "2025-07-04T13:05:08+00:00",
    "commented_code": "+import { textUtil } from '@grafana/data';\n+import { Trans, t } from '@grafana/i18n';\n+import { Alert, Icon, Stack } from '@grafana/ui';\n+\n+import { commonAlertProps } from './DashboardPreviewBanner';\n+\n+// TODO: We have this https://github.com/grafana/git-ui-sync-project/issues/166 to add more details about the PR.\n+\n+/**\n+ * @description This component is used to display a banner when a provisioned dashboard/folder is created or loaded from a new branch in Github.\n+ */\n+export function PreviewBannerViewPR({\n+  prParam,\n+  isFolder = false,\n+  isNewPr,\n+}: {\n+  prParam: string;\n+  isFolder?: boolean;\n+  isNewPr?: boolean;\n+}) {\n+  const newPrText = isFolder\n+    ? 'A new folder has been created in a branch in GitHub.'\n+    : 'This dashboard is loaded from a branch in GitHub.';\n+\n+  const openPrText = isFolder\n+    ? 'A new folder has been created in a pull request in GitHub.'\n+    : 'This dashboard is loaded from a pull request in GitHub.';",
    "repo_full_name": "grafana/grafana",
    "discussion_comments": [
      {
        "comment_id": "2185326552",
        "repo_full_name": "grafana/grafana",
        "pr_number": 107596,
        "pr_file": "public/app/features/dashboard-scene/saving/provisioned/PreviewBannerViewPR.tsx",
        "discussion_id": "2185326552",
        "commented_code": "@@ -0,0 +1,51 @@\n+import { textUtil } from '@grafana/data';\n+import { Trans, t } from '@grafana/i18n';\n+import { Alert, Icon, Stack } from '@grafana/ui';\n+\n+import { commonAlertProps } from './DashboardPreviewBanner';\n+\n+// TODO: We have this https://github.com/grafana/git-ui-sync-project/issues/166 to add more details about the PR.\n+\n+/**\n+ * @description This component is used to display a banner when a provisioned dashboard/folder is created or loaded from a new branch in Github.\n+ */\n+export function PreviewBannerViewPR({\n+  prParam,\n+  isFolder = false,\n+  isNewPr,\n+}: {\n+  prParam: string;\n+  isFolder?: boolean;\n+  isNewPr?: boolean;\n+}) {\n+  const newPrText = isFolder\n+    ? 'A new folder has been created in a branch in GitHub.'\n+    : 'This dashboard is loaded from a branch in GitHub.';\n+\n+  const openPrText = isFolder\n+    ? 'A new folder has been created in a pull request in GitHub.'\n+    : 'This dashboard is loaded from a pull request in GitHub.';",
        "comment_created_at": "2025-07-04T13:05:08+00:00",
        "comment_author": "Clarity-89",
        "comment_body": "I don't think this will work, the translations need to be static. You'll need to do smth like \r\n```tsx\r\nconst openPrText = isFolder\r\n    ? t('provisioned-dashboard-preview-banner.title-dashboard-loaded-branch-git-hub', 'A new folder has been created in a pull request in GitHub.')\r\n    : t('provisioned-folder-preview-banner.title-dashboard-loaded-branch-git-hub', 'This dashboard is loaded from a pull request in GitHub.');\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "2186104312",
        "repo_full_name": "grafana/grafana",
        "pr_number": 107596,
        "pr_file": "public/app/features/dashboard-scene/saving/provisioned/PreviewBannerViewPR.tsx",
        "discussion_id": "2185326552",
        "commented_code": "@@ -0,0 +1,51 @@\n+import { textUtil } from '@grafana/data';\n+import { Trans, t } from '@grafana/i18n';\n+import { Alert, Icon, Stack } from '@grafana/ui';\n+\n+import { commonAlertProps } from './DashboardPreviewBanner';\n+\n+// TODO: We have this https://github.com/grafana/git-ui-sync-project/issues/166 to add more details about the PR.\n+\n+/**\n+ * @description This component is used to display a banner when a provisioned dashboard/folder is created or loaded from a new branch in Github.\n+ */\n+export function PreviewBannerViewPR({\n+  prParam,\n+  isFolder = false,\n+  isNewPr,\n+}: {\n+  prParam: string;\n+  isFolder?: boolean;\n+  isNewPr?: boolean;\n+}) {\n+  const newPrText = isFolder\n+    ? 'A new folder has been created in a branch in GitHub.'\n+    : 'This dashboard is loaded from a branch in GitHub.';\n+\n+  const openPrText = isFolder\n+    ? 'A new folder has been created in a pull request in GitHub.'\n+    : 'This dashboard is loaded from a pull request in GitHub.';",
        "comment_created_at": "2025-07-04T20:50:55+00:00",
        "comment_author": "ywzheng1",
        "comment_body": "fixed! ",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1447570862",
    "pr_number": 80238,
    "pr_file": "public/app/core/components/AppChrome/ReturnToPrevious/ReturnToPrevious.tsx",
    "created_at": "2024-01-10T15:45:57+00:00",
    "commented_code": "+import { css } from '@emotion/css';\n+import React from 'react';\n+\n+import { GrafanaTheme2, UrlQueryValue } from '@grafana/data';\n+import { locationService } from '@grafana/runtime';\n+import { Button, ButtonGroup, useStyles2 } from '@grafana/ui';\n+import { useQueryParams } from 'app/core/hooks/useQueryParams';\n+\n+export interface ReturnToPreviousProps {\n+  href: UrlQueryValue;\n+  title: UrlQueryValue;\n+  children: UrlQueryValue;\n+}\n+\n+export const ReturnToPrevious = ({ href, title, children }: ReturnToPreviousProps) => {\n+  const styles = useStyles2(getStyles);\n+  const [, setParams] = useQueryParams();\n+\n+  const handleOnClick = () => {\n+    href && locationService.push(href.toString());\n+  };\n+  const closeButton = () => {\n+    setParams({ __returnToTitle: null, __returnToUrl: null });\n+    const currentLocation = locationService.getLocation();\n+    locationService.push(currentLocation);\n+  };\n+\n+  const shortenTitle = (title: UrlQueryValue) => {\n+    const titleLength = 37;\n+    return title && title.toString().length > titleLength ? title.toString().substring(0, titleLength) + '...' : title;\n+  };\n+\n+  return (\n+    <ButtonGroup className={styles.wrapper}>\n+      <Button\n+        icon=\"angle-left\"\n+        size=\"sm\"\n+        variant=\"primary\"\n+        fill=\"outline\"\n+        onClick={handleOnClick}\n+        title={title?.toString()}\n+        className={styles.returnToPrevious}\n+      >\n+        Back to {shortenTitle(children)}",
    "repo_full_name": "grafana/grafana",
    "discussion_comments": [
      {
        "comment_id": "1447570862",
        "repo_full_name": "grafana/grafana",
        "pr_number": 80238,
        "pr_file": "public/app/core/components/AppChrome/ReturnToPrevious/ReturnToPrevious.tsx",
        "discussion_id": "1447570862",
        "commented_code": "@@ -0,0 +1,62 @@\n+import { css } from '@emotion/css';\n+import React from 'react';\n+\n+import { GrafanaTheme2, UrlQueryValue } from '@grafana/data';\n+import { locationService } from '@grafana/runtime';\n+import { Button, ButtonGroup, useStyles2 } from '@grafana/ui';\n+import { useQueryParams } from 'app/core/hooks/useQueryParams';\n+\n+export interface ReturnToPreviousProps {\n+  href: UrlQueryValue;\n+  title: UrlQueryValue;\n+  children: UrlQueryValue;\n+}\n+\n+export const ReturnToPrevious = ({ href, title, children }: ReturnToPreviousProps) => {\n+  const styles = useStyles2(getStyles);\n+  const [, setParams] = useQueryParams();\n+\n+  const handleOnClick = () => {\n+    href && locationService.push(href.toString());\n+  };\n+  const closeButton = () => {\n+    setParams({ __returnToTitle: null, __returnToUrl: null });\n+    const currentLocation = locationService.getLocation();\n+    locationService.push(currentLocation);\n+  };\n+\n+  const shortenTitle = (title: UrlQueryValue) => {\n+    const titleLength = 37;\n+    return title && title.toString().length > titleLength ? title.toString().substring(0, titleLength) + '...' : title;\n+  };\n+\n+  return (\n+    <ButtonGroup className={styles.wrapper}>\n+      <Button\n+        icon=\"angle-left\"\n+        size=\"sm\"\n+        variant=\"primary\"\n+        fill=\"outline\"\n+        onClick={handleOnClick}\n+        title={title?.toString()}\n+        className={styles.returnToPrevious}\n+      >\n+        Back to {shortenTitle(children)}",
        "comment_created_at": "2024-01-10T15:45:57+00:00",
        "comment_author": "JoaoSilvaGrafana",
        "comment_body": "I know this is draft but just a reminder to translate this and the aria-label \ud83d\ude04 ",
        "pr_file_module": null
      }
    ]
  }
]