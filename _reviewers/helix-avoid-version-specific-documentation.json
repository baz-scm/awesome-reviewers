[
  {
    "discussion_id": "2094119543",
    "pr_number": 13553,
    "pr_file": "book/src/building-from-source.md",
    "created_at": "2025-05-17T13:12:48+00:00",
    "commented_code": "2. Compile from source:\n \n    ```sh\n+   # Reproducible\n    cargo install --path helix-term --locked\n    ```\n+   ```sh\n+   # Optimized\n+   cargo +stable install \\",
    "repo_full_name": "helix-editor/helix",
    "discussion_comments": [
      {
        "comment_id": "2094119543",
        "repo_full_name": "helix-editor/helix",
        "pr_number": 13553,
        "pr_file": "book/src/building-from-source.md",
        "discussion_id": "2094119543",
        "commented_code": "@@ -35,10 +35,18 @@ RUSTFLAGS=\"-C target-feature=-crt-static\"\n 2. Compile from source:\n \n    ```sh\n+   # Reproducible\n    cargo install --path helix-term --locked\n    ```\n+   ```sh\n+   # Optimized\n+   cargo +stable install \\",
        "comment_created_at": "2025-05-17T13:12:48+00:00",
        "comment_author": "the-mikedavis",
        "comment_body": "`+stable` is only available if you're using rustup which is not always the case, for example you might use cargo/rustc from your package manager",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1914005383",
    "pr_number": 12453,
    "pr_file": "book/src/building-from-source.md",
    "created_at": "2025-01-14T01:31:10+00:00",
    "commented_code": "sed -i \"s|Exec=hx %F|Exec=kitty hx %F|g\" ~/.local/share/applications/Helix.desktop\n sed -i \"s|Terminal=true|Terminal=false|g\" ~/.local/share/applications/Helix.desktop\n ```\n+\n+### Building the Deb package\n+\n+#### Provided Deb limitation\n+\n+The .deb package should be provided on the release page. But because the CI\n+build is currently using Ubuntu 22.04 (this can change in the future, find the\n+real image version in the .github/workflows/release.yml) the `.deb` has a certain\n+libc6 version dependency. You can find it within the specific `.deb` details.\n+Currently libc6 (>= 2.34). That is why you can't use this deb on systems older than\n+Ubuntu 22.04, Mint 21, or Debian 12.",
    "repo_full_name": "helix-editor/helix",
    "discussion_comments": [
      {
        "comment_id": "1914005383",
        "repo_full_name": "helix-editor/helix",
        "pr_number": 12453,
        "pr_file": "book/src/building-from-source.md",
        "discussion_id": "1914005383",
        "commented_code": "@@ -162,3 +162,54 @@ file. For example, to use `kitty`:\n sed -i \"s|Exec=hx %F|Exec=kitty hx %F|g\" ~/.local/share/applications/Helix.desktop\n sed -i \"s|Terminal=true|Terminal=false|g\" ~/.local/share/applications/Helix.desktop\n ```\n+\n+### Building the Deb package\n+\n+#### Provided Deb limitation\n+\n+The .deb package should be provided on the release page. But because the CI\n+build is currently using Ubuntu 22.04 (this can change in the future, find the\n+real image version in the .github/workflows/release.yml) the `.deb` has a certain\n+libc6 version dependency. You can find it within the specific `.deb` details.\n+Currently libc6 (>= 2.34). That is why you can't use this deb on systems older than\n+Ubuntu 22.04, Mint 21, or Debian 12.",
        "comment_created_at": "2025-01-14T01:31:10+00:00",
        "comment_author": "the-mikedavis",
        "comment_body": "This text may age poorly as versions change. Let's say something a bit more generic like \"The CI may use a libc version greater than what your Ubuntu/Debian/Mint version requires - in this case you can build a `.deb` from source.\" and jump right into the directions.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1914603950",
    "pr_number": 12453,
    "pr_file": "book/src/building-from-source.md",
    "created_at": "2025-01-14T10:39:22+00:00",
    "commented_code": "sed -i \"s|Exec=hx %F|Exec=kitty hx %F|g\" ~/.local/share/applications/Helix.desktop\n sed -i \"s|Terminal=true|Terminal=false|g\" ~/.local/share/applications/Helix.desktop\n ```\n+\n+### Building the Deb package\n+\n+The `.deb` provided on the release page (built in CI) may use a libc version greater\n+than what your Debian / Ubuntu / Mint uses. In this case you can build the `.deb`\n+from source and this higher dependency will not apply.\n+\n+Install `cargo-deb`, the tool we use to build the `.deb`\n+\n+```sh\n+cargo install cargo-deb\n+```\n+\n+After you clone and enter the repository (viz. above), the command bellow will first\n+build the release binary, and later package it into the `.deb` file, in one command.",
    "repo_full_name": "helix-editor/helix",
    "discussion_comments": [
      {
        "comment_id": "1914603950",
        "repo_full_name": "helix-editor/helix",
        "pr_number": 12453,
        "pr_file": "book/src/building-from-source.md",
        "discussion_id": "1914603950",
        "commented_code": "@@ -162,3 +162,39 @@ file. For example, to use `kitty`:\n sed -i \"s|Exec=hx %F|Exec=kitty hx %F|g\" ~/.local/share/applications/Helix.desktop\n sed -i \"s|Terminal=true|Terminal=false|g\" ~/.local/share/applications/Helix.desktop\n ```\n+\n+### Building the Deb package\n+\n+The `.deb` provided on the release page (built in CI) may use a libc version greater\n+than what your Debian / Ubuntu / Mint uses. In this case you can build the `.deb`\n+from source and this higher dependency will not apply.\n+\n+Install `cargo-deb`, the tool we use to build the `.deb`\n+\n+```sh\n+cargo install cargo-deb\n+```\n+\n+After you clone and enter the repository (viz. above), the command bellow will first\n+build the release binary, and later package it into the `.deb` file, in one command.",
        "comment_created_at": "2025-01-14T10:39:22+00:00",
        "comment_author": "David-Else",
        "comment_body": "```suggestion\r\nAfter cloning and entering the Helix repository as previously described,\r\nuse the following command to build the release binary and package it into a `.deb` file in a single step.\r\n```",
        "pr_file_module": null
      }
    ]
  }
]