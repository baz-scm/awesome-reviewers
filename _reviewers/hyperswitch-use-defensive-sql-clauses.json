[
  {
    "discussion_id": "2306632391",
    "pr_number": 8949,
    "pr_file": "migrations/2025-08-25-832974_overcapture_flags_to_payment_intent_attempt_and_profile/up.sql",
    "created_at": "2025-08-28T08:23:03+00:00",
    "commented_code": "+ALTER TABLE payment_intent ADD COLUMN enable_overcapture BOOLEAN;",
    "repo_full_name": "juspay/hyperswitch",
    "discussion_comments": [
      {
        "comment_id": "2306632391",
        "repo_full_name": "juspay/hyperswitch",
        "pr_number": 8949,
        "pr_file": "migrations/2025-08-25-832974_overcapture_flags_to_payment_intent_attempt_and_profile/up.sql",
        "discussion_id": "2306632391",
        "commented_code": "@@ -0,0 +1,7 @@\n+ALTER TABLE payment_intent ADD COLUMN enable_overcapture BOOLEAN;",
        "comment_created_at": "2025-08-28T08:23:03+00:00",
        "comment_author": "hrithikesh026",
        "comment_body": "\n```suggestion\nALTER TABLE payment_intent ADD COLUMN IF NOT EXISTS enable_overcapture BOOLEAN;\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2321056662",
    "pr_number": 9272,
    "pr_file": "migrations/2025-09-04-063109_update_subscription_table_with_profile_id/down.sql",
    "created_at": "2025-09-04T07:04:48+00:00",
    "commented_code": "+ALTER TABLE subscription\n+    DROP CONSTRAINT IF EXISTS subscription_pkey,\n+    DROP COLUMN IF EXISTS profile_id,\n+    ADD COLUMN IF NOT EXISTS id SERIAL,\n+    ALTER COLUMN id SET NOT NULL,",
    "repo_full_name": "juspay/hyperswitch",
    "discussion_comments": [
      {
        "comment_id": "2321056662",
        "repo_full_name": "juspay/hyperswitch",
        "pr_number": 9272,
        "pr_file": "migrations/2025-09-04-063109_update_subscription_table_with_profile_id/down.sql",
        "discussion_id": "2321056662",
        "commented_code": "@@ -0,0 +1,12 @@\n+ALTER TABLE subscription\n+    DROP CONSTRAINT IF EXISTS subscription_pkey,\n+    DROP COLUMN IF EXISTS profile_id,\n+    ADD COLUMN IF NOT EXISTS id SERIAL,\n+    ALTER COLUMN id SET NOT NULL,",
        "comment_created_at": "2025-09-04T07:04:48+00:00",
        "comment_author": "jagan-jaya",
        "comment_body": "is this `SET NOT NULL` needed as a seperate statement? can we add it in the ADD COLUMN IF NOT EXISTS id SERIAL itself?",
        "pr_file_module": null
      },
      {
        "comment_id": "2321060565",
        "repo_full_name": "juspay/hyperswitch",
        "pr_number": 9272,
        "pr_file": "migrations/2025-09-04-063109_update_subscription_table_with_profile_id/down.sql",
        "discussion_id": "2321056662",
        "commented_code": "@@ -0,0 +1,12 @@\n+ALTER TABLE subscription\n+    DROP CONSTRAINT IF EXISTS subscription_pkey,\n+    DROP COLUMN IF EXISTS profile_id,\n+    ADD COLUMN IF NOT EXISTS id SERIAL,\n+    ALTER COLUMN id SET NOT NULL,",
        "comment_created_at": "2025-09-04T07:06:35+00:00",
        "comment_author": "prajjwalkumar17",
        "comment_body": "If we are talking about renaming column, we won't be able to do it in nested statement. That's why a separate statement is required for that.",
        "pr_file_module": null
      }
    ]
  }
]