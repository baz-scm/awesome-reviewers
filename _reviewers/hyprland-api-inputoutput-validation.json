[
  {
    "discussion_id": "1645075537",
    "pr_number": 6585,
    "pr_file": "hyprctl/main.cpp",
    "created_at": "2024-06-18T21:25:12+00:00",
    "commented_code": "batchRequest(fullRequest, json);\n     else if (fullRequest.contains(\"/hyprpaper\"))\n         exitStatus = requestHyprpaper(fullRequest);\n-    else if (fullRequest.contains(\"/switchxkblayout\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/seterror\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/setprop\"))\n-        exitStatus = request(fullRequest, 3);\n-    else if (fullRequest.contains(\"/plugin\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dismissnotify\"))\n-        exitStatus = request(fullRequest, 0);\n-    else if (fullRequest.contains(\"/notify\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/output\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/setcursor\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dispatch\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/keyword\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/decorations\"))\n-        exitStatus = request(fullRequest, 1);\n     else if (fullRequest.contains(\"/--help\"))\n         std::cout << USAGE << std::endl;\n     else if (fullRequest.contains(\"/rollinglog\") && needRoll)\n         exitStatus = request(fullRequest, 0, true);\n     else {\n-        exitStatus = request(fullRequest);\n+        exitStatus = [&]() -> int{\n+            std::map<std::string,int> commands = {\n+                {\"/switchxkblayout\", 2},\n+                {\"/seterror\", 1},\n+                {\"/setprop\", 3},\n+                {\"/plugin\", 1},\n+                {\"/dismissnotify\", 0},\n+                {\"/notify\", 2},\n+                {\"/output\", 2},\n+                {\"/setcursor\", 1},\n+                {\"/dispatch\", 1},\n+                {\"/keyword\", 2},\n+                {\"/decorations\", 1}\n+            };\n+            for (const auto& [cmd, minArgs] : commands) {\n+                if(fullRequest.contains(cmd))",
    "repo_full_name": "hyprwm/Hyprland",
    "discussion_comments": [
      {
        "comment_id": "1645075537",
        "repo_full_name": "hyprwm/Hyprland",
        "pr_number": 6585,
        "pr_file": "hyprctl/main.cpp",
        "discussion_id": "1645075537",
        "commented_code": "@@ -450,34 +450,31 @@ int main(int argc, char** argv) {\n         batchRequest(fullRequest, json);\n     else if (fullRequest.contains(\"/hyprpaper\"))\n         exitStatus = requestHyprpaper(fullRequest);\n-    else if (fullRequest.contains(\"/switchxkblayout\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/seterror\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/setprop\"))\n-        exitStatus = request(fullRequest, 3);\n-    else if (fullRequest.contains(\"/plugin\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dismissnotify\"))\n-        exitStatus = request(fullRequest, 0);\n-    else if (fullRequest.contains(\"/notify\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/output\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/setcursor\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dispatch\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/keyword\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/decorations\"))\n-        exitStatus = request(fullRequest, 1);\n     else if (fullRequest.contains(\"/--help\"))\n         std::cout << USAGE << std::endl;\n     else if (fullRequest.contains(\"/rollinglog\") && needRoll)\n         exitStatus = request(fullRequest, 0, true);\n     else {\n-        exitStatus = request(fullRequest);\n+        exitStatus = [&]() -> int{\n+            std::map<std::string,int> commands = {\n+                {\"/switchxkblayout\", 2},\n+                {\"/seterror\", 1},\n+                {\"/setprop\", 3},\n+                {\"/plugin\", 1},\n+                {\"/dismissnotify\", 0},\n+                {\"/notify\", 2},\n+                {\"/output\", 2},\n+                {\"/setcursor\", 1},\n+                {\"/dispatch\", 1},\n+                {\"/keyword\", 2},\n+                {\"/decorations\", 1}\n+            };\n+            for (const auto& [cmd, minArgs] : commands) {\n+                if(fullRequest.contains(cmd))",
        "comment_created_at": "2024-06-18T21:25:12+00:00",
        "comment_author": "vaxerski",
        "comment_body": "hm, this might bug out if the rest of the request has the thing. Maybe substring only the part after the first / and before the first space?",
        "pr_file_module": null
      },
      {
        "comment_id": "1645397423",
        "repo_full_name": "hyprwm/Hyprland",
        "pr_number": 6585,
        "pr_file": "hyprctl/main.cpp",
        "discussion_id": "1645075537",
        "commented_code": "@@ -450,34 +450,31 @@ int main(int argc, char** argv) {\n         batchRequest(fullRequest, json);\n     else if (fullRequest.contains(\"/hyprpaper\"))\n         exitStatus = requestHyprpaper(fullRequest);\n-    else if (fullRequest.contains(\"/switchxkblayout\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/seterror\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/setprop\"))\n-        exitStatus = request(fullRequest, 3);\n-    else if (fullRequest.contains(\"/plugin\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dismissnotify\"))\n-        exitStatus = request(fullRequest, 0);\n-    else if (fullRequest.contains(\"/notify\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/output\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/setcursor\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dispatch\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/keyword\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/decorations\"))\n-        exitStatus = request(fullRequest, 1);\n     else if (fullRequest.contains(\"/--help\"))\n         std::cout << USAGE << std::endl;\n     else if (fullRequest.contains(\"/rollinglog\") && needRoll)\n         exitStatus = request(fullRequest, 0, true);\n     else {\n-        exitStatus = request(fullRequest);\n+        exitStatus = [&]() -> int{\n+            std::map<std::string,int> commands = {\n+                {\"/switchxkblayout\", 2},\n+                {\"/seterror\", 1},\n+                {\"/setprop\", 3},\n+                {\"/plugin\", 1},\n+                {\"/dismissnotify\", 0},\n+                {\"/notify\", 2},\n+                {\"/output\", 2},\n+                {\"/setcursor\", 1},\n+                {\"/dispatch\", 1},\n+                {\"/keyword\", 2},\n+                {\"/decorations\", 1}\n+            };\n+            for (const auto& [cmd, minArgs] : commands) {\n+                if(fullRequest.contains(cmd))",
        "comment_created_at": "2024-06-19T04:56:20+00:00",
        "comment_author": "Yaraslaut",
        "comment_body": "I think that i do not change any behavior of parsing in this pr.\r\nfor safer way of handling cli option i would go directly with something like https://github.com/contour-terminal/contour/blob/121d7ade938ac99a18ff0b4f650254778baddafd/src/contour/ContourApp.cpp#L297 \r\nand then just \r\n```\r\n_syntax = parameterDefinition();\r\noptional<CLI::flag_store> flagsOpt = CLI::parse(_syntax.value(), argc, argv);\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "1646302881",
        "repo_full_name": "hyprwm/Hyprland",
        "pr_number": 6585,
        "pr_file": "hyprctl/main.cpp",
        "discussion_id": "1645075537",
        "commented_code": "@@ -450,34 +450,31 @@ int main(int argc, char** argv) {\n         batchRequest(fullRequest, json);\n     else if (fullRequest.contains(\"/hyprpaper\"))\n         exitStatus = requestHyprpaper(fullRequest);\n-    else if (fullRequest.contains(\"/switchxkblayout\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/seterror\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/setprop\"))\n-        exitStatus = request(fullRequest, 3);\n-    else if (fullRequest.contains(\"/plugin\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dismissnotify\"))\n-        exitStatus = request(fullRequest, 0);\n-    else if (fullRequest.contains(\"/notify\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/output\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/setcursor\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dispatch\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/keyword\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/decorations\"))\n-        exitStatus = request(fullRequest, 1);\n     else if (fullRequest.contains(\"/--help\"))\n         std::cout << USAGE << std::endl;\n     else if (fullRequest.contains(\"/rollinglog\") && needRoll)\n         exitStatus = request(fullRequest, 0, true);\n     else {\n-        exitStatus = request(fullRequest);\n+        exitStatus = [&]() -> int{\n+            std::map<std::string,int> commands = {\n+                {\"/switchxkblayout\", 2},\n+                {\"/seterror\", 1},\n+                {\"/setprop\", 3},\n+                {\"/plugin\", 1},\n+                {\"/dismissnotify\", 0},\n+                {\"/notify\", 2},\n+                {\"/output\", 2},\n+                {\"/setcursor\", 1},\n+                {\"/dispatch\", 1},\n+                {\"/keyword\", 2},\n+                {\"/decorations\", 1}\n+            };\n+            for (const auto& [cmd, minArgs] : commands) {\n+                if(fullRequest.contains(cmd))",
        "comment_created_at": "2024-06-19T14:25:33+00:00",
        "comment_author": "vaxerski",
        "comment_body": "you didn't but when already changing it why not improve?",
        "pr_file_module": null
      },
      {
        "comment_id": "1646312568",
        "repo_full_name": "hyprwm/Hyprland",
        "pr_number": 6585,
        "pr_file": "hyprctl/main.cpp",
        "discussion_id": "1645075537",
        "commented_code": "@@ -450,34 +450,31 @@ int main(int argc, char** argv) {\n         batchRequest(fullRequest, json);\n     else if (fullRequest.contains(\"/hyprpaper\"))\n         exitStatus = requestHyprpaper(fullRequest);\n-    else if (fullRequest.contains(\"/switchxkblayout\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/seterror\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/setprop\"))\n-        exitStatus = request(fullRequest, 3);\n-    else if (fullRequest.contains(\"/plugin\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dismissnotify\"))\n-        exitStatus = request(fullRequest, 0);\n-    else if (fullRequest.contains(\"/notify\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/output\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/setcursor\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dispatch\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/keyword\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/decorations\"))\n-        exitStatus = request(fullRequest, 1);\n     else if (fullRequest.contains(\"/--help\"))\n         std::cout << USAGE << std::endl;\n     else if (fullRequest.contains(\"/rollinglog\") && needRoll)\n         exitStatus = request(fullRequest, 0, true);\n     else {\n-        exitStatus = request(fullRequest);\n+        exitStatus = [&]() -> int{\n+            std::map<std::string,int> commands = {\n+                {\"/switchxkblayout\", 2},\n+                {\"/seterror\", 1},\n+                {\"/setprop\", 3},\n+                {\"/plugin\", 1},\n+                {\"/dismissnotify\", 0},\n+                {\"/notify\", 2},\n+                {\"/output\", 2},\n+                {\"/setcursor\", 1},\n+                {\"/dispatch\", 1},\n+                {\"/keyword\", 2},\n+                {\"/decorations\", 1}\n+            };\n+            for (const auto& [cmd, minArgs] : commands) {\n+                if(fullRequest.contains(cmd))",
        "comment_created_at": "2024-06-19T14:32:20+00:00",
        "comment_author": "Yaraslaut",
        "comment_body": "my feeling is that this is not a good place for input validation, especially inside for loop during check for the flags",
        "pr_file_module": null
      },
      {
        "comment_id": "1646314224",
        "repo_full_name": "hyprwm/Hyprland",
        "pr_number": 6585,
        "pr_file": "hyprctl/main.cpp",
        "discussion_id": "1645075537",
        "commented_code": "@@ -450,34 +450,31 @@ int main(int argc, char** argv) {\n         batchRequest(fullRequest, json);\n     else if (fullRequest.contains(\"/hyprpaper\"))\n         exitStatus = requestHyprpaper(fullRequest);\n-    else if (fullRequest.contains(\"/switchxkblayout\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/seterror\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/setprop\"))\n-        exitStatus = request(fullRequest, 3);\n-    else if (fullRequest.contains(\"/plugin\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dismissnotify\"))\n-        exitStatus = request(fullRequest, 0);\n-    else if (fullRequest.contains(\"/notify\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/output\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/setcursor\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dispatch\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/keyword\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/decorations\"))\n-        exitStatus = request(fullRequest, 1);\n     else if (fullRequest.contains(\"/--help\"))\n         std::cout << USAGE << std::endl;\n     else if (fullRequest.contains(\"/rollinglog\") && needRoll)\n         exitStatus = request(fullRequest, 0, true);\n     else {\n-        exitStatus = request(fullRequest);\n+        exitStatus = [&]() -> int{\n+            std::map<std::string,int> commands = {\n+                {\"/switchxkblayout\", 2},\n+                {\"/seterror\", 1},\n+                {\"/setprop\", 3},\n+                {\"/plugin\", 1},\n+                {\"/dismissnotify\", 0},\n+                {\"/notify\", 2},\n+                {\"/output\", 2},\n+                {\"/setcursor\", 1},\n+                {\"/dispatch\", 1},\n+                {\"/keyword\", 2},\n+                {\"/decorations\", 1}\n+            };\n+            for (const auto& [cmd, minArgs] : commands) {\n+                if(fullRequest.contains(cmd))",
        "comment_created_at": "2024-06-19T14:33:34+00:00",
        "comment_author": "vaxerski",
        "comment_body": "it's not input validation - it's making sure you choose the right value in case of e.g.\r\n\r\n```\r\n/notify blah blah /decorations\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "1646328044",
        "repo_full_name": "hyprwm/Hyprland",
        "pr_number": 6585,
        "pr_file": "hyprctl/main.cpp",
        "discussion_id": "1645075537",
        "commented_code": "@@ -450,34 +450,31 @@ int main(int argc, char** argv) {\n         batchRequest(fullRequest, json);\n     else if (fullRequest.contains(\"/hyprpaper\"))\n         exitStatus = requestHyprpaper(fullRequest);\n-    else if (fullRequest.contains(\"/switchxkblayout\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/seterror\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/setprop\"))\n-        exitStatus = request(fullRequest, 3);\n-    else if (fullRequest.contains(\"/plugin\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dismissnotify\"))\n-        exitStatus = request(fullRequest, 0);\n-    else if (fullRequest.contains(\"/notify\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/output\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/setcursor\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dispatch\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/keyword\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/decorations\"))\n-        exitStatus = request(fullRequest, 1);\n     else if (fullRequest.contains(\"/--help\"))\n         std::cout << USAGE << std::endl;\n     else if (fullRequest.contains(\"/rollinglog\") && needRoll)\n         exitStatus = request(fullRequest, 0, true);\n     else {\n-        exitStatus = request(fullRequest);\n+        exitStatus = [&]() -> int{\n+            std::map<std::string,int> commands = {\n+                {\"/switchxkblayout\", 2},\n+                {\"/seterror\", 1},\n+                {\"/setprop\", 3},\n+                {\"/plugin\", 1},\n+                {\"/dismissnotify\", 0},\n+                {\"/notify\", 2},\n+                {\"/output\", 2},\n+                {\"/setcursor\", 1},\n+                {\"/dispatch\", 1},\n+                {\"/keyword\", 2},\n+                {\"/decorations\", 1}\n+            };\n+            for (const auto& [cmd, minArgs] : commands) {\n+                if(fullRequest.contains(cmd))",
        "comment_created_at": "2024-06-19T14:41:12+00:00",
        "comment_author": "Yaraslaut",
        "comment_body": "If `/notify blah blah /decorations` is not ill-formed then logic is not right, since only  `/notify` command will be handled",
        "pr_file_module": null
      },
      {
        "comment_id": "1646691807",
        "repo_full_name": "hyprwm/Hyprland",
        "pr_number": 6585,
        "pr_file": "hyprctl/main.cpp",
        "discussion_id": "1645075537",
        "commented_code": "@@ -450,34 +450,31 @@ int main(int argc, char** argv) {\n         batchRequest(fullRequest, json);\n     else if (fullRequest.contains(\"/hyprpaper\"))\n         exitStatus = requestHyprpaper(fullRequest);\n-    else if (fullRequest.contains(\"/switchxkblayout\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/seterror\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/setprop\"))\n-        exitStatus = request(fullRequest, 3);\n-    else if (fullRequest.contains(\"/plugin\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dismissnotify\"))\n-        exitStatus = request(fullRequest, 0);\n-    else if (fullRequest.contains(\"/notify\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/output\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/setcursor\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/dispatch\"))\n-        exitStatus = request(fullRequest, 1);\n-    else if (fullRequest.contains(\"/keyword\"))\n-        exitStatus = request(fullRequest, 2);\n-    else if (fullRequest.contains(\"/decorations\"))\n-        exitStatus = request(fullRequest, 1);\n     else if (fullRequest.contains(\"/--help\"))\n         std::cout << USAGE << std::endl;\n     else if (fullRequest.contains(\"/rollinglog\") && needRoll)\n         exitStatus = request(fullRequest, 0, true);\n     else {\n-        exitStatus = request(fullRequest);\n+        exitStatus = [&]() -> int{\n+            std::map<std::string,int> commands = {\n+                {\"/switchxkblayout\", 2},\n+                {\"/seterror\", 1},\n+                {\"/setprop\", 3},\n+                {\"/plugin\", 1},\n+                {\"/dismissnotify\", 0},\n+                {\"/notify\", 2},\n+                {\"/output\", 2},\n+                {\"/setcursor\", 1},\n+                {\"/dispatch\", 1},\n+                {\"/keyword\", 2},\n+                {\"/decorations\", 1}\n+            };\n+            for (const auto& [cmd, minArgs] : commands) {\n+                if(fullRequest.contains(cmd))",
        "comment_created_at": "2024-06-19T21:12:34+00:00",
        "comment_author": "vaxerski",
        "comment_body": "no, the /decorations is a part of the parameter. Notify for example takes a string, so the user can put whatever.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1530628771",
    "pr_number": 5165,
    "pr_file": "src/debug/HyprCtl.cpp",
    "created_at": "2024-03-19T15:36:04+00:00",
    "commented_code": "return result;\n }\n \n+std::string configErrorsRequest(eHyprCtlOutputFormat format, std::string request) {\n+    std::string result     = \"\";\n+    std::string currErrors = g_pHyprError->getErrors();\n+    if (format == eHyprCtlOutputFormat::FORMAT_JSON) {\n+        result += \"[\";\n+        size_t currstart = 0;\n+        while (currstart != std::string::npos) {\n+            const auto  NEWLPOS = currErrors.find('\n', currstart);\n+            std::string current = currErrors.substr(currstart, NEWLPOS - currstart);\n+            currstart           = NEWLPOS;\n+            if (NEWLPOS != std::string::npos)\n+                currstart++;\n+            result += std::format(\n+                R\"#(\n+\t\"{}\",)#\",\n+\n+                current);",
    "repo_full_name": "hyprwm/Hyprland",
    "discussion_comments": [
      {
        "comment_id": "1530628771",
        "repo_full_name": "hyprwm/Hyprland",
        "pr_number": 5165,
        "pr_file": "src/debug/HyprCtl.cpp",
        "discussion_id": "1530628771",
        "commented_code": "@@ -497,6 +498,40 @@ std::string layoutsRequest(eHyprCtlOutputFormat format, std::string request) {\n     return result;\n }\n \n+std::string configErrorsRequest(eHyprCtlOutputFormat format, std::string request) {\n+    std::string result     = \"\";\n+    std::string currErrors = g_pHyprError->getErrors();\n+    if (format == eHyprCtlOutputFormat::FORMAT_JSON) {\n+        result += \"[\";\n+        size_t currstart = 0;\n+        while (currstart != std::string::npos) {\n+            const auto  NEWLPOS = currErrors.find('\\n', currstart);\n+            std::string current = currErrors.substr(currstart, NEWLPOS - currstart);\n+            currstart           = NEWLPOS;\n+            if (NEWLPOS != std::string::npos)\n+                currstart++;\n+            result += std::format(\n+                R\"#(\n+\t\"{}\",)#\",\n+\n+                current);",
        "comment_created_at": "2024-03-19T15:36:04+00:00",
        "comment_author": "vaxerski",
        "comment_body": "missing escapeJSONStrings",
        "pr_file_module": null
      }
    ]
  }
]