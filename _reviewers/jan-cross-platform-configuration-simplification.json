[
  {
    "discussion_id": "1912447933",
    "pr_number": 4429,
    "pr_file": "electron/package.json",
    "created_at": "2025-01-12T13:07:33+00:00",
    "commented_code": "\"lint\": \"eslint . --ext \\\".js,.jsx,.ts,.tsx\\\"\",\n     \"test:e2e\": \"DEBUG=pw:browser xvfb-maybe -- playwright test --workers=1\",\n     \"copy:assets\": \"rimraf --glob \\\"./pre-install/*.tgz\\\" && cpx \\\"../pre-install/*.tgz\\\" \\\"./pre-install\\\"\",\n-    \"version-patch\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n-    \"version-restore\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\n+    \"version-patch\": \"node scripts/version-patch.js\",",
    "repo_full_name": "menloresearch/jan",
    "discussion_comments": [
      {
        "comment_id": "1912447933",
        "repo_full_name": "menloresearch/jan",
        "pr_number": 4429,
        "pr_file": "electron/package.json",
        "discussion_id": "1912447933",
        "commented_code": "@@ -80,8 +80,8 @@\n     \"lint\": \"eslint . --ext \\\".js,.jsx,.ts,.tsx\\\"\",\n     \"test:e2e\": \"DEBUG=pw:browser xvfb-maybe -- playwright test --workers=1\",\n     \"copy:assets\": \"rimraf --glob \\\"./pre-install/*.tgz\\\" && cpx \\\"../pre-install/*.tgz\\\" \\\"./pre-install\\\"\",\n-    \"version-patch\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n-    \"version-restore\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\n+    \"version-patch\": \"node scripts/version-patch.js\",",
        "comment_created_at": "2025-01-12T13:07:33+00:00",
        "comment_author": "louis-menlo",
        "comment_body": "It would be better to enhance with run-script-os for multiple platform support instead of adding JS code for run scripts.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1912651876",
    "pr_number": 4429,
    "pr_file": "electron/package.json",
    "created_at": "2025-01-13T04:24:58+00:00",
    "commented_code": "\"lint\": \"eslint . --ext \\\".js,.jsx,.ts,.tsx\\\"\",\n     \"test:e2e\": \"DEBUG=pw:browser xvfb-maybe -- playwright test --workers=1\",\n     \"copy:assets\": \"rimraf --glob \\\"./pre-install/*.tgz\\\" && cpx \\\"../pre-install/*.tgz\\\" \\\"./pre-install\\\"\",\n-    \"version-patch\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n-    \"version-restore\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\n+    \"version-patch\": \"run-script-os\",\n+    \"version-patch:darwin\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n+    \"version-patch:linux\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n+    \"version-patch:win32\": \"node -e \\\"const fs=require('fs');const pkg=require('./package.json');const bak=pkg.version;fs.writeFileSync('.version.bak',bak);pkg.version='0.1.'+Math.floor(Date.now()/1000);fs.writeFileSync('package.json',JSON.stringify(pkg,null,2));\\\"\",\n+    \"version-restore\": \"run-script-os\",\n+    \"version-restore:darwin\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\n+    \"version-restore:linux\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",",
    "repo_full_name": "menloresearch/jan",
    "discussion_comments": [
      {
        "comment_id": "1912651876",
        "repo_full_name": "menloresearch/jan",
        "pr_number": 4429,
        "pr_file": "electron/package.json",
        "discussion_id": "1912651876",
        "commented_code": "@@ -80,8 +80,14 @@\n     \"lint\": \"eslint . --ext \\\".js,.jsx,.ts,.tsx\\\"\",\n     \"test:e2e\": \"DEBUG=pw:browser xvfb-maybe -- playwright test --workers=1\",\n     \"copy:assets\": \"rimraf --glob \\\"./pre-install/*.tgz\\\" && cpx \\\"../pre-install/*.tgz\\\" \\\"./pre-install\\\"\",\n-    \"version-patch\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n-    \"version-restore\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\n+    \"version-patch\": \"run-script-os\",\n+    \"version-patch:darwin\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n+    \"version-patch:linux\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n+    \"version-patch:win32\": \"node -e \\\"const fs=require('fs');const pkg=require('./package.json');const bak=pkg.version;fs.writeFileSync('.version.bak',bak);pkg.version='0.1.'+Math.floor(Date.now()/1000);fs.writeFileSync('package.json',JSON.stringify(pkg,null,2));\\\"\",\n+    \"version-restore\": \"run-script-os\",\n+    \"version-restore:darwin\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\n+    \"version-restore:linux\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",",
        "comment_created_at": "2025-01-13T04:24:58+00:00",
        "comment_author": "louis-menlo",
        "comment_body": "```suggestion\r\n    \"version-restore:darwin:linux\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "1912652508",
        "repo_full_name": "menloresearch/jan",
        "pr_number": 4429,
        "pr_file": "electron/package.json",
        "discussion_id": "1912651876",
        "commented_code": "@@ -80,8 +80,14 @@\n     \"lint\": \"eslint . --ext \\\".js,.jsx,.ts,.tsx\\\"\",\n     \"test:e2e\": \"DEBUG=pw:browser xvfb-maybe -- playwright test --workers=1\",\n     \"copy:assets\": \"rimraf --glob \\\"./pre-install/*.tgz\\\" && cpx \\\"../pre-install/*.tgz\\\" \\\"./pre-install\\\"\",\n-    \"version-patch\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n-    \"version-restore\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\n+    \"version-patch\": \"run-script-os\",\n+    \"version-patch:darwin\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n+    \"version-patch:linux\": \"jq '.version' package.json | tr -d '\\\"' > .version.bak && jq --arg ver \\\"0.1.$(date +%s)\\\" '.version = $ver' package.json > package.tmp && mv package.tmp package.json\",\n+    \"version-patch:win32\": \"node -e \\\"const fs=require('fs');const pkg=require('./package.json');const bak=pkg.version;fs.writeFileSync('.version.bak',bak);pkg.version='0.1.'+Math.floor(Date.now()/1000);fs.writeFileSync('package.json',JSON.stringify(pkg,null,2));\\\"\",\n+    \"version-restore\": \"run-script-os\",\n+    \"version-restore:darwin\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",\n+    \"version-restore:linux\": \"jq --arg ver $(cat .version.bak) '.version = $ver' package.json > package.tmp && mv package.tmp package.json && rm .version.bak\",",
        "comment_created_at": "2025-01-13T04:26:29+00:00",
        "comment_author": "louis-menlo",
        "comment_body": "Hi @bxdoan, please combine these two scripts into a single one. Then it's good to go.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1437983847",
    "pr_number": 1213,
    "pr_file": "models/codeninja-1.0-7b/model.json",
    "created_at": "2023-12-29T04:52:13+00:00",
    "commented_code": "+{\n+    \"source_url\": \"https://huggingface.co/beowolx/CodeNinja-1.0-OpenChat-7B-GGUF/resolve/main/codeninja-1.0-openchat-7b.Q4_K_M.gguf\",\n+    \"id\": \"codeninja-1.0-7b\",\n+    \"object\": \"model\",\n+    \"name\": \"CodeNinja 7B Q4\",\n+    \"version\": \"1.0\",\n+    \"description\": \"CodeNinja is an enhanced version of the renowned model openchat/openchat-3.5-1210. It is designed to be an indispensable tool for coders\",\n+    \"format\": \"gguf\",\n+    \"settings\": {\n+      \"ctx_len\": 4096,\n+      \"prompt_template\": \"GPT4 Correct User: {prompt}<|end_of_turn|>GPT4 Correct Assistant:\"\n+    },\n+    \"parameters\": {",
    "repo_full_name": "menloresearch/jan",
    "discussion_comments": [
      {
        "comment_id": "1437983847",
        "repo_full_name": "menloresearch/jan",
        "pr_number": 1213,
        "pr_file": "models/codeninja-1.0-7b/model.json",
        "discussion_id": "1437983847",
        "commented_code": "@@ -0,0 +1,23 @@\n+{\n+    \"source_url\": \"https://huggingface.co/beowolx/CodeNinja-1.0-OpenChat-7B-GGUF/resolve/main/codeninja-1.0-openchat-7b.Q4_K_M.gguf\",\n+    \"id\": \"codeninja-1.0-7b\",\n+    \"object\": \"model\",\n+    \"name\": \"CodeNinja 7B Q4\",\n+    \"version\": \"1.0\",\n+    \"description\": \"CodeNinja is an enhanced version of the renowned model openchat/openchat-3.5-1210. It is designed to be an indispensable tool for coders\",\n+    \"format\": \"gguf\",\n+    \"settings\": {\n+      \"ctx_len\": 4096,\n+      \"prompt_template\": \"GPT4 Correct User: {prompt}<|end_of_turn|>GPT4 Correct Assistant:\"\n+    },\n+    \"parameters\": {",
        "comment_created_at": "2023-12-29T04:52:13+00:00",
        "comment_author": "freelerobot",
        "comment_body": "Going forward, you don't have to always set parameters and most of the properties. It should default to a global config in the future.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1436386428",
    "pr_number": 1210,
    "pr_file": "server/package.json",
    "created_at": "2023-12-26T10:27:04+00:00",
    "commented_code": "\"scripts\": {\n     \"lint\": \"eslint . --ext \\\".js,.jsx,.ts,.tsx\\\"\",\n     \"test:e2e\": \"playwright test --workers=1\",\n-    \"dev\": \"nodemon .\",\n+    \"dev\": \"nodemon main.ts\",",
    "repo_full_name": "menloresearch/jan",
    "discussion_comments": [
      {
        "comment_id": "1436386428",
        "repo_full_name": "menloresearch/jan",
        "pr_number": 1210,
        "pr_file": "server/package.json",
        "discussion_id": "1436386428",
        "commented_code": "@@ -10,15 +10,16 @@\n   \"scripts\": {\n     \"lint\": \"eslint . --ext \\\".js,.jsx,.ts,.tsx\\\"\",\n     \"test:e2e\": \"playwright test --workers=1\",\n-    \"dev\": \"nodemon .\",\n+    \"dev\": \"nodemon main.ts\",",
        "comment_created_at": "2023-12-26T10:27:04+00:00",
        "comment_author": "namchuai",
        "comment_body": "maybe `node --watch main.ts` is better :D just comment, no problem for using it. If it works, we can remove nodemon dependency",
        "pr_file_module": null
      },
      {
        "comment_id": "1436387826",
        "repo_full_name": "menloresearch/jan",
        "pr_number": 1210,
        "pr_file": "server/package.json",
        "discussion_id": "1436386428",
        "commented_code": "@@ -10,15 +10,16 @@\n   \"scripts\": {\n     \"lint\": \"eslint . --ext \\\".js,.jsx,.ts,.tsx\\\"\",\n     \"test:e2e\": \"playwright test --workers=1\",\n-    \"dev\": \"nodemon .\",\n+    \"dev\": \"nodemon main.ts\",",
        "comment_created_at": "2023-12-26T10:30:38+00:00",
        "comment_author": "louis-menlo",
        "comment_body": "Ah yes, forgot this.",
        "pr_file_module": null
      }
    ]
  }
]