[
  {
    "discussion_id": "1981829797",
    "pr_number": 19082,
    "pr_file": "clients/src/main/java/org/apache/kafka/common/security/scram/internals/ScramSaslClient.java",
    "created_at": "2025-03-05T17:06:33+00:00",
    "commented_code": "private ClientFinalMessage handleServerFirstMessage(char[] password) throws SaslException {\n         try {\n-            byte[] passwordBytes = ScramFormatter.normalize(new String(password));\n+            byte[] passwordBytes = ScramFormatter.normalize(new String(password).toCharArray());",
    "repo_full_name": "apache/kafka",
    "discussion_comments": [
      {
        "comment_id": "1981829797",
        "repo_full_name": "apache/kafka",
        "pr_number": 19082,
        "pr_file": "clients/src/main/java/org/apache/kafka/common/security/scram/internals/ScramSaslClient.java",
        "discussion_id": "1981829797",
        "commented_code": "@@ -190,7 +190,7 @@ private void setState(State state) {\n \n     private ClientFinalMessage handleServerFirstMessage(char[] password) throws SaslException {\n         try {\n-            byte[] passwordBytes = ScramFormatter.normalize(new String(password));\n+            byte[] passwordBytes = ScramFormatter.normalize(new String(password).toCharArray());",
        "comment_created_at": "2025-03-05T17:06:33+00:00",
        "comment_author": "szetszwo",
        "comment_body": "Why not simply passing the password as below?\r\n```java\r\nbyte[] passwordBytes = ScramFormatter.normalize(password);\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "1982210800",
        "repo_full_name": "apache/kafka",
        "pr_number": 19082,
        "pr_file": "clients/src/main/java/org/apache/kafka/common/security/scram/internals/ScramSaslClient.java",
        "discussion_id": "1981829797",
        "commented_code": "@@ -190,7 +190,7 @@ private void setState(State state) {\n \n     private ClientFinalMessage handleServerFirstMessage(char[] password) throws SaslException {\n         try {\n-            byte[] passwordBytes = ScramFormatter.normalize(new String(password));\n+            byte[] passwordBytes = ScramFormatter.normalize(new String(password).toCharArray());",
        "comment_created_at": "2025-03-05T21:29:31+00:00",
        "comment_author": "mingdaoy",
        "comment_body": "![image](https://github.com/user-attachments/assets/5045337e-38f2-4e3d-84c9-82ad2861fffc)\r\n",
        "pr_file_module": null
      }
    ]
  }
]