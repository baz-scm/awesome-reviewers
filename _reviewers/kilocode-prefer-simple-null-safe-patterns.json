[
  {
    "discussion_id": "2176697186",
    "pr_number": 929,
    "pr_file": "src/core/kilocode/webview/webviewMessageHandlerUtils.ts",
    "created_at": "2025-07-01T07:47:38+00:00",
    "commented_code": "+import * as vscode from \"vscode\"\n+import pWaitFor from \"p-wait-for\"\n+import { ClineProvider } from \"../../webview/ClineProvider\"\n+import { t } from \"../../../i18n\"\n+import { WebviewMessage } from \"../../../shared/WebviewMessage\"\n+\n+// Helper function to delete messages for resending\n+const deleteMessagesForResend = async (cline: any, originalMessageIndex: number, originalMessageTs: number) => {",
    "repo_full_name": "Kilo-Org/kilocode",
    "discussion_comments": [
      {
        "comment_id": "2176697186",
        "repo_full_name": "Kilo-Org/kilocode",
        "pr_number": 929,
        "pr_file": "src/core/kilocode/webview/webviewMessageHandlerUtils.ts",
        "discussion_id": "2176697186",
        "commented_code": "@@ -0,0 +1,156 @@\n+import * as vscode from \"vscode\"\n+import pWaitFor from \"p-wait-for\"\n+import { ClineProvider } from \"../../webview/ClineProvider\"\n+import { t } from \"../../../i18n\"\n+import { WebviewMessage } from \"../../../shared/WebviewMessage\"\n+\n+// Helper function to delete messages for resending\n+const deleteMessagesForResend = async (cline: any, originalMessageIndex: number, originalMessageTs: number) => {",
        "comment_created_at": "2025-07-01T07:47:38+00:00",
        "comment_author": "chrarnoldus",
        "comment_body": "Please specify type rather than any.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2144557206",
    "pr_number": 719,
    "pr_file": "src/core/webview/webviewMessageHandler.ts",
    "created_at": "2025-06-13T09:08:33+00:00",
    "commented_code": "break\n \t\tcase \"updateSupportPrompt\":\n \t\t\ttry {\n-\t\t\t\tif (Object.keys(message?.values ?? {}).length === 0) {\n+\t\t\t\tif (!message?.values) {",
    "repo_full_name": "Kilo-Org/kilocode",
    "discussion_comments": [
      {
        "comment_id": "2144557206",
        "repo_full_name": "Kilo-Org/kilocode",
        "pr_number": 719,
        "pr_file": "src/core/webview/webviewMessageHandler.ts",
        "discussion_id": "2144557206",
        "commented_code": "@@ -840,13 +840,11 @@ export const webviewMessageHandler = async (provider: ClineProvider, message: We\n \t\t\tbreak\n \t\tcase \"updateSupportPrompt\":\n \t\t\ttry {\n-\t\t\t\tif (Object.keys(message?.values ?? {}).length === 0) {\n+\t\t\t\tif (!message?.values) {",
        "comment_created_at": "2025-06-13T09:08:33+00:00",
        "comment_author": "chrarnoldus",
        "comment_body": "Any particular reason for this change?",
        "pr_file_module": null
      },
      {
        "comment_id": "2145287643",
        "repo_full_name": "Kilo-Org/kilocode",
        "pr_number": 719,
        "pr_file": "src/core/webview/webviewMessageHandler.ts",
        "discussion_id": "2144557206",
        "commented_code": "@@ -840,13 +840,11 @@ export const webviewMessageHandler = async (provider: ClineProvider, message: We\n \t\t\tbreak\n \t\tcase \"updateSupportPrompt\":\n \t\t\ttry {\n-\t\t\t\tif (Object.keys(message?.values ?? {}).length === 0) {\n+\t\t\t\tif (!message?.values) {",
        "comment_created_at": "2025-06-13T15:00:29+00:00",
        "comment_author": "hassoncs",
        "comment_body": "`updateSupportPrompt`'s `message?.values` always contains all prompt types that have been overridden, so if you want to \"reset\" all prompts, `message.values` will be an empty object. The old check prevents resetting all prompts because it no-ops if the values are empty, which they would be if you are resetting the last prompt type.",
        "pr_file_module": null
      },
      {
        "comment_id": "2145305044",
        "repo_full_name": "Kilo-Org/kilocode",
        "pr_number": 719,
        "pr_file": "src/core/webview/webviewMessageHandler.ts",
        "discussion_id": "2144557206",
        "commented_code": "@@ -840,13 +840,11 @@ export const webviewMessageHandler = async (provider: ClineProvider, message: We\n \t\t\tbreak\n \t\tcase \"updateSupportPrompt\":\n \t\t\ttry {\n-\t\t\t\tif (Object.keys(message?.values ?? {}).length === 0) {\n+\t\t\t\tif (!message?.values) {",
        "comment_created_at": "2025-06-13T15:10:03+00:00",
        "comment_author": "chrarnoldus",
        "comment_body": "ok, but I do feel it's tricky to depend on a distinction between undefined and empty, because AI really likes to put `|| {}` everywhere.",
        "pr_file_module": null
      },
      {
        "comment_id": "2145401437",
        "repo_full_name": "Kilo-Org/kilocode",
        "pr_number": 719,
        "pr_file": "src/core/webview/webviewMessageHandler.ts",
        "discussion_id": "2144557206",
        "commented_code": "@@ -840,13 +840,11 @@ export const webviewMessageHandler = async (provider: ClineProvider, message: We\n \t\t\tbreak\n \t\tcase \"updateSupportPrompt\":\n \t\t\ttry {\n-\t\t\t\tif (Object.keys(message?.values ?? {}).length === 0) {\n+\t\t\t\tif (!message?.values) {",
        "comment_created_at": "2025-06-13T15:51:53+00:00",
        "comment_author": "hassoncs",
        "comment_body": "yeah, I just made it `await updateGlobalState(\"customSupportPrompts\", message.values || {})`, shorter",
        "pr_file_module": null
      }
    ]
  }
]