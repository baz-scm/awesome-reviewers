---
title: Dependency verification configuration
description: When adding new dependencies to build.gradle.kts files, always update
  the corresponding verification metadata to prevent build failures. Use the Gradle
  command `./gradlew --write-verification-metadata md5,sha256 help` to generate the
  necessary metadata, but review the output carefully as it may add more dependencies
  than required. Consider manually adding...
repository: JetBrains/kotlin
label: Configurations
language: Xml
comments_count: 2
repository_stars: 50857
---

When adding new dependencies to build.gradle.kts files, always update the corresponding verification metadata to prevent build failures. Use the Gradle command `./gradlew --write-verification-metadata md5,sha256 help` to generate the necessary metadata, but review the output carefully as it may add more dependencies than required. Consider manually adding only the necessary verification entries if the automated command adds excessive dependencies.

Example workflow:
```
// 1. Add dependency to build.gradle.kts
dependencies {
    implementation("io.github.java-diff-utils:java-diff-utils:4.10")
}

// 2. Generate verification metadata
// Run: ./gradlew --write-verification-metadata md5,sha256 help

// 3. Review generated changes in verification-metadata.xml and retain only necessary entries
<component group="io.github.java-diff-utils" name="java-diff-utils" version="4.10">
  // Keep only required verification entries
</component>
```


[
  {
    "discussion_id": "651452380",
    "pr_number": 4454,
    "pr_file": "gradle/verification-metadata.xml",
    "created_at": "2021-06-15T05:11:07+00:00",
    "commented_code": "<sha256 value=\"2a4e84a51defe9108579b3c0a86bb41e54f04e9042e83adf4348a974dcf1dee6\" origin=\"Generated by Gradle\"/>\n         </artifact>\n      </component>\n      <component group=\"io.github.java-diff-utils\" name=\"java-diff-utils\" version=\"4.10\">",
    "repo_full_name": "JetBrains/kotlin",
    "discussion_comments": [
      {
        "comment_id": "651452380",
        "repo_full_name": "JetBrains/kotlin",
        "pr_number": 4454,
        "pr_file": "gradle/verification-metadata.xml",
        "discussion_id": "651452380",
        "commented_code": "@@ -2734,6 +2734,12 @@\n             <sha256 value=\"2a4e84a51defe9108579b3c0a86bb41e54f04e9042e83adf4348a974dcf1dee6\" origin=\"Generated by Gradle\"/>\n          </artifact>\n       </component>\n+      <component group=\"io.github.java-diff-utils\" name=\"java-diff-utils\" version=\"4.10\">",
        "comment_created_at": "2021-06-15T05:11:07+00:00",
        "comment_author": "jsjeon",
        "comment_body": "I pointed out the same thing: https://github.com/JetBrains/kotlin/pull/4348#discussion_r626823062, but the below two are needed?",
        "pr_file_module": null
      },
      {
        "comment_id": "651521343",
        "repo_full_name": "JetBrains/kotlin",
        "pr_number": 4454,
        "pr_file": "gradle/verification-metadata.xml",
        "discussion_id": "651452380",
        "commented_code": "@@ -2734,6 +2734,12 @@\n             <sha256 value=\"2a4e84a51defe9108579b3c0a86bb41e54f04e9042e83adf4348a974dcf1dee6\" origin=\"Generated by Gradle\"/>\n          </artifact>\n       </component>\n+      <component group=\"io.github.java-diff-utils\" name=\"java-diff-utils\" version=\"4.10\">",
        "comment_created_at": "2021-06-15T07:28:19+00:00",
        "comment_author": "punzki",
        "comment_body": "Yes, these are needed when you have new dependencies (see `build.gradle.kts` files). Otherwise you will get a build failure.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "626823062",
    "pr_number": 4348,
    "pr_file": "gradle/verification-metadata.xml",
    "created_at": "2021-05-05T19:00:32+00:00",
    "commented_code": "<sha256 value=\"c81404e11744523817c1b560aa84c9c44ccfc32f62916d39f7763767f8c3db94\" origin=\"Generated by Gradle\"/>\n         </artifact>\n      </component>\n      <component group=\"io.github.java-diff-utils\" name=\"java-diff-utils\" version=\"4.10\">",
    "repo_full_name": "JetBrains/kotlin",
    "discussion_comments": [
      {
        "comment_id": "626823062",
        "repo_full_name": "JetBrains/kotlin",
        "pr_number": 4348,
        "pr_file": "gradle/verification-metadata.xml",
        "discussion_id": "626823062",
        "commented_code": "@@ -2667,6 +2667,12 @@\n             <sha256 value=\"c81404e11744523817c1b560aa84c9c44ccfc32f62916d39f7763767f8c3db94\" origin=\"Generated by Gradle\"/>\n          </artifact>\n       </component>\n+      <component group=\"io.github.java-diff-utils\" name=\"java-diff-utils\" version=\"4.10\">",
        "comment_created_at": "2021-05-05T19:00:32+00:00",
        "comment_author": "jsjeon",
        "comment_body": "I wonder this addition is the only relevant thing you need to add?",
        "pr_file_module": null
      },
      {
        "comment_id": "626953554",
        "repo_full_name": "JetBrains/kotlin",
        "pr_number": 4348,
        "pr_file": "gradle/verification-metadata.xml",
        "discussion_id": "626823062",
        "commented_code": "@@ -2667,6 +2667,12 @@\n             <sha256 value=\"c81404e11744523817c1b560aa84c9c44ccfc32f62916d39f7763767f8c3db94\" origin=\"Generated by Gradle\"/>\n          </artifact>\n       </component>\n+      <component group=\"io.github.java-diff-utils\" name=\"java-diff-utils\" version=\"4.10\">",
        "comment_created_at": "2021-05-05T22:11:50+00:00",
        "comment_author": "punzki",
        "comment_body": "I only need the 3 dependencies in `build.gradle.kts`. I ran the following command to generate it: `./gradlew --write-verification-metadata md5,sha256 help` and I'm not sure why it added a bunch more dependencies. But I'll revert the file and add the 3 dependencies manually.",
        "pr_file_module": null
      }
    ]
  }
]
