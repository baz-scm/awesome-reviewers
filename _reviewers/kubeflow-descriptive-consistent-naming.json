[
  {
    "discussion_id": "1035716130",
    "pr_number": 6781,
    "pr_file": "components/centraldashboard-angular/Makefile",
    "created_at": "2022-11-30T09:18:48+00:00",
    "commented_code": "IMG ?= centraldashboard",
    "repo_full_name": "kubeflow/kubeflow",
    "discussion_comments": [
      {
        "comment_id": "1035716130",
        "repo_full_name": "kubeflow/kubeflow",
        "pr_number": 6781,
        "pr_file": "components/centraldashboard-angular/Makefile",
        "discussion_id": "1035716130",
        "commented_code": "@@ -0,0 +1,14 @@\n+IMG ?= centraldashboard",
        "comment_created_at": "2022-11-30T09:18:48+00:00",
        "comment_author": "kimwnasptd",
        "comment_body": "nit: Let's use `centraldashboard-angular` here as well, to make sure we use the same value everywhere.\r\n\r\nWe can revert to `centraldashboard` once we are confident with switching the web apps",
        "pr_file_module": null
      },
      {
        "comment_id": "1035726127",
        "repo_full_name": "kubeflow/kubeflow",
        "pr_number": 6781,
        "pr_file": "components/centraldashboard-angular/Makefile",
        "discussion_id": "1035716130",
        "commented_code": "@@ -0,0 +1,14 @@\n+IMG ?= centraldashboard",
        "comment_created_at": "2022-11-30T09:27:36+00:00",
        "comment_author": "orfeas-k",
        "comment_body": "@kimwnasptd Fixed it and pushed again!",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "600884787",
    "pr_number": 5746,
    "pr_file": "releasing/update-manifests-images",
    "created_at": "2021-03-24T21:25:28+00:00",
    "commented_code": "#!/usr/bin/env python3\n\nimport sys\nimport logging\nimport argparse\nimport ruamel.yaml\n\n\nlog = logging.getLogger(__name__)\n\n\nclass YAMLEmitterNoVersionDirective(ruamel.yaml.emitter.Emitter):\n    \"\"\"YAML Emitter that doesn't emit the YAML version directive.\"\"\"\n\n    def write_version_directive(self, version_text):\n        \"\"\"Disable emitting version directive, i.e., %YAML 1.1.\"\"\"\n        pass\n\n    def expect_document_start(self, first=False):\n        \"\"\"Do not print '---' at the beginning.\"\"\"\n        if not isinstance(self.event, ruamel.yaml.events.DocumentStartEvent):\n            return super(YAMLEmitterNoVersionDirective, self).\\\n                expect_document_start(first=first)\n\n        version = self.event.version\n        self.event.version = None\n        ret = super(YAMLEmitterNoVersionDirective, self).\\\n            expect_document_start(first=first)\n        self.event.version = version\n        return ret\n\n\nclass YAML(ruamel.yaml.YAML):\n    \"\"\"Wrapper of the ruamel.yaml.YAML class with our custom settings.\"\"\"\n\n    def __init__(self, *args, **kwargs):\n        super(YAML, self).__init__(*args, **kwargs)\n        # XXX: Explicitly set version for producing K8s compatible manifests.\n        # https://yaml.readthedocs.io/en/latest/detail.html#document-version-support\n        self.version = (1, 1)\n        # XXX: Do not emit version directive since tools might fail to\n        # parse manifests.\n        self.Emitter = YAMLEmitterNoVersionDirective\n        # Preserve original quotes\n        self.preserve_quotes = True\n\n\nyaml = YAML()\n\napps = [\n    {\n        \"name\": \"Admission Webhook\",\n        \"kustomization\": \"components/admission-webhook/manifests/base/kustomization.yaml\",\n        \"images\": [\n            {\n                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/admission-webhook\",\n                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/admission-webhook\",\n            },\n        ],\n    },\n    {\n        \"name\": \"Central Dashboard\",\n        \"kustomization\": \"components/centraldashboard/manifests/base/kustomization.yaml\",\n        \"images\": [\n            {\n                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/central-dashboard\",\n                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/central-dashboard\",\n            },\n        ],\n    },\n    {\n        \"name\": \"Jupyter Web App\",\n        \"kustomization\": \"components/crud-web-apps/jupyter/manifests/base/kustomization.yaml\",\n        \"images\": [\n            {\n                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/jupyter-web-app\",\n                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/jupyter-web-app\",\n            },\n        ],\n    },\n    {\n        \"name\": \"Tensorboard Web App\",\n        \"kustomization\": \"components/crud-web-apps/tensorboards/manifests/base/kustomization.yaml\",\n        \"images\": [\n            {\n                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboards-web-app\",\n                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboards-web-app\",\n            },\n        ],\n    },\n    {\n        \"name\": \"Volumes Web App\",\n        \"kustomization\": \"components/crud-web-apps/volumes/manifests/base/kustomization.yaml\",\n        \"images\": [\n            {\n                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/volumes-web-app\",\n                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/volumes-web-app\",\n            },\n        ],\n    },\n    {\n        \"name\": \"Notebook Controller\",\n        \"kustomization\": \"components/notebook-controller/config/base/kustomization.yaml\",\n        \"images\": [\n            {\n                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/notebook-controller\",\n                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/notebook-controller\",\n            },\n        ],\n    },\n    {\n        \"name\": \"Tensorboard Controller\",\n        \"kustomization\": \"components/tensorboard-controller/config/base/kustomization.yaml\",\n        \"images\": [\n            {\n                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboard-controller\",\n                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboard-controller\",\n            },\n        ],\n    },\n    {\n        \"name\": \"Profile Controller\",\n        \"kustomization\": \"components/profile-controller/config/base/kustomization.yaml\",\n        \"images\": [\n            {\n                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/profile-controller\",\n                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/profile-controller\",\n            },\n        ],\n    },\n    {\n        \"name\": \"KFAM\",",
    "repo_full_name": "kubeflow/kubeflow",
    "discussion_comments": [
      {
        "comment_id": "600884787",
        "repo_full_name": "kubeflow/kubeflow",
        "pr_number": 5746,
        "pr_file": "releasing/update-manifests-images",
        "discussion_id": "600884787",
        "commented_code": "@@ -0,0 +1,200 @@\n+#!/usr/bin/env python3\n+\n+import sys\n+import logging\n+import argparse\n+import ruamel.yaml\n+\n+\n+log = logging.getLogger(__name__)\n+\n+\n+class YAMLEmitterNoVersionDirective(ruamel.yaml.emitter.Emitter):\n+    \"\"\"YAML Emitter that doesn't emit the YAML version directive.\"\"\"\n+\n+    def write_version_directive(self, version_text):\n+        \"\"\"Disable emitting version directive, i.e., %YAML 1.1.\"\"\"\n+        pass\n+\n+    def expect_document_start(self, first=False):\n+        \"\"\"Do not print '---' at the beginning.\"\"\"\n+        if not isinstance(self.event, ruamel.yaml.events.DocumentStartEvent):\n+            return super(YAMLEmitterNoVersionDirective, self).\\\n+                expect_document_start(first=first)\n+\n+        version = self.event.version\n+        self.event.version = None\n+        ret = super(YAMLEmitterNoVersionDirective, self).\\\n+            expect_document_start(first=first)\n+        self.event.version = version\n+        return ret\n+\n+\n+class YAML(ruamel.yaml.YAML):\n+    \"\"\"Wrapper of the ruamel.yaml.YAML class with our custom settings.\"\"\"\n+\n+    def __init__(self, *args, **kwargs):\n+        super(YAML, self).__init__(*args, **kwargs)\n+        # XXX: Explicitly set version for producing K8s compatible manifests.\n+        # https://yaml.readthedocs.io/en/latest/detail.html#document-version-support\n+        self.version = (1, 1)\n+        # XXX: Do not emit version directive since tools might fail to\n+        # parse manifests.\n+        self.Emitter = YAMLEmitterNoVersionDirective\n+        # Preserve original quotes\n+        self.preserve_quotes = True\n+\n+\n+yaml = YAML()\n+\n+apps = [\n+    {\n+        \"name\": \"Admission Webhook\",\n+        \"kustomization\": \"components/admission-webhook/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/admission-webhook\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/admission-webhook\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Central Dashboard\",\n+        \"kustomization\": \"components/centraldashboard/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/central-dashboard\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/central-dashboard\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Jupyter Web App\",\n+        \"kustomization\": \"components/crud-web-apps/jupyter/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/jupyter-web-app\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/jupyter-web-app\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Tensorboard Web App\",\n+        \"kustomization\": \"components/crud-web-apps/tensorboards/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboards-web-app\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboards-web-app\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Volumes Web App\",\n+        \"kustomization\": \"components/crud-web-apps/volumes/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/volumes-web-app\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/volumes-web-app\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Notebook Controller\",\n+        \"kustomization\": \"components/notebook-controller/config/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/notebook-controller\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/notebook-controller\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Tensorboard Controller\",\n+        \"kustomization\": \"components/tensorboard-controller/config/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboard-controller\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboard-controller\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Profile Controller\",\n+        \"kustomization\": \"components/profile-controller/config/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/profile-controller\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/profile-controller\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"KFAM\",",
        "comment_created_at": "2021-03-24T21:25:28+00:00",
        "comment_author": "davidspek",
        "comment_body": "Small nit, this name stands out compared to the rest. People not familiar with the code might now know what `KFAM` means. Not a blocker for the PR but `Access Management` might be better to use. ",
        "pr_file_module": null
      },
      {
        "comment_id": "600885034",
        "repo_full_name": "kubeflow/kubeflow",
        "pr_number": 5746,
        "pr_file": "releasing/update-manifests-images",
        "discussion_id": "600884787",
        "commented_code": "@@ -0,0 +1,200 @@\n+#!/usr/bin/env python3\n+\n+import sys\n+import logging\n+import argparse\n+import ruamel.yaml\n+\n+\n+log = logging.getLogger(__name__)\n+\n+\n+class YAMLEmitterNoVersionDirective(ruamel.yaml.emitter.Emitter):\n+    \"\"\"YAML Emitter that doesn't emit the YAML version directive.\"\"\"\n+\n+    def write_version_directive(self, version_text):\n+        \"\"\"Disable emitting version directive, i.e., %YAML 1.1.\"\"\"\n+        pass\n+\n+    def expect_document_start(self, first=False):\n+        \"\"\"Do not print '---' at the beginning.\"\"\"\n+        if not isinstance(self.event, ruamel.yaml.events.DocumentStartEvent):\n+            return super(YAMLEmitterNoVersionDirective, self).\\\n+                expect_document_start(first=first)\n+\n+        version = self.event.version\n+        self.event.version = None\n+        ret = super(YAMLEmitterNoVersionDirective, self).\\\n+            expect_document_start(first=first)\n+        self.event.version = version\n+        return ret\n+\n+\n+class YAML(ruamel.yaml.YAML):\n+    \"\"\"Wrapper of the ruamel.yaml.YAML class with our custom settings.\"\"\"\n+\n+    def __init__(self, *args, **kwargs):\n+        super(YAML, self).__init__(*args, **kwargs)\n+        # XXX: Explicitly set version for producing K8s compatible manifests.\n+        # https://yaml.readthedocs.io/en/latest/detail.html#document-version-support\n+        self.version = (1, 1)\n+        # XXX: Do not emit version directive since tools might fail to\n+        # parse manifests.\n+        self.Emitter = YAMLEmitterNoVersionDirective\n+        # Preserve original quotes\n+        self.preserve_quotes = True\n+\n+\n+yaml = YAML()\n+\n+apps = [\n+    {\n+        \"name\": \"Admission Webhook\",\n+        \"kustomization\": \"components/admission-webhook/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/admission-webhook\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/admission-webhook\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Central Dashboard\",\n+        \"kustomization\": \"components/centraldashboard/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/central-dashboard\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/central-dashboard\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Jupyter Web App\",\n+        \"kustomization\": \"components/crud-web-apps/jupyter/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/jupyter-web-app\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/jupyter-web-app\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Tensorboard Web App\",\n+        \"kustomization\": \"components/crud-web-apps/tensorboards/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboards-web-app\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboards-web-app\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Volumes Web App\",\n+        \"kustomization\": \"components/crud-web-apps/volumes/manifests/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/volumes-web-app\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/volumes-web-app\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Notebook Controller\",\n+        \"kustomization\": \"components/notebook-controller/config/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/notebook-controller\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/notebook-controller\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Tensorboard Controller\",\n+        \"kustomization\": \"components/tensorboard-controller/config/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboard-controller\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/tensorboard-controller\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"Profile Controller\",\n+        \"kustomization\": \"components/profile-controller/config/base/kustomization.yaml\",\n+        \"images\": [\n+            {\n+                \"name\": \"public.ecr.aws/j1r0q0g6/notebooks/profile-controller\",\n+                \"newName\": \"public.ecr.aws/j1r0q0g6/notebooks/profile-controller\",\n+            },\n+        ],\n+    },\n+    {\n+        \"name\": \"KFAM\",",
        "comment_created_at": "2021-03-24T21:25:51+00:00",
        "comment_author": "yanniszark",
        "comment_body": "Sounds reasonable",
        "pr_file_module": null
      }
    ]
  }
]