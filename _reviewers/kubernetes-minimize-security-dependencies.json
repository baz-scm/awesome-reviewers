[
  {
    "discussion_id": "2177855563",
    "pr_number": 132593,
    "pr_file": "go.mod",
    "created_at": "2025-07-01T15:06:06+00:00",
    "commented_code": "github.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
    "repo_full_name": "kubernetes/kubernetes",
    "discussion_comments": [
      {
        "comment_id": "2177855563",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-01T15:06:06+00:00",
        "comment_author": "liggitt",
        "comment_body": "for a dependency involved in splitting commands into shell-safe args, this looks *very* small / new (6 stars, no forks, ~single contributor)\r\n\r\ndo we know what this changed over the shlex dep?",
        "pr_file_module": null
      },
      {
        "comment_id": "2177863904",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-01T15:10:34+00:00",
        "comment_author": "liggitt",
        "comment_body": "I can't actually tell if embedded kustomize is exercising this code or not. @soltysh, do you know? if not, could this be reorganized so standalone kustomize can `_` import it but kubectl doesn't, so we don't have this vendoring?",
        "pr_file_module": null
      },
      {
        "comment_id": "2178077671",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-01T16:48:21+00:00",
        "comment_author": "koba1t",
        "comment_body": "I believe this dependency was introduced to replace the archived `github.com/google/shlex` package.\r\n\r\ndetails: https://github.com/kubernetes/kubernetes/issues/120276\r\n/cc @dims \r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2178116543",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-01T17:02:27+00:00",
        "comment_author": "liggitt",
        "comment_body": "> I believe this dependency was introduced to replace the archived `github.com/google/shlex` package.\r\n\r\nyes, but it's working in an area with security implications (parsing of shell args), and it was replaced with a fork that moved code around in a way that makes it difficult to see the diff, and appears to be maintained by a single contributor, which is not ideal if the goal is to update to a long-term reliable dependency",
        "pr_file_module": null
      },
      {
        "comment_id": "2178143015",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-01T17:13:11+00:00",
        "comment_author": "ardaguclu",
        "comment_body": "I agree with @liggitt that this change can cause unexpected issues in the long term. Is it impossible (or difficult and time consuming) to drop this dependency?. I think, it is even better to use the archieved repository than relying on this fork (unless our policies restricts this) ",
        "pr_file_module": null
      },
      {
        "comment_id": "2180970745",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-02T21:05:35+00:00",
        "comment_author": "koba1t",
        "comment_body": "> Is it impossible (or difficult and time consuming) to drop this dependency?\r\n\r\nSince we're only executing the `Split` function from shlex in a single place, dropping the dependency shouldn't be particularly difficult.\r\nhttps://github.com/kubernetes-sigs/kustomize/blob/f9ab532a4a686677e930847f83137479730e26db/api/internal/plugins/execplugin/execplugin.go#L98\r\n\r\nHowever, with the current active developers/maintainers of kustomize having no available time, immediate implementation may be difficult.",
        "pr_file_module": null
      },
      {
        "comment_id": "2221789273",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-22T08:55:43+00:00",
        "comment_author": "soltysh",
        "comment_body": "I believe this is fixed with https://github.com/kubernetes-sigs/kustomize/pull/5943, so you should be able to update this PR with the copied version, which is definitely more acceptable than relying on a 3rd party copy. ",
        "pr_file_module": null
      },
      {
        "comment_id": "2221819443",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-22T09:02:15+00:00",
        "comment_author": "soltysh",
        "comment_body": "> I can't actually tell if embedded kustomize is exercising this code or not. @soltysh, do you know? if not, could this be reorganized so standalone kustomize can `_` import it but kubectl doesn't, so we don't have this vendoring?\r\n\r\nIIUC kubectl is not using it directly, so not relying on this is probably the best goal in the long run. It seems https://github.com/kubernetes-sigs/kustomize/pull/5943 just copied the necessary split bits, so we should be good after this PR gets updated. ",
        "pr_file_module": null
      },
      {
        "comment_id": "2225651642",
        "repo_full_name": "kubernetes/kubernetes",
        "pr_number": 132593,
        "pr_file": "go.mod",
        "discussion_id": "2177855563",
        "commented_code": "@@ -131,6 +131,7 @@ require (\n \tgithub.com/NYTimes/gziphandler v1.1.1 // indirect\n \tgithub.com/antlr4-go/antlr/v4 v4.13.0 // indirect\n \tgithub.com/beorn7/perks v1.0.1 // indirect\n+\tgithub.com/carapace-sh/carapace-shlex v1.0.1 // indirect",
        "comment_created_at": "2025-07-23T13:38:45+00:00",
        "comment_author": "koba1t",
        "comment_body": "I updated to remove shlex dependency.",
        "pr_file_module": null
      }
    ]
  }
]