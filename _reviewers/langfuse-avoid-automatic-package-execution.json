[
  {
    "discussion_id": "1739852648",
    "pr_number": 3180,
    "pr_file": "scripts/upload-sourcemaps-datadog.sh",
    "created_at": "2024-08-31T17:20:57+00:00",
    "commented_code": "+# Ensure @datadog/datadog-ci is added to your package.json and installed\n+# You can add it by running: pnpm add @datadog/datadog-ci\n+\n+# Ensure the DATADOG_API_KEY environment variable is set\n+if [ -z \"$DATADOG_API_KEY\" ]; then\n+  echo \"DATADOG_API_KEY is not set. Please set it before running this script.\"\n+  exit 1\n+fi\n+\n+# Check if all required arguments are provided\n+if [ \"$#\" -ne 5 ]; then\n+  echo \"Usage: $0 <minified-path-prefix> <project-path> <service> <release-version> <dist-path>\"\n+  exit 1\n+fi\n+\n+MINIFIED_PATH_PREFIX=$1\n+PROJECT_PATH=$2\n+SERVICE=$3\n+RELEASE_VERSION=$4\n+DIST_PATH=$5\n+\n+echo \"Uploading sourcemaps to Datadog for version [$RELEASE_VERSION] with minified path prefix [$MINIFIED_PATH_PREFIX]\"\n+\n+# Upload to Datadog for viewing unminified sources in Datadog. Datadog does not appear to support import from an S3 URL\n+# Because this command runs from a Git repo context, Datadog should also automatically link to our project from the UI.\n+# Reference: https://docs.datadoghq.com/real_user_monitoring/guide/upload-javascript-source-maps/?tab=webpackjs\n+# Reference: https://github.com/DataDog/datadog-ci/tree/master/src/commands/sourcemaps#commands\n+# `release-version` must match the version in initErrorReporter.ts and performance.ts\n+# project-path is the prefix before src in the map: webpack:///./src/bricks/registry.ts\n+npx --yes @datadog/datadog-ci sourcemaps upload \"$DIST_PATH\" \\",
    "repo_full_name": "langfuse/langfuse",
    "discussion_comments": [
      {
        "comment_id": "1739852648",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 3180,
        "pr_file": "scripts/upload-sourcemaps-datadog.sh",
        "discussion_id": "1739852648",
        "commented_code": "@@ -0,0 +1,34 @@\n+# Ensure @datadog/datadog-ci is added to your package.json and installed\n+# You can add it by running: pnpm add @datadog/datadog-ci\n+\n+# Ensure the DATADOG_API_KEY environment variable is set\n+if [ -z \"$DATADOG_API_KEY\" ]; then\n+  echo \"DATADOG_API_KEY is not set. Please set it before running this script.\"\n+  exit 1\n+fi\n+\n+# Check if all required arguments are provided\n+if [ \"$#\" -ne 5 ]; then\n+  echo \"Usage: $0 <minified-path-prefix> <project-path> <service> <release-version> <dist-path>\"\n+  exit 1\n+fi\n+\n+MINIFIED_PATH_PREFIX=$1\n+PROJECT_PATH=$2\n+SERVICE=$3\n+RELEASE_VERSION=$4\n+DIST_PATH=$5\n+\n+echo \"Uploading sourcemaps to Datadog for version [$RELEASE_VERSION] with minified path prefix [$MINIFIED_PATH_PREFIX]\"\n+\n+# Upload to Datadog for viewing unminified sources in Datadog. Datadog does not appear to support import from an S3 URL\n+# Because this command runs from a Git repo context, Datadog should also automatically link to our project from the UI.\n+# Reference: https://docs.datadoghq.com/real_user_monitoring/guide/upload-javascript-source-maps/?tab=webpackjs\n+# Reference: https://github.com/DataDog/datadog-ci/tree/master/src/commands/sourcemaps#commands\n+# `release-version` must match the version in initErrorReporter.ts and performance.ts\n+# project-path is the prefix before src in the map: webpack:///./src/bricks/registry.ts\n+npx --yes @datadog/datadog-ci sourcemaps upload \"$DIST_PATH\" \\",
        "comment_created_at": "2024-08-31T17:20:57+00:00",
        "comment_author": "greptile-apps[bot]",
        "comment_body": "logic: Using 'npx --yes' can be a security risk. Consider installing the package as a dev dependency instead",
        "pr_file_module": null
      }
    ]
  }
]