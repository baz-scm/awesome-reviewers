[
  {
    "discussion_id": "2102407111",
    "pr_number": 6956,
    "pr_file": "packages/shared/prisma/migrations/20250522100511_add_default_eval_model_table/migration.sql",
    "created_at": "2025-05-22T12:12:27+00:00",
    "commented_code": "+-- CreateTable\n+CREATE TABLE \"default_llm_models\" (\n+    \"id\" TEXT NOT NULL,\n+    \"created_at\" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n+    \"updated_at\" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n+    \"project_id\" TEXT NOT NULL,\n+    \"llm_api_key_id\" TEXT NOT NULL,\n+    \"provider\" TEXT NOT NULL,\n+    \"adapter\" TEXT NOT NULL,\n+    \"model\" TEXT NOT NULL,\n+    \"model_params\" JSONB,\n+\n+    CONSTRAINT \"default_llm_models_pkey\" PRIMARY KEY (\"id\")\n+);\n+\n+-- CreateIndex\n+CREATE INDEX \"default_eval_models_project_id_id_key\" ON \"default_llm_models\"(\"project_id\", \"id\");",
    "repo_full_name": "langfuse/langfuse",
    "discussion_comments": [
      {
        "comment_id": "2102407111",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 6956,
        "pr_file": "packages/shared/prisma/migrations/20250522100511_add_default_eval_model_table/migration.sql",
        "discussion_id": "2102407111",
        "commented_code": "@@ -0,0 +1,26 @@\n+-- CreateTable\n+CREATE TABLE \"default_llm_models\" (\n+    \"id\" TEXT NOT NULL,\n+    \"created_at\" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n+    \"updated_at\" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n+    \"project_id\" TEXT NOT NULL,\n+    \"llm_api_key_id\" TEXT NOT NULL,\n+    \"provider\" TEXT NOT NULL,\n+    \"adapter\" TEXT NOT NULL,\n+    \"model\" TEXT NOT NULL,\n+    \"model_params\" JSONB,\n+\n+    CONSTRAINT \"default_llm_models_pkey\" PRIMARY KEY (\"id\")\n+);\n+\n+-- CreateIndex\n+CREATE INDEX \"default_eval_models_project_id_id_key\" ON \"default_llm_models\"(\"project_id\", \"id\");",
        "comment_created_at": "2025-05-22T12:12:27+00:00",
        "comment_author": "ellipsis-dev[bot]",
        "comment_body": "Table and constraint names updated to use `default_llm_models`. Note that the index name still contains `default_eval_models`\u2014consider renaming it for complete consistency.\n```suggestion\nCREATE INDEX \"default_llm_models_project_id_id_key\" ON \"default_llm_models\"(\"project_id\", \"id\");\n```\n",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2052186847",
    "pr_number": 6534,
    "pr_file": "packages/shared/clickhouse/migrations/clustered/00011_add_blob_storage_file_log.up.sql",
    "created_at": "2025-04-21T09:31:30+00:00",
    "commented_code": "+CREATE TABLE blob_storage_file_log\n+(\n+    `id`          String,\n+    `project_id`  String,\n+    `entity_type` String,\n+    `entity_id`   String,\n+    `event_id`    String,\n+\n+    `bucket_name` String,\n+    `bucket_path` String,\n+\n+    `created_at`  DateTime64(3) DEFAULT now(),\n+    `updated_at`  DateTime64(3) DEFAULT now(),\n+    event_ts DateTime64(3),\n+    is_deleted UIent8,",
    "repo_full_name": "langfuse/langfuse",
    "discussion_comments": [
      {
        "comment_id": "2052186847",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 6534,
        "pr_file": "packages/shared/clickhouse/migrations/clustered/00011_add_blob_storage_file_log.up.sql",
        "discussion_id": "2052186847",
        "commented_code": "@@ -0,0 +1,22 @@\n+CREATE TABLE blob_storage_file_log\n+(\n+    `id`          String,\n+    `project_id`  String,\n+    `entity_type` String,\n+    `entity_id`   String,\n+    `event_id`    String,\n+\n+    `bucket_name` String,\n+    `bucket_path` String,\n+\n+    `created_at`  DateTime64(3) DEFAULT now(),\n+    `updated_at`  DateTime64(3) DEFAULT now(),\n+    event_ts DateTime64(3),\n+    is_deleted UIent8,",
        "comment_created_at": "2025-04-21T09:31:30+00:00",
        "comment_author": "ellipsis-dev[bot]",
        "comment_body": "Typo in data type: `UIent8` should be `UInt8`. Ensure consistency with the unclustered migration.\n```suggestion\n    is_deleted UInt8,\n```\n",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2052186872",
    "pr_number": 6534,
    "pr_file": "packages/shared/clickhouse/migrations/unclustered/00011_add_blob_storage_file_log.up.sql",
    "created_at": "2025-04-21T09:31:30+00:00",
    "commented_code": "+CREATE TABLE blob_storage_file_log\n+(\n+    `id`          String,\n+    `project_id`  String,\n+    `entity_type` String,\n+    `entity_id`   String,\n+    `event_id`    String,\n+\n+    `bucket_name` String,\n+    `bucket_path` String,\n+\n+    `created_at`  DateTime64(3) DEFAULT now(),\n+    `updated_at`  DateTime64(3) DEFAULT now(),\n+    event_ts DateTime64(3),",
    "repo_full_name": "langfuse/langfuse",
    "discussion_comments": [
      {
        "comment_id": "2052186872",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 6534,
        "pr_file": "packages/shared/clickhouse/migrations/unclustered/00011_add_blob_storage_file_log.up.sql",
        "discussion_id": "2052186872",
        "commented_code": "@@ -0,0 +1,22 @@\n+CREATE TABLE blob_storage_file_log\n+(\n+    `id`          String,\n+    `project_id`  String,\n+    `entity_type` String,\n+    `entity_id`   String,\n+    `event_id`    String,\n+\n+    `bucket_name` String,\n+    `bucket_path` String,\n+\n+    `created_at`  DateTime64(3) DEFAULT now(),\n+    `updated_at`  DateTime64(3) DEFAULT now(),\n+    event_ts DateTime64(3),",
        "comment_created_at": "2025-04-21T09:31:30+00:00",
        "comment_author": "ellipsis-dev[bot]",
        "comment_body": "For consistency in column naming, consider enclosing the column names `event_ts` and `is_deleted` in backticks, as is done for the other columns. This small change improves readability and maintains uniformity across the table schema.\n```suggestion\n    `event_ts` DateTime64(3),\n```\n",
        "pr_file_module": null
      }
    ]
  }
]