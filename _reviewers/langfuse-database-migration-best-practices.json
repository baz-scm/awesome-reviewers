[
  {
    "discussion_id": "2126064449",
    "pr_number": 7060,
    "pr_file": "packages/shared/prisma/migrations/20230924232619_datasets_init/migration.sql",
    "created_at": "2025-06-04T08:53:49+00:00",
    "commented_code": "\"expected_output\" JSONB,\n     \"source_observation_id\" TEXT,\n     \"dataset_id\" TEXT NOT NULL,\n+    \"comment\" TEXT,",
    "repo_full_name": "langfuse/langfuse",
    "discussion_comments": [
      {
        "comment_id": "2126064449",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 7060,
        "pr_file": "packages/shared/prisma/migrations/20230924232619_datasets_init/migration.sql",
        "discussion_id": "2126064449",
        "commented_code": "@@ -16,6 +16,7 @@ CREATE TABLE \"dataset_items\" (\n     \"expected_output\" JSONB,\n     \"source_observation_id\" TEXT,\n     \"dataset_id\" TEXT NOT NULL,\n+    \"comment\" TEXT,",
        "comment_created_at": "2025-06-04T08:53:49+00:00",
        "comment_author": "Steffen911",
        "comment_body": "This will not create the comment field for users that already ran the migration. Instead you can execute the following in `packages/shared` to generate a new migration file based on the changes you've made in the `schema.prisma`:  `npx dotenv -e ../../.env -- npx prisma migrate dev --name your_migration_name`.",
        "pr_file_module": null
      },
      {
        "comment_id": "2133333823",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 7060,
        "pr_file": "packages/shared/prisma/migrations/20230924232619_datasets_init/migration.sql",
        "discussion_id": "2126064449",
        "commented_code": "@@ -16,6 +16,7 @@ CREATE TABLE \"dataset_items\" (\n     \"expected_output\" JSONB,\n     \"source_observation_id\" TEXT,\n     \"dataset_id\" TEXT NOT NULL,\n+    \"comment\" TEXT,",
        "comment_created_at": "2025-06-07T04:12:35+00:00",
        "comment_author": "Deeptanshu-sankhwar",
        "comment_body": "Thanks for catching this @Steffen911! I've now removed the comment field from the original migration and created a proper new migration (`20250607040909_add_comment_to_dataset_items`) that adds the comment field via `ALTER TABLE`. This ensures users who already ran the original migration will get the field added correctly.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2052416150",
    "pr_number": 6534,
    "pr_file": "packages/shared/clickhouse/migrations/clustered/00011_add_blob_storage_file_log.down.sql",
    "created_at": "2025-04-21T13:55:56+00:00",
    "commented_code": "+DROP TABLE blob_storage_file_log;",
    "repo_full_name": "langfuse/langfuse",
    "discussion_comments": [
      {
        "comment_id": "2052416150",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 6534,
        "pr_file": "packages/shared/clickhouse/migrations/clustered/00011_add_blob_storage_file_log.down.sql",
        "discussion_id": "2052416150",
        "commented_code": "@@ -0,0 +1 @@\n+DROP TABLE blob_storage_file_log;",
        "comment_created_at": "2025-04-21T13:55:56+00:00",
        "comment_author": "Steffen911",
        "comment_body": "File name should be 0011 to ensure a correct order IMO. We only went with 4 leading digits.\r\n\r\nIn addition, you likely need a `ON CLUSTER default` for the down migration here.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1860773461",
    "pr_number": 4465,
    "pr_file": "packages/shared/clickhouse/migrations/clustered/0007_observation_stats_mv.down.sql",
    "created_at": "2024-11-27T14:32:54+00:00",
    "commented_code": "+DROP VIEW observation_stats_mv ON CLUSTER default;",
    "repo_full_name": "langfuse/langfuse",
    "discussion_comments": [
      {
        "comment_id": "1860773461",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 4465,
        "pr_file": "packages/shared/clickhouse/migrations/clustered/0007_observation_stats_mv.down.sql",
        "discussion_id": "1860773461",
        "commented_code": "@@ -0,0 +1 @@\n+DROP VIEW observation_stats_mv ON CLUSTER default;",
        "comment_created_at": "2024-11-27T14:32:54+00:00",
        "comment_author": "ellipsis-dev[bot]",
        "comment_body": "The command should drop a materialized view, not a regular view.\n```suggestion\nDROP MATERIALIZED VIEW observation_stats_mv ON CLUSTER default;\n```",
        "pr_file_module": null
      }
    ]
  }
]