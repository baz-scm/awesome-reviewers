[
  {
    "discussion_id": "2140577156",
    "pr_number": 7241,
    "pr_file": "web/src/features/otel/server/index.ts",
    "created_at": "2025-06-11T16:09:23+00:00",
    "commented_code": "-import { type IngestionEventType } from \"@langfuse/shared/src/server\";\n+import {\n+  type TraceEventType,\n+  type IngestionEventType,\n+} from \"@langfuse/shared/src/server\";\n import { randomUUID } from \"crypto\";\n import { ForbiddenError, ObservationLevel } from \"@langfuse/shared\";\n import { LangfuseOtelSpanAttributes } from \"./attributes\";\n+import { redis } from \"@langfuse/shared/src/server\";\n+\n+export async function getSeenTracesSet(\n+  resourceSpans: unknown,\n+  projectId: string,\n+): Promise<Set<string>> {\n+  if (!redis) {\n+    console.warn(\"Redis client not available\");",
    "repo_full_name": "langfuse/langfuse",
    "discussion_comments": [
      {
        "comment_id": "2140577156",
        "repo_full_name": "langfuse/langfuse",
        "pr_number": 7241,
        "pr_file": "web/src/features/otel/server/index.ts",
        "discussion_id": "2140577156",
        "commented_code": "@@ -1,7 +1,57 @@\n-import { type IngestionEventType } from \"@langfuse/shared/src/server\";\n+import {\n+  type TraceEventType,\n+  type IngestionEventType,\n+} from \"@langfuse/shared/src/server\";\n import { randomUUID } from \"crypto\";\n import { ForbiddenError, ObservationLevel } from \"@langfuse/shared\";\n import { LangfuseOtelSpanAttributes } from \"./attributes\";\n+import { redis } from \"@langfuse/shared/src/server\";\n+\n+export async function getSeenTracesSet(\n+  resourceSpans: unknown,\n+  projectId: string,\n+): Promise<Set<string>> {\n+  if (!redis) {\n+    console.warn(\"Redis client not available\");",
        "comment_created_at": "2025-06-11T16:09:23+00:00",
        "comment_author": "Steffen911",
        "comment_body": "Let's use the logger library here instead of console statements.",
        "pr_file_module": null
      }
    ]
  }
]