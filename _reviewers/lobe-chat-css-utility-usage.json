[
  {
    "discussion_id": "2047173220",
    "pr_number": 7421,
    "pr_file": "src/app/[variants]/(main)/chat/(workspace)/@topic/features/SystemRole/SystemRoleContent.tsx",
    "created_at": "2025-04-16T15:19:17+00:00",
    "commented_code": "setOpen(true);\n   };\n \n+  const [expanded, toggleAgentSystemRoleExpand] = useGlobalStore((s) => [\n+    systemStatusSelectors.getAgentSystemRoleExpanded(sessionId)(s),\n+    s.toggleAgentSystemRoleExpand,\n+  ]);\n+\n+  const toggleExpanded = () => {\n+    toggleAgentSystemRoleExpand(sessionId);\n+  };\n+\n   return (\n     <Flexbox height={'fit-content'}>\n       <SidebarHeader\n         actions={\n           <ActionIcon icon={Edit} onClick={handleOpenWithEdit} size={'small'} title={t('edit')} />\n         }\n+        onClick={toggleExpanded}\n+        style={{ cursor: 'pointer' }}\n         title={t('settingAgent.prompt.title', { ns: 'setting' })}\n       />\n       <Flexbox\n-        className={styles.promptBox}\n-        height={200}\n+        className={`${styles.promptBox} ${styles.animatedContainer}`}",
    "repo_full_name": "lobehub/lobe-chat",
    "discussion_comments": [
      {
        "comment_id": "2047173220",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 7421,
        "pr_file": "src/app/[variants]/(main)/chat/(workspace)/@topic/features/SystemRole/SystemRoleContent.tsx",
        "discussion_id": "2047173220",
        "commented_code": "@@ -64,20 +67,36 @@ const SystemRole = memo(() => {\n     setOpen(true);\n   };\n \n+  const [expanded, toggleAgentSystemRoleExpand] = useGlobalStore((s) => [\n+    systemStatusSelectors.getAgentSystemRoleExpanded(sessionId)(s),\n+    s.toggleAgentSystemRoleExpand,\n+  ]);\n+\n+  const toggleExpanded = () => {\n+    toggleAgentSystemRoleExpand(sessionId);\n+  };\n+\n   return (\n     <Flexbox height={'fit-content'}>\n       <SidebarHeader\n         actions={\n           <ActionIcon icon={Edit} onClick={handleOpenWithEdit} size={'small'} title={t('edit')} />\n         }\n+        onClick={toggleExpanded}\n+        style={{ cursor: 'pointer' }}\n         title={t('settingAgent.prompt.title', { ns: 'setting' })}\n       />\n       <Flexbox\n-        className={styles.promptBox}\n-        height={200}\n+        className={`${styles.promptBox} ${styles.animatedContainer}`}",
        "comment_created_at": "2025-04-16T15:19:17+00:00",
        "comment_author": "arvinxx",
        "comment_body": "\u8fd9\u4e2a\u53ef\u4ee5\u7528 `cx(styles.promptBox,styles.animatedContainer)`, cx \u4ece useStyles \u91cc\u5f15\u5165\u3002\r\n\r\n`const { styles, cx } = useStyles()`",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1751389643",
    "pr_number": 3874,
    "pr_file": "src/components/Branding/CustomLogo.tsx",
    "created_at": "2024-09-10T07:13:34+00:00",
    "commented_code": "-import { LobeChatProps } from '@lobehub/ui/brand';\n-import Image from 'next/image';\n-import { memo } from 'react';\n-import { Flexbox } from 'react-layout-kit';\n+import type { DivProps, SvgProps } from '@lobehub/ui';\n+import type { LobeChatProps } from '@lobehub/ui/brand';\n+import { createStyles, useTheme } from 'antd-style';\n+import Image, { ImageProps } from 'next/image';\n+import { ReactNode, memo } from 'react';\n+import { Flexbox, FlexboxProps } from 'react-layout-kit';\n \n import { BRANDING_LOGO_URL, BRANDING_NAME } from '@/const/branding';\n \n-interface ProductLogoProps {\n-  className?: string;\n-  extra?: string;\n-  size?: number;\n-  type?: LobeChatProps['type'];\n-}\n+const useStyles = createStyles(({ css }) => {",
    "repo_full_name": "lobehub/lobe-chat",
    "discussion_comments": [
      {
        "comment_id": "1751389643",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 3874,
        "pr_file": "src/components/Branding/CustomLogo.tsx",
        "discussion_id": "1751389643",
        "commented_code": "@@ -1,72 +1,125 @@\n-import { LobeChatProps } from '@lobehub/ui/brand';\n-import Image from 'next/image';\n-import { memo } from 'react';\n-import { Flexbox } from 'react-layout-kit';\n+import type { DivProps, SvgProps } from '@lobehub/ui';\n+import type { LobeChatProps } from '@lobehub/ui/brand';\n+import { createStyles, useTheme } from 'antd-style';\n+import Image, { ImageProps } from 'next/image';\n+import { ReactNode, memo } from 'react';\n+import { Flexbox, FlexboxProps } from 'react-layout-kit';\n \n import { BRANDING_LOGO_URL, BRANDING_NAME } from '@/const/branding';\n \n-interface ProductLogoProps {\n-  className?: string;\n-  extra?: string;\n-  size?: number;\n-  type?: LobeChatProps['type'];\n-}\n+const useStyles = createStyles(({ css }) => {",
        "comment_created_at": "2024-09-10T07:13:34+00:00",
        "comment_author": "arvinxx",
        "comment_body": "\u540e\u7eed\u5982\u679c\u662f\u7b80\u5355\u7684 css\uff0c\u4e0d\u5305\u542b token \u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8fd9\u4e48\u5199\r\n\r\n```ts\r\nimport { css,cx } from 'antd-style';\r\n\r\nconst  extraTitle = css`\r\n      font-weight: 300;\r\n      white-space: nowrap;\r\n    `;\r\n\r\n\r\n<div className={cx(extraTitle)} style={{ fontSize: extraSize }}>\r\n\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1608562178",
    "pr_number": 2590,
    "pr_file": "src/features/PluginStore/index.tsx",
    "created_at": "2024-05-21T15:49:47+00:00",
    "commented_code": "title={t('store.title')}\n       width={800}\n     >\n-      <Flexbox gap={mobile ? 8 : 16} width={'100%'}>\n+      <Flexbox \n+        gap={gap} \n+        style={{maxHeight: mobile ? `calc(75vh - 56px - 13px - ${gap}px)` : `calc(75vh - 56px - ${gap}px)`}}",
    "repo_full_name": "lobehub/lobe-chat",
    "discussion_comments": [
      {
        "comment_id": "1608562178",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 2590,
        "pr_file": "src/features/PluginStore/index.tsx",
        "discussion_id": "1608562178",
        "commented_code": "@@ -31,7 +33,11 @@ export const PluginStore = memo<PluginStoreProps>(({ setOpen, open }) => {\n       title={t('store.title')}\n       width={800}\n     >\n-      <Flexbox gap={mobile ? 8 : 16} width={'100%'}>\n+      <Flexbox \n+        gap={gap} \n+        style={{maxHeight: mobile ? `calc(75vh - 56px - 13px - ${gap}px)` : `calc(75vh - 56px - ${gap}px)`}}",
        "comment_created_at": "2024-05-21T15:49:47+00:00",
        "comment_author": "arvinxx",
        "comment_body": "\u8fd9\u4e2a\u8ba1\u7b97\u903b\u8f91\u662f\u5565\uff1f\u611f\u89c9\u6709\u70b9\u590d\u6742\u4e86\uff1f",
        "pr_file_module": null
      },
      {
        "comment_id": "1608582004",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 2590,
        "pr_file": "src/features/PluginStore/index.tsx",
        "discussion_id": "1608562178",
        "commented_code": "@@ -31,7 +33,11 @@ export const PluginStore = memo<PluginStoreProps>(({ setOpen, open }) => {\n       title={t('store.title')}\n       width={800}\n     >\n-      <Flexbox gap={mobile ? 8 : 16} width={'100%'}>\n+      <Flexbox \n+        gap={gap} \n+        style={{maxHeight: mobile ? `calc(75vh - 56px - 13px - ${gap}px)` : `calc(75vh - 56px - ${gap}px)`}}",
        "comment_created_at": "2024-05-21T15:58:54+00:00",
        "comment_author": "sxjeru",
        "comment_body": "75vh - 56px \u662f\u7236\u5143\u7d20\u5c3a\u5bf8\uff0c\u540e\u9762\u7684\u662f\u53cc\u7aef\u9002\u914d\u51fa\u6765\u7684\u5c3a\u5bf8\uff0c\u4fdd\u6301\u6700\u540e\u4e00\u9879\u5230\u5e95\u8fb9\u7684\u8ddd\u79bb\u548c\u7b2c\u4e00\u9879\u5230\u9876\u8fb9\u7684 gap \u4e00\u81f4\u3002\r\n\r\n[\u7236\u5143\u7d20](https://s2.loli.net/2024/05/21/k4UPM7JpbEd5gns.png)\uff0c[gap](https://s2.loli.net/2024/05/22/Ox93tenoalZNbCz.png)\uff08\u65f6\u95f4\u4ed3\u4fc3\uff0c\u622a\u56fe\u7684\u7248\u672c\u6ca1\u6709\u5e94\u7528\u672cpr\u4fee\u6539\uff09\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "1608635940",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 2590,
        "pr_file": "src/features/PluginStore/index.tsx",
        "discussion_id": "1608562178",
        "commented_code": "@@ -31,7 +33,11 @@ export const PluginStore = memo<PluginStoreProps>(({ setOpen, open }) => {\n       title={t('store.title')}\n       width={800}\n     >\n-      <Flexbox gap={mobile ? 8 : 16} width={'100%'}>\n+      <Flexbox \n+        gap={gap} \n+        style={{maxHeight: mobile ? `calc(75vh - 56px - 13px - ${gap}px)` : `calc(75vh - 56px - ${gap}px)`}}",
        "comment_created_at": "2024-05-21T16:38:56+00:00",
        "comment_author": "arvinxx",
        "comment_body": "\u53ef\u505a\u4e3a\u515c\u5e95\u65b9\u6848\uff0c\u60f3\u60f3\u770b\u6709\u6ca1\u6709\u66f4\u52a0\u4f18\u96c5\u7684\u89e3\u6cd5\uff1f `56px - 13px - gap` \u8fd9\u79cd\u8ba1\u7b97\u4f1a\u975e\u5e38\u8106\u5f31\uff0c\u672a\u6765\u4e07\u4e00\u6539\u4e86\u9876\u90e8\u7684\u5e03\u5c40\uff0c\u8fd9\u4e2a\u65b9\u6848\u5c31\u5931\u6548\u4e86\u3002",
        "pr_file_module": null
      },
      {
        "comment_id": "1609318706",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 2590,
        "pr_file": "src/features/PluginStore/index.tsx",
        "discussion_id": "1608562178",
        "commented_code": "@@ -31,7 +33,11 @@ export const PluginStore = memo<PluginStoreProps>(({ setOpen, open }) => {\n       title={t('store.title')}\n       width={800}\n     >\n-      <Flexbox gap={mobile ? 8 : 16} width={'100%'}>\n+      <Flexbox \n+        gap={gap} \n+        style={{maxHeight: mobile ? `calc(75vh - 56px - 13px - ${gap}px)` : `calc(75vh - 56px - ${gap}px)`}}",
        "comment_created_at": "2024-05-22T06:16:27+00:00",
        "comment_author": "sxjeru",
        "comment_body": "\u6539\u52a8\u4e86\u4e00\u4e0b\uff0c\u5957\u7528css\u7ee7\u627f\u5c5e\u6027\u3002\u552f\u4e00\u4e0d\u540c\u662f\u79fb\u52a8\u7aef\u7684\u5e95\u90e8padding\u662f16px\uff0c\u800c\u5217\u8868\u9876\u90e8gap\u662f8px\u3002\r\n\u8fd9\u662f\u5e03\u5c40\u521d\u59cb\u503c\uff0c\u975e\u672cpr\u5bfc\u81f4\uff0c\u5982\u679c\u770b\u7740\u534f\u8c03\uff0c\u5c31\u4e0d\u9700\u518d\u6539\u4e86\u3002[image](https://github.com/lobehub/lobe-chat/assets/20513115/e1589dec-deea-4ba1-8988-6462aa4b015d)\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "1615225102",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 2590,
        "pr_file": "src/features/PluginStore/index.tsx",
        "discussion_id": "1608562178",
        "commented_code": "@@ -31,7 +33,11 @@ export const PluginStore = memo<PluginStoreProps>(({ setOpen, open }) => {\n       title={t('store.title')}\n       width={800}\n     >\n-      <Flexbox gap={mobile ? 8 : 16} width={'100%'}>\n+      <Flexbox \n+        gap={gap} \n+        style={{maxHeight: mobile ? `calc(75vh - 56px - 13px - ${gap}px)` : `calc(75vh - 56px - ${gap}px)`}}",
        "comment_created_at": "2024-05-26T15:29:18+00:00",
        "comment_author": "arvinxx",
        "comment_body": "\u597d\u7684\uff0c\u6211\u770b\u4e0b",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1584881815",
    "pr_number": 2258,
    "pr_file": "src/components/ModelSelect/index.tsx",
    "created_at": "2024-04-30T13:58:51+00:00",
    "commented_code": "placement={placement}\n             title={t('ModelSelect.featureTag.functionCall')}\n           >\n-            <div className={cx(styles.tag, styles.tagBlue)}>\n+            <div className={cx(styles.tag, styles.tagBlue)} style={{ cursor: 'pointer' }} title=\"\">",
    "repo_full_name": "lobehub/lobe-chat",
    "discussion_comments": [
      {
        "comment_id": "1584881815",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 2258,
        "pr_file": "src/components/ModelSelect/index.tsx",
        "discussion_id": "1584881815",
        "commented_code": "@@ -94,20 +99,22 @@ export const ModelInfoTags = memo<ModelInfoTagsProps>(\n             placement={placement}\n             title={t('ModelSelect.featureTag.functionCall')}\n           >\n-            <div className={cx(styles.tag, styles.tagBlue)}>\n+            <div className={cx(styles.tag, styles.tagBlue)} style={{ cursor: 'pointer' }} title=\"\">",
        "comment_created_at": "2024-04-30T13:58:51+00:00",
        "comment_author": "arvinxx",
        "comment_body": "\u8fd9\u91cc\u4e0d\u5e94\u8be5\u52a0 pointer \u3002 pointer \u4e00\u822c\u662f\u70b9\u51fb\u624d\u52a0\uff0c\u8fd9\u4e2a\u53ea\u662fhover\u6709 tooltip",
        "pr_file_module": null
      },
      {
        "comment_id": "1585079756",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 2258,
        "pr_file": "src/components/ModelSelect/index.tsx",
        "discussion_id": "1584881815",
        "commented_code": "@@ -94,20 +99,22 @@ export const ModelInfoTags = memo<ModelInfoTagsProps>(\n             placement={placement}\n             title={t('ModelSelect.featureTag.functionCall')}\n           >\n-            <div className={cx(styles.tag, styles.tagBlue)}>\n+            <div className={cx(styles.tag, styles.tagBlue)} style={{ cursor: 'pointer' }} title=\"\">",
        "comment_created_at": "2024-04-30T15:42:33+00:00",
        "comment_author": "sxjeru",
        "comment_body": "\u8fd9\u8fb9\u4e3b\u8981\u8003\u8651\u7edf\u4e00\u884c\u4e3a\uff0c\u56e0\u4e3a\u7c7b\u4f3c 16k \u7684 tag \u4e5f\u662f pointer\u3002\r\n\u5e76\u4e14\u5373\u4fbf\u6307\u9488\u6837\u5f0f\u4e0d\u53d8\uff0c\u5b9e\u9645\u70b9\u51fb\u7684\u6548\u679c\u4e5f\u662f\u5b58\u5728\u7684\uff08\u9009\u4e2d\u6a21\u578b\uff09\uff0c\u800c\u4e0d\u662f\u666e\u901a\u6307\u9488\u5e38\u89c1\u7684\u5355\u51fb\u65e0\u6548\u3002\r\n\r\n\u6682\u4e14\u5c06\u9057\u6f0f\u7684 vision \u4e5f\u6539\u4e86\uff0c\u540e\u7eed\u53ef\u518d\u8ba8\u8bba\u3002",
        "pr_file_module": null
      },
      {
        "comment_id": "1587838355",
        "repo_full_name": "lobehub/lobe-chat",
        "pr_number": 2258,
        "pr_file": "src/components/ModelSelect/index.tsx",
        "discussion_id": "1584881815",
        "commented_code": "@@ -94,20 +99,22 @@ export const ModelInfoTags = memo<ModelInfoTagsProps>(\n             placement={placement}\n             title={t('ModelSelect.featureTag.functionCall')}\n           >\n-            <div className={cx(styles.tag, styles.tagBlue)}>\n+            <div className={cx(styles.tag, styles.tagBlue)} style={{ cursor: 'pointer' }} title=\"\">",
        "comment_created_at": "2024-05-02T15:28:05+00:00",
        "comment_author": "arvinxx",
        "comment_body": "\u54e6 \u597d\u7684",
        "pr_file_module": null
      }
    ]
  }
]