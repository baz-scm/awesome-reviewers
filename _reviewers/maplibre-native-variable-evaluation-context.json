[
  {
    "discussion_id": "2109195178",
    "pr_number": 3497,
    "pr_file": ".github/scripts/validate-version.sh",
    "created_at": "2025-05-27T13:28:04+00:00",
    "commented_code": "validate_version() {\n   local version=\"$1\"\n   if [[ ! \"$version\" =~ ^[0-9]+\\.[0-9]+\\.[0-9]+(-pre.*)?$ ]]; then\n-    echo \"::error::Invalid version '$version' in $(realpath VERSION). Expected: X.Y.Z or X.Y.Z-pre*\"\n+    echo \"::error::Invalid version '$version' in $(realpath \"$version_file\"). Expected: X.Y.Z or X.Y.Z-pre*\"",
    "repo_full_name": "maplibre/maplibre-native",
    "discussion_comments": [
      {
        "comment_id": "2109195178",
        "repo_full_name": "maplibre/maplibre-native",
        "pr_number": 3497,
        "pr_file": ".github/scripts/validate-version.sh",
        "discussion_id": "2109195178",
        "commented_code": "@@ -3,21 +3,40 @@\n validate_version() {\n   local version=\"$1\"\n   if [[ ! \"$version\" =~ ^[0-9]+\\.[0-9]+\\.[0-9]+(-pre.*)?$ ]]; then\n-    echo \"::error::Invalid version '$version' in $(realpath VERSION). Expected: X.Y.Z or X.Y.Z-pre*\"\n+    echo \"::error::Invalid version '$version' in $(realpath \"$version_file\"). Expected: X.Y.Z or X.Y.Z-pre*\"",
        "comment_created_at": "2025-05-27T13:28:04+00:00",
        "comment_author": "HarelM",
        "comment_body": "Isn't this a manual process? When was a non-valid version released that this validation is needed? I must admit I find this odd... but it might just be me...",
        "pr_file_module": null
      },
      {
        "comment_id": "2119727790",
        "repo_full_name": "maplibre/maplibre-native",
        "pr_number": 3497,
        "pr_file": ".github/scripts/validate-version.sh",
        "discussion_id": "2109195178",
        "commented_code": "@@ -3,21 +3,40 @@\n validate_version() {\n   local version=\"$1\"\n   if [[ ! \"$version\" =~ ^[0-9]+\\.[0-9]+\\.[0-9]+(-pre.*)?$ ]]; then\n-    echo \"::error::Invalid version '$version' in $(realpath VERSION). Expected: X.Y.Z or X.Y.Z-pre*\"\n+    echo \"::error::Invalid version '$version' in $(realpath \"$version_file\"). Expected: X.Y.Z or X.Y.Z-pre*\"",
        "comment_created_at": "2025-06-01T23:38:20+00:00",
        "comment_author": "louwers",
        "comment_body": "Yes it is manual, but people can make mistakes. Especially when making a pre-release, which does not require a PR review for a version release.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1910625908",
    "pr_number": 3137,
    "pr_file": "docker/startup.sh",
    "created_at": "2025-01-10T16:29:45+00:00",
    "commented_code": "#!/bin/sh\n \n-if [ ! -d /app/.github ] || [ ! -d /home/user/.cache ]; then\n+if [ ! -d /app/.github ] || [ ! -d ~/.cache ]; then\n     echo \" \"\n     echo \"ERROR: Docker container was not started properly.\"\n     echo \"       From the root of this repo, run the following command.\"\n     echo \"       You may add any command to perform in the container at the end of this command.\"\n     echo \" \"\n-    echo '  docker run --rm -it -v \"$PWD:/app/\" -v \"$PWD/docker/.cache:/home/user/.cache\" maplibre-native-image'\n+    echo \"  docker run --rm -it -v \\\"$PWD:/app/\\\" -v \\\"$PWD/docker/.cache:/home/$USERNAME/.cache\\\" maplibre-native-image\"",
    "repo_full_name": "maplibre/maplibre-native",
    "discussion_comments": [
      {
        "comment_id": "1910625908",
        "repo_full_name": "maplibre/maplibre-native",
        "pr_number": 3137,
        "pr_file": "docker/startup.sh",
        "discussion_id": "1910625908",
        "commented_code": "@@ -1,13 +1,51 @@\n #!/bin/sh\n \n-if [ ! -d /app/.github ] || [ ! -d /home/user/.cache ]; then\n+if [ ! -d /app/.github ] || [ ! -d ~/.cache ]; then\n     echo \" \"\n     echo \"ERROR: Docker container was not started properly.\"\n     echo \"       From the root of this repo, run the following command.\"\n     echo \"       You may add any command to perform in the container at the end of this command.\"\n     echo \" \"\n-    echo '  docker run --rm -it -v \"$PWD:/app/\" -v \"$PWD/docker/.cache:/home/user/.cache\" maplibre-native-image'\n+    echo \"  docker run --rm -it -v \\\"$PWD:/app/\\\" -v \\\"$PWD/docker/.cache:/home/$USERNAME/.cache\\\" maplibre-native-image\"",
        "comment_created_at": "2025-01-10T16:29:45+00:00",
        "comment_author": "nyurik",
        "comment_body": "this is not correct - double quotes would convert `$PWD` to the value **inside** the docker container, whereas the user should just copy/paste this string so that `$PWD` is resolved using the host.\r\n\r\n```suggestion\r\n    echo '  docker run --rm -it -v \"$PWD:/app/\" -v \"$PWD/docker/.cache:/home/'\"$USERNAME\"'/.cache\" maplibre-native-image'\r\n```",
        "pr_file_module": null
      }
    ]
  }
]