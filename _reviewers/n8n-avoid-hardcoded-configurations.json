[
  {
    "discussion_id": "2046665068",
    "pr_number": 14675,
    "pr_file": "packages/editor-ui/src/components/ExitBackButton.vue",
    "created_at": "2025-04-16T10:49:36+00:00",
    "commented_code": "+<script setup lang=\"ts\">\n+import { useRouter } from 'vue-router';\n+import { useI18n } from '@/composables/useI18n';\n+\n+const router = useRouter();\n+const i18n = useI18n();\n+\n+const navigateTo = () => {\n+\t// void router.push({ name: VIEWS.TEMPLATES });\n+\t// console.log('process.env => ', process.env);\n+\t// window.location.href(`${process.env.VUE_APP_PLATFORM_URL}/workflows`);\n+\twindow.location.replace('https://stage.ciaraai.com/workflows');",
    "repo_full_name": "n8n-io/n8n",
    "discussion_comments": [
      {
        "comment_id": "2046665068",
        "repo_full_name": "n8n-io/n8n",
        "pr_number": 14675,
        "pr_file": "packages/editor-ui/src/components/ExitBackButton.vue",
        "discussion_id": "2046665068",
        "commented_code": "@@ -0,0 +1,48 @@\n+<script setup lang=\"ts\">\n+import { useRouter } from 'vue-router';\n+import { useI18n } from '@/composables/useI18n';\n+\n+const router = useRouter();\n+const i18n = useI18n();\n+\n+const navigateTo = () => {\n+\t// void router.push({ name: VIEWS.TEMPLATES });\n+\t// console.log('process.env => ', process.env);\n+\t// window.location.href(`${process.env.VUE_APP_PLATFORM_URL}/workflows`);\n+\twindow.location.replace('https://stage.ciaraai.com/workflows');",
        "comment_created_at": "2025-04-16T10:49:36+00:00",
        "comment_author": "cubic-dev-ai[bot]",
        "comment_body": "Hardcoded URL to a staging environment",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2213514432",
    "pr_number": 17339,
    "pr_file": "packages/frontend/editor-ui/src/views/SettingsUsersView.vue",
    "created_at": "2025-07-17T14:28:04+00:00",
    "commented_code": "@click:button=\"goToUpgrade\"\n \t\t\t/>\n \t\t</div>\n-\t\t<n8n-notice v-if=\"!isAdvancedPermissionsEnabled\">\n+\t\t<N8nNotice v-if=\"!isAdvancedPermissionsEnabled\">\n \t\t\t<I18nT keypath=\"settings.users.advancedPermissions.warning\" scope=\"global\">\n \t\t\t\t<template #link>\n-\t\t\t\t\t<n8n-link\n+\t\t\t\t\t<N8nLink\n \t\t\t\t\t\tdata-test-id=\"upgrade-permissions-link\"\n \t\t\t\t\t\tsize=\"small\"\n \t\t\t\t\t\t@click=\"goToUpgradeAdvancedPermissions\"\n \t\t\t\t\t>\n-\t\t\t\t\t\t{{ i18n.baseText('settings.users.advancedPermissions.warning.link') }}\n-\t\t\t\t\t</n8n-link>\n+\t\t\t\t\t\t{{ i18n.baseText('generic.upgrade') }}\n+\t\t\t\t\t</N8nLink>\n \t\t\t\t</template>\n \t\t\t</I18nT>\n-\t\t</n8n-notice>\n+\t\t</N8nNotice>\n \t\t<div :class=\"$style.settingsContainer\">\n \t\t\t<div :class=\"$style.settingsContainerInfo\">\n-\t\t\t\t<n8n-text :bold=\"true\">{{ i18n.baseText('settings.personal.mfa.enforce.title') }}</n8n-text>\n-\t\t\t\t<n8n-text size=\"small\" color=\"text-light\">{{\n+\t\t\t\t<N8nText :bold=\"true\"\n+\t\t\t\t\t>{{ i18n.baseText('settings.personal.mfa.enforce.title') }}\n+\t\t\t\t\t<N8nBadge class=\"ml-4xs\">{{ i18n.baseText('generic.upgrade') }}</N8nBadge></N8nText",
    "repo_full_name": "n8n-io/n8n",
    "discussion_comments": [
      {
        "comment_id": "2213514432",
        "repo_full_name": "n8n-io/n8n",
        "pr_number": 17339,
        "pr_file": "packages/frontend/editor-ui/src/views/SettingsUsersView.vue",
        "discussion_id": "2213514432",
        "commented_code": "@@ -367,25 +370,28 @@\n \t\t\t\t@click:button=\"goToUpgrade\"\n \t\t\t/>\n \t\t</div>\n-\t\t<n8n-notice v-if=\"!isAdvancedPermissionsEnabled\">\n+\t\t<N8nNotice v-if=\"!isAdvancedPermissionsEnabled\">\n \t\t\t<I18nT keypath=\"settings.users.advancedPermissions.warning\" scope=\"global\">\n \t\t\t\t<template #link>\n-\t\t\t\t\t<n8n-link\n+\t\t\t\t\t<N8nLink\n \t\t\t\t\t\tdata-test-id=\"upgrade-permissions-link\"\n \t\t\t\t\t\tsize=\"small\"\n \t\t\t\t\t\t@click=\"goToUpgradeAdvancedPermissions\"\n \t\t\t\t\t>\n-\t\t\t\t\t\t{{ i18n.baseText('settings.users.advancedPermissions.warning.link') }}\n-\t\t\t\t\t</n8n-link>\n+\t\t\t\t\t\t{{ i18n.baseText('generic.upgrade') }}\n+\t\t\t\t\t</N8nLink>\n \t\t\t\t</template>\n \t\t\t</I18nT>\n-\t\t</n8n-notice>\n+\t\t</N8nNotice>\n \t\t<div :class=\"$style.settingsContainer\">\n \t\t\t<div :class=\"$style.settingsContainerInfo\">\n-\t\t\t\t<n8n-text :bold=\"true\">{{ i18n.baseText('settings.personal.mfa.enforce.title') }}</n8n-text>\n-\t\t\t\t<n8n-text size=\"small\" color=\"text-light\">{{\n+\t\t\t\t<N8nText :bold=\"true\"\n+\t\t\t\t\t>{{ i18n.baseText('settings.personal.mfa.enforce.title') }}\n+\t\t\t\t\t<N8nBadge class=\"ml-4xs\">{{ i18n.baseText('generic.upgrade') }}</N8nBadge></N8nText",
        "comment_created_at": "2025-07-17T14:28:04+00:00",
        "comment_author": "cubic-dev-ai[bot]",
        "comment_body": "<!-- metadata:{\"confidence\":8,\"steps\":[{\"text\":\"\",\"toolCalls\":[{\"args\":{\"command\":\"grep -R \\\"usersList.state\\\" -n packages | head\"},\"toolName\":\"executeCommand\"}]},{\"text\":\"\",\"toolCalls\":[{\"args\":{\"command\":\"grep -n \\\"\\\\.userCount\\\" -R packages/frontend/editor-ui/src/views/SettingsUsersView.vue\"},\"toolName\":\"executeCommand\"}]}]} -->\nUpgrade badge is always displayed even when the Enforce MFA feature is licensed, which will mislead paying customers.\n\n<details>\n<summary>Prompt for AI agents</summary>\n\n```\nAddress the following comment on packages/frontend/editor-ui/src/views/SettingsUsersView.vue at line 390:\n\n<comment>Upgrade badge is always displayed even when the Enforce MFA feature is licensed, which will mislead paying customers.</comment>\n\n<file context>\n@@ -350,11 +350,14 @@ async function onUpdateMfaEnforced(value: boolean) {\n \n &lt;template&gt;\n \t&lt;div :class=&quot;$style.container&quot;&gt;\n-\t\t&lt;n8n-heading tag=&quot;h1&quot; size=&quot;2xlarge&quot; class=&quot;mb-xl&quot;&gt;\n+\t\t&lt;N8nHeading tag=&quot;h1&quot; size=&quot;2xlarge&quot; class=&quot;mb-xl&quot;&gt;\n \t\t\t{{ i18n.baseText(&#39;settings.users&#39;) }}\n-\t\t&lt;/n8n-heading&gt;\n+\t\t\t&lt;N8nText v-if=&quot;!showUMSetupWarning&quot; :class=&quot;$style.userCount&quot; color=&quot;text-light&quot;\n+\t\t\t\t&gt;{{ usersStore.usersList.state.count }} {{ i18n.baseText(&#39;settings.users&#39;) }}&lt;/N8nText\n+\t\t\t&gt;\n+\t\t&lt;/N8nHeading&gt;\n \t\t&lt;div v-if=&quot;!usersStore.usersLimitNotReached&quot; :class=&quot;$style.setupInfoContainer&quot;&gt;\n-\t\t\t&lt;n8n-action-box\n+\t\t\t&lt;N8nActionBox\n \t\t\t\t:heading=&quot;\n \t\t\t\t\ti18n.baseText(uiStore.contextBasedTranslationKeys.users.settings.unavailable.title)\n \t\t\t\t&quot;\n@@ -367,25 +370,28 @@ async function onUpdateMfaEnforced(value: boolean) {\n \t\t\t\t@click:button=&quot;goToUpgrade&quot;\n \t\t\t/&gt;\n \t\t&lt;/div&gt;\n-\t\t&lt;n8n-notice v-if=&quot;!isAdvancedPermissionsEnabled&quot;&gt;\n+\t\t&lt;N8nNotice v-if=&quot;!isAdvancedPermissionsEnabled&quot;&gt;\n \t\t\t&lt;I18nT keypath=&quot;settings.users.advancedPermissions.warning&quot; scope=&quot;global&quot;&gt;\n \t\t\t\t&lt;template #link&gt;\n-\t\t\t\t\t&lt;n8n-link\n+\t\t\t\t\t&lt;N8nLink\n \t\t\t\t\t\tdata-test-id=&quot;upgrade-permissions-link&quot;\n \t\t\t\t\t\tsize=&quot;small&quot;\n \t\t\t\t\t\t@click=&quot;goToUpgradeAdvancedPermissions&quot;\n \t\t\t\t\t&gt;\n-\t\t\t\t\t\t{{ i18n.baseText(&#39;settings.users.advancedPermissions.warning.link&#39;) }}\n-\t\t\t\t\t&lt;/n8n-link&gt;\n+\t\t\t\t\t\t{{ i18n.baseText(&#39;generic.upgrade&#39;) }}\n+\t\t\t\t\t&lt;/N8nLink&gt;\n \t\t\t\t&lt;/template&gt;\n \t\t\t&lt;/I18nT&gt;\n-\t\t&lt;/n8n-notice&gt;\n+\t\t&lt;/N8nNotice&gt;\n \t\t&lt;div :class=&quot;$style.settingsContainer&quot;&gt;\n \t\t\t&lt;div :class=&quot;$style.settingsContainerInfo&quot;&gt;\n-\t\t\t\t&lt;n8n-text :bold=&quot;true&quot;&gt;{{ i18n.baseText(&#39;settings.personal.mfa.enforce.title&#39;) }}&lt;/n8n-text&gt;\n-\t\t\t\t&lt;n8n-text size=&quot;small&quot; color=&quot;text-light&quot;&gt;{{\n+\t\t\t\t&lt;N8nText :bold=&quot;true&quot;\n+\t\t\t\t\t&gt;{{ i18n.baseText(&#39;settings.personal.mfa.enforce.title&#39;) }}\n+\t\t\t\t\t&lt;N8nBadge class=&quot;ml-4xs&quot;&gt;{{ i18n.baseText(&#39;generic.upgrade&#39;) }}&lt;/N8nBadge&gt;&lt;/N8nText\n+\t\t\t\t&gt;\n+\t\t\t\t&lt;N8nText size=&quot;small&quot; color=&quot;text-light&quot;&gt;{{\n \t\t\t\t\ti18n.baseText(&#39;settings.personal.mfa.enforce.message&#39;)\n-\t\t\t\t}}&lt;/n8n-text&gt;\n+\t\t\t\t}}&lt;/N8nText&gt;\n \t\t\t&lt;/div&gt;\n \t\t\t&lt;div :class=&quot;$style.settingsContainerAction&quot;&gt;\n \t\t\t\t&lt;EnterpriseEdition :features=&quot;[EnterpriseEditionFeature.EnforceMFA]&quot;&gt;\n@@ -397,12 +403,7 @@ async function onUpdateMfaEnforced(value: boolean) {\n \t\t\t\t\t/&gt;\n \t\t\t\t\t&lt;template #fallback&gt;\n \t\t\t\t\t\t&lt;N8nTooltip&gt;\n-\t\t\t\t\t\t\t&lt;el-switch\n-\t\t\t\t\t\t\t\t:model-value=&quot;settingsStore.isMFAEnforced&quot;\n-\t\t\t\t\t\t\t\tsize=&quot;large&quot;\n-\t\t\t\t\t\t\t\t:disabled=&quot;true&quot;\n-\t\t\t\t\t\t\t\t@update:model-value=&quot;onUpdateMfaEnforced&quot;\n-\t\t\t\t\t\t\t/&gt;\n+\t\t\t\t\t\t\t&lt;el-switch :model-value=&quot;settingsStore.isMFAEnforced&quot; size=&quot;large&quot; :disabled=&quot;true&quot; /&gt;\n \t\t\t\t\t\t\t&lt;template #content&gt;\n \t\t\t\t\t\t\t\t&lt;I18nT :keypath=&quot;tooltipKey&quot; tag=&quot;span&quot; scope=&quot;global&quot;&gt;\n \t\t\t\t\t\t\t\t\t&lt;template #action&gt;\n@@ -418,7 +419,7 @@ async function onUpdateMfaEnforced(value: boolean) {\n \t\t\t&lt;/div&gt;\n \t\t&lt;/div&gt;\n \t\t&lt;div v-if=&quot;!showUMSetupWarning&quot; :class=&quot;$style.buttonContainer&quot;&gt;\n-\t\t\t&lt;n8n-input\n+\t\t\t&lt;N8nInput\n \t\t\t\t:class=&quot;$style.search&quot;\n \t\t\t\t:model-value=&quot;search&quot;\n \t\t\t\t:placeholder=&quot;i18n.baseText(&#39;settings.users.search.placeholder&#39;)&quot;\n@@ -427,23 +428,23 @@ async function onUpdateMfaEnforced(value: boolean) {\n \t\t\t\t@update:model-value=&quot;onSearch&quot;\n \t\t\t&gt;\n \t\t\t\t&lt;template #prefix&gt;\n-\t\t\t\t\t&lt;n8n-icon icon=&quot;search&quot; /&gt;\n+\t\t\t\t\t&lt;N8nIcon icon=&quot;search&quot; /&gt;\n \t\t\t\t&lt;/template&gt;\n-\t\t\t&lt;/n8n-input&gt;\n-\t\t\t&lt;n8n-tooltip :disabled=&quot;!ssoStore.isSamlLoginEnabled&quot;&gt;\n+\t\t\t&lt;/N8nInput&gt;\n+\t\t\t&lt;N8nTooltip :disabled=&quot;!ssoStore.isSamlLoginEnabled&quot;&gt;\n \t\t\t\t&lt;template #content&gt;\n \t\t\t\t\t&lt;span&gt; {{ i18n.baseText(&#39;settings.users.invite.tooltip&#39;) }} &lt;/span&gt;\n \t\t\t\t&lt;/template&gt;\n \t\t\t\t&lt;div&gt;\n-\t\t\t\t\t&lt;n8n-button\n+\t\t\t\t\t&lt;N8nButton\n \t\t\t\t\t\t:disabled=&quot;ssoStore.isSamlLoginEnabled || !usersStore.usersLimitNotReached&quot;\n \t\t\t\t\t\t:label=&quot;i18n.baseText(&#39;settings.users.invite&#39;)&quot;\n \t\t\t\t\t\tsize=&quot;large&quot;\n \t\t\t\t\t\tdata-test-id=&quot;settings-users-invite-button&quot;\n \t\t\t\t\t\t@click=&quot;onInvite&quot;\n \t\t\t\t\t/&gt;\n \t\t\t\t&lt;/div&gt;\n-\t\t\t&lt;/n8n-tooltip&gt;\n+\t\t\t&lt;/N8nTooltip&gt;\n \t\t&lt;/div&gt;\n \t\t&lt;!-- If there&#39;s more than 1 user it means the account quota was more than 1 in the past. So we need to allow instance owner to be able to delete users and transfer workflows.\n \t\t--&gt;\n@@ -466,6 +467,12 @@ async function onUpdateMfaEnforced(value: boolean) {\n &lt;/template&gt;\n \n &lt;style lang=&quot;scss&quot; module&gt;\n+.userCount {\n+\tdisplay: block;\n+\tpadding: var(--spacing-3xs) 0 0;\n+\ttext-transform: lowercase;\n+}\n+\n .buttonContainer {\n \tdisplay: flex;\n \tjustify-content: space-between;\n</file context>\n```\n\n</details>\n\n```suggestion\n\t\t\t\t\t<N8nBadge v-if=\"!settingsStore.isEnterpriseFeatureEnabled[EnterpriseEditionFeature.EnforceMFA]\" class=\"ml-4xs\">{{ i18n.baseText('generic.upgrade') }}</N8nBadge>\n```",
        "pr_file_module": null
      }
    ]
  }
]