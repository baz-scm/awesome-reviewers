[
  {
    "discussion_id": "2166092501",
    "pr_number": 16489,
    "pr_file": "packages/frontend/editor-ui/src/features/logs/components/LogsOverviewPanel.vue",
    "created_at": "2025-06-25T08:15:10+00:00",
    "commented_code": "}\n }\n \n+function isExpanded(treeNode: LogEntry): boolean {\n+\tconst index = flatLogEntries.findIndex((e) => e.id === treeNode.id);\n+\n+\treturn index >= 0 ? flatLogEntries[index + 1]?.parent?.id === treeNode.id : false;\n+}\n+\n+// While executing, scroll to the bottom if there's no selection\n+watch(\n+\t[() => execution?.status === 'running', () => flatLogEntries.length],\n+\tasync ([isRunning, flatEntryCount], [wasRunning]) => {\n+\t\tawait nextTick(() => {\n+\t\t\tif (selected === undefined && (isRunning || wasRunning)) {\n+\t\t\t\tvirtualList.scrollTo(flatEntryCount - 1);\n+\t\t\t}\n+\t\t});\n+\t},\n+\t{ immediate: true },\n+);\n+\n // Scroll selected row into view\n watch(\n-\t() => selected,\n-\tasync (selection) => {\n-\t\tif (selection && virtualList.list.value.every((e) => e.data.id !== selection.id)) {\n-\t\t\tconst index = flatLogEntries.findIndex((e) => e.id === selection?.id);\n+\t() => selected?.id,",
    "repo_full_name": "n8n-io/n8n",
    "discussion_comments": [
      {
        "comment_id": "2166092501",
        "repo_full_name": "n8n-io/n8n",
        "pr_number": 16489,
        "pr_file": "packages/frontend/editor-ui/src/features/logs/components/LogsOverviewPanel.vue",
        "discussion_id": "2166092501",
        "commented_code": "@@ -98,18 +85,42 @@ async function handleTriggerPartialExecution(treeNode: LogEntry) {\n \t}\n }\n \n+function isExpanded(treeNode: LogEntry): boolean {\n+\tconst index = flatLogEntries.findIndex((e) => e.id === treeNode.id);\n+\n+\treturn index >= 0 ? flatLogEntries[index + 1]?.parent?.id === treeNode.id : false;\n+}\n+\n+// While executing, scroll to the bottom if there's no selection\n+watch(\n+\t[() => execution?.status === 'running', () => flatLogEntries.length],\n+\tasync ([isRunning, flatEntryCount], [wasRunning]) => {\n+\t\tawait nextTick(() => {\n+\t\t\tif (selected === undefined && (isRunning || wasRunning)) {\n+\t\t\t\tvirtualList.scrollTo(flatEntryCount - 1);\n+\t\t\t}\n+\t\t});\n+\t},\n+\t{ immediate: true },\n+);\n+\n // Scroll selected row into view\n watch(\n-\t() => selected,\n-\tasync (selection) => {\n-\t\tif (selection && virtualList.list.value.every((e) => e.data.id !== selection.id)) {\n-\t\t\tconst index = flatLogEntries.findIndex((e) => e.id === selection?.id);\n+\t() => selected?.id,",
        "comment_created_at": "2025-06-25T08:15:10+00:00",
        "comment_author": "autologie",
        "comment_body": "Changing watch target from object to string, so that it's more stable (doesn't fire more than necessary). This fixes the bug where scroll position changes unwantedly",
        "pr_file_module": null
      }
    ]
  }
]