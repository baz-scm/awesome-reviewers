[
  {
    "discussion_id": "1841545376",
    "pr_number": 5821,
    "pr_file": "app/components/chat.tsx",
    "created_at": "2024-11-14T04:32:34+00:00",
    "commented_code": "(scrollRef.current.scrollTop + scrollRef.current.clientHeight),\n       ) <= 1\n     : false;\n+  const isAttachWithTop = useCallback(() => {",
    "repo_full_name": "ChatGPTNextWeb/NextChat",
    "discussion_comments": [
      {
        "comment_id": "1841545376",
        "repo_full_name": "ChatGPTNextWeb/NextChat",
        "pr_number": 5821,
        "pr_file": "app/components/chat.tsx",
        "discussion_id": "1841545376",
        "commented_code": "@@ -960,9 +960,29 @@ function _Chat() {\n           (scrollRef.current.scrollTop + scrollRef.current.clientHeight),\n       ) <= 1\n     : false;\n+  const isAttachWithTop = useCallback(() => {",
        "comment_created_at": "2024-11-14T04:32:34+00:00",
        "comment_author": "lloydzhou",
        "comment_body": "\u8fd9\u91cc\u4f7f\u7528\u54ea\u4e00\u4e2a\u66f4\u52a0\u5408\u9002\uff1f\r\nuseCallback\u8fd8\u662f\u4f7f\u7528useMemo\uff1f",
        "pr_file_module": null
      },
      {
        "comment_id": "1841682725",
        "repo_full_name": "ChatGPTNextWeb/NextChat",
        "pr_number": 5821,
        "pr_file": "app/components/chat.tsx",
        "discussion_id": "1841545376",
        "commented_code": "@@ -960,9 +960,29 @@ function _Chat() {\n           (scrollRef.current.scrollTop + scrollRef.current.clientHeight),\n       ) <= 1\n     : false;\n+  const isAttachWithTop = useCallback(() => {",
        "comment_created_at": "2024-11-14T07:19:35+00:00",
        "comment_author": "Dogtiti",
        "comment_body": "useMemo \u66f4\u597d",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1509934667",
    "pr_number": 4194,
    "pr_file": "app/components/sidebar.tsx",
    "created_at": "2024-03-02T09:25:13+00:00",
    "commented_code": "}\n \n function useGlobalShortcut() {",
    "repo_full_name": "ChatGPTNextWeb/NextChat",
    "discussion_comments": [
      {
        "comment_id": "1509934667",
        "repo_full_name": "ChatGPTNextWeb/NextChat",
        "pr_number": 4194,
        "pr_file": "app/components/sidebar.tsx",
        "discussion_id": "1509934667",
        "commented_code": "@@ -131,6 +131,10 @@ function useDragSideBar() {\n }\n \n function useGlobalShortcut() {",
        "comment_created_at": "2024-03-02T09:25:13+00:00",
        "comment_author": "H0llyW00dzZ",
        "comment_body": "@JasonEWNL there is another one\r\n\r\n```tsx\r\nfunction useGlobalShortcut() {\r\n  // Call hooks at the top level to comply with the rules of hooks.\r\n  const chatStore = useChatStore();\r\n  const navigate = useNavigate();\r\n  const config = useAppConfig();\r\n\r\n  useEffect(() => {\r\n    // Early return if not in a Tauri environment. This way, the hooks are called unconditionally,\r\n    // but the code inside useEffect only runs conditionally.\r\n    if (!window.__TAURI__) {\r\n      return;\r\n    }\r\n\r\n    const handleMasks = async () => {\r\n      await register(\"CommandOrControl+Shift+M\", () => {\r\n        if (config.dontShowMaskSplashScreen !== true) {\r\n          navigate(Path.NewChat, { state: { fromHome: true } });\r\n        } else {\r\n          navigate(Path.Masks, { state: { fromHome: true } });\r\n        }\r\n      });\r\n    };\r\n\r\n    const handleSettings = async () => {\r\n      await register(\"CommandOrControl+,\", () => {\r\n        navigate(Path.Settings);\r\n      });\r\n    };\r\n\r\n    const handleNewChat = async () => {\r\n      await register(\"CommandOrControl+N\", () => {\r\n        if (config.dontShowMaskSplashScreen) {\r\n          chatStore.newSession();\r\n          navigate(Path.Chat);\r\n        } else {\r\n          navigate(Path.NewChat);\r\n        }\r\n      });\r\n    };\r\n\r\n    // Execute the registration functions.\r\n    handleMasks();\r\n    handleSettings();\r\n    handleNewChat();\r\n\r\n    // Remember to return a cleanup function if necessary, for example, to unregister the shortcuts.\r\n  }, [chatStore, navigate, config]); // Include all dependencies here.\r\n}\r\n```",
        "pr_file_module": null
      }
    ]
  }
]