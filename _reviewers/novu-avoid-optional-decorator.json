[
  {
    "discussion_id": "2267228892",
    "pr_number": 8888,
    "pr_file": "apps/api/src/app/outbound-webhooks/outbound-webhooks.module.ts",
    "created_at": "2025-08-11T15:55:44+00:00",
    "commented_code": "+import { DynamicModule, Module } from '@nestjs/common';\n+import { SendWebhookMessage, SvixProviderService } from '@novu/application-generic';\n+import { NoopSendWebhookMessage } from '../inbox/usecases/noop-send-webhook-message.usecase';\n+import { SharedModule } from '../shared/shared.module';\n+import { OutboundWebhooksController } from './outbound-webhooks.controller';\n+import { CreateWebhookPortalUsecase } from './usecases/create-webhook-portal-token/create-webhook-portal.usecase';\n+import { GetWebhookPortalTokenUsecase } from './usecases/get-webhook-portal-token/get-webhook-portal-token.usecase';\n+\n+@Module({})\n+class OutboundWebhooksModuleDefinition {}\n+\n+export const OutboundWebhooksModule = {",
    "repo_full_name": "novuhq/novu",
    "discussion_comments": [
      {
        "comment_id": "2267228892",
        "repo_full_name": "novuhq/novu",
        "pr_number": 8888,
        "pr_file": "apps/api/src/app/outbound-webhooks/outbound-webhooks.module.ts",
        "discussion_id": "2267228892",
        "commented_code": "@@ -0,0 +1,38 @@\n+import { DynamicModule, Module } from '@nestjs/common';\n+import { SendWebhookMessage, SvixProviderService } from '@novu/application-generic';\n+import { NoopSendWebhookMessage } from '../inbox/usecases/noop-send-webhook-message.usecase';\n+import { SharedModule } from '../shared/shared.module';\n+import { OutboundWebhooksController } from './outbound-webhooks.controller';\n+import { CreateWebhookPortalUsecase } from './usecases/create-webhook-portal-token/create-webhook-portal.usecase';\n+import { GetWebhookPortalTokenUsecase } from './usecases/get-webhook-portal-token/get-webhook-portal-token.usecase';\n+\n+@Module({})\n+class OutboundWebhooksModuleDefinition {}\n+\n+export const OutboundWebhooksModule = {",
        "comment_created_at": "2025-08-11T15:55:44+00:00",
        "comment_author": "djabarovgeorge",
        "comment_body": "We have to ensure that we do not use @Optional because it disables the Nest.js DI validation at runtime bootstrap. Without it, we may miss injections in the needed module during compilation, which will result in a lack of providers at runtime without our knowledge.\n\nThis Module helps to prevent it.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2090921101",
    "pr_number": 8300,
    "pr_file": "libs/application-generic/src/usecases/workflow/delete-workflow/delete-workflow.usecase.ts",
    "created_at": "2025-05-15T11:08:12+00:00",
    "commented_code": "private messageTemplateRepository: MessageTemplateRepository,\n     private getWorkflowByIdsUseCase: GetWorkflowByIdsUseCase,\n     private controlValuesRepository: ControlValuesRepository,\n-    private deletePreferencesUsecase: DeletePreferencesUseCase\n+    private deletePreferencesUsecase: DeletePreferencesUseCase,\n+    @Optional()\n+    private sendWebhookMessage: SendWebhookMessage",
    "repo_full_name": "novuhq/novu",
    "discussion_comments": [
      {
        "comment_id": "2090921101",
        "repo_full_name": "novuhq/novu",
        "pr_number": 8300,
        "pr_file": "libs/application-generic/src/usecases/workflow/delete-workflow/delete-workflow.usecase.ts",
        "discussion_id": "2090921101",
        "commented_code": "@@ -20,7 +21,9 @@ export class DeleteWorkflowUseCase {\n     private messageTemplateRepository: MessageTemplateRepository,\n     private getWorkflowByIdsUseCase: GetWorkflowByIdsUseCase,\n     private controlValuesRepository: ControlValuesRepository,\n-    private deletePreferencesUsecase: DeletePreferencesUseCase\n+    private deletePreferencesUsecase: DeletePreferencesUseCase,\n+    @Optional()\n+    private sendWebhookMessage: SendWebhookMessage",
        "comment_created_at": "2025-05-15T11:08:12+00:00",
        "comment_author": "djabarovgeorge",
        "comment_body": "```suggestion\r\n    private sendWebhookMessage?: SendWebhookMessage\r\n```",
        "pr_file_module": null
      }
    ]
  }
]