[
  {
    "discussion_id": "2341779568",
    "pr_number": 32698,
    "pr_file": "astro-docs/src/components/layout/SidebarSublist.astro",
    "created_at": "2025-09-11T16:55:20+00:00",
    "commented_code": "+---\n+/*\n+ * This is a modified version of the SidebarSublist component from Starlight with support for icons.\n+ * https://github.com/withastro/starlight/blob/46524ac/packages/starlight/components/SidebarSublist.astro -->\n+ */\n+import { Badge, Icon } from '@astrojs/starlight/components'\n+\n+export interface SidebarLink {\n+  type: 'link'\n+  label: string\n+  href: string\n+  isCurrent: boolean\n+  badge: any\n+  attrs: any\n+}\n+\n+export interface SidebarGroup {\n+  type: 'group'\n+  label: string\n+  entries: (SidebarLink | SidebarGroup)[]\n+  collapsed: boolean\n+  badge: any\n+  attrs?: any\n+}\n+\n+export type SidebarEntry = SidebarLink | SidebarGroup\n+\n+interface Props {\n+  sublist: SidebarEntry[]\n+  nested?: boolean\n+}\n+\n+const { sublist, nested } = Astro.props\n+\n+// Copied from https://github.com/withastro/starlight/blob/46524ac/packages/starlight/utils/navigation.ts#L447\n+function flattenSidebar(entries: SidebarEntry[]): SidebarEntry[] {\n+  return entries.reduce<SidebarEntry[]>((acc, entry) => {\n+    if (entry.type === 'group') acc.push(...flattenSidebar(entry.entries))\n+    else acc.push(entry)\n+    return acc\n+  }, [])\n+}\n+\n+function getIconPath(iconName: string | undefined): string | null {\n+  if (!iconName) return null;\n+  return `/docs/images/icons/${iconName}.svg`;\n+}\n+---\n+\n+<ul class:list={{'top-level': !nested}}>\n+  {\n+    sublist.map((entry) => {\n+      const icon = getIconPath(entry.attrs?.['data-icon']);\n+      return (\n+        <li class={icon ? 'p-0 border-none' : ''}>\n+          {entry.type === 'link' ? (\n+            <a\n+              href={entry.href}\n+              aria-current={entry.isCurrent && 'page'}\n+              class:list={[{large: !nested}, entry.attrs?.class]}\n+              {...entry.attrs}\n+            >\n+              {icon && (\n+                <img",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2341779568",
        "repo_full_name": "nrwl/nx",
        "pr_number": 32698,
        "pr_file": "astro-docs/src/components/layout/SidebarSublist.astro",
        "discussion_id": "2341779568",
        "commented_code": "@@ -0,0 +1,197 @@\n+---\n+/*\n+ * This is a modified version of the SidebarSublist component from Starlight with support for icons.\n+ * https://github.com/withastro/starlight/blob/46524ac/packages/starlight/components/SidebarSublist.astro -->\n+ */\n+import { Badge, Icon } from '@astrojs/starlight/components'\n+\n+export interface SidebarLink {\n+  type: 'link'\n+  label: string\n+  href: string\n+  isCurrent: boolean\n+  badge: any\n+  attrs: any\n+}\n+\n+export interface SidebarGroup {\n+  type: 'group'\n+  label: string\n+  entries: (SidebarLink | SidebarGroup)[]\n+  collapsed: boolean\n+  badge: any\n+  attrs?: any\n+}\n+\n+export type SidebarEntry = SidebarLink | SidebarGroup\n+\n+interface Props {\n+  sublist: SidebarEntry[]\n+  nested?: boolean\n+}\n+\n+const { sublist, nested } = Astro.props\n+\n+// Copied from https://github.com/withastro/starlight/blob/46524ac/packages/starlight/utils/navigation.ts#L447\n+function flattenSidebar(entries: SidebarEntry[]): SidebarEntry[] {\n+  return entries.reduce<SidebarEntry[]>((acc, entry) => {\n+    if (entry.type === 'group') acc.push(...flattenSidebar(entry.entries))\n+    else acc.push(entry)\n+    return acc\n+  }, [])\n+}\n+\n+function getIconPath(iconName: string | undefined): string | null {\n+  if (!iconName) return null;\n+  return `/docs/images/icons/${iconName}.svg`;\n+}\n+---\n+\n+<ul class:list={{'top-level': !nested}}>\n+  {\n+    sublist.map((entry) => {\n+      const icon = getIconPath(entry.attrs?.['data-icon']);\n+      return (\n+        <li class={icon ? 'p-0 border-none' : ''}>\n+          {entry.type === 'link' ? (\n+            <a\n+              href={entry.href}\n+              aria-current={entry.isCurrent && 'page'}\n+              class:list={[{large: !nested}, entry.attrs?.class]}\n+              {...entry.attrs}\n+            >\n+              {icon && (\n+                <img",
        "comment_created_at": "2025-09-11T16:55:20+00:00",
        "comment_author": "barbados-clemens",
        "comment_body": "we probs want `aria-hidden=\"true\"` on this since it's just decoration and shouldn't get picked up by screen readers. \r\n```suggestion\r\n                <img\r\n                aria-hidden=\"true\"\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2341781774",
    "pr_number": 32698,
    "pr_file": "astro-docs/src/components/layout/SidebarSublist.astro",
    "created_at": "2025-09-11T16:55:46+00:00",
    "commented_code": "+---\n+/*\n+ * This is a modified version of the SidebarSublist component from Starlight with support for icons.\n+ * https://github.com/withastro/starlight/blob/46524ac/packages/starlight/components/SidebarSublist.astro -->\n+ */\n+import { Badge, Icon } from '@astrojs/starlight/components'\n+\n+export interface SidebarLink {\n+  type: 'link'\n+  label: string\n+  href: string\n+  isCurrent: boolean\n+  badge: any\n+  attrs: any\n+}\n+\n+export interface SidebarGroup {\n+  type: 'group'\n+  label: string\n+  entries: (SidebarLink | SidebarGroup)[]\n+  collapsed: boolean\n+  badge: any\n+  attrs?: any\n+}\n+\n+export type SidebarEntry = SidebarLink | SidebarGroup\n+\n+interface Props {\n+  sublist: SidebarEntry[]\n+  nested?: boolean\n+}\n+\n+const { sublist, nested } = Astro.props\n+\n+// Copied from https://github.com/withastro/starlight/blob/46524ac/packages/starlight/utils/navigation.ts#L447\n+function flattenSidebar(entries: SidebarEntry[]): SidebarEntry[] {\n+  return entries.reduce<SidebarEntry[]>((acc, entry) => {\n+    if (entry.type === 'group') acc.push(...flattenSidebar(entry.entries))\n+    else acc.push(entry)\n+    return acc\n+  }, [])\n+}\n+\n+function getIconPath(iconName: string | undefined): string | null {\n+  if (!iconName) return null;\n+  return `/docs/images/icons/${iconName}.svg`;\n+}\n+---\n+\n+<ul class:list={{'top-level': !nested}}>\n+  {\n+    sublist.map((entry) => {\n+      const icon = getIconPath(entry.attrs?.['data-icon']);\n+      return (\n+        <li class={icon ? 'p-0 border-none' : ''}>\n+          {entry.type === 'link' ? (\n+            <a\n+              href={entry.href}\n+              aria-current={entry.isCurrent && 'page'}\n+              class:list={[{large: !nested}, entry.attrs?.class]}\n+              {...entry.attrs}\n+            >\n+              {icon && (\n+                <img\n+                  src={icon}\n+                  alt=\"\"\n+                  class=\"sidebar-icon w-4 h-4 dark:invert\"\n+                />\n+              )}\n+              <span>{entry.label}</span>\n+              {entry.badge &&\n+                <Badge variant={entry.badge.variant} class={entry.badge.class}\n+                       text={entry.badge.text}/>}\n+            </a>\n+          ) : (\n+            <details\n+              open={flattenSidebar(entry.entries).some((i: any) => i.isCurrent) || !entry.collapsed}>\n+              <summary class={icon ? 'pl-0 py-2' : ''}>\n+                <div class=\"group-label\">\n+                  {icon && (\n+                    <img src={icon} alt=\"\" class=\"sidebar-icon w-4 h-4 dark:invert\"/>",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2341781774",
        "repo_full_name": "nrwl/nx",
        "pr_number": 32698,
        "pr_file": "astro-docs/src/components/layout/SidebarSublist.astro",
        "discussion_id": "2341781774",
        "commented_code": "@@ -0,0 +1,197 @@\n+---\n+/*\n+ * This is a modified version of the SidebarSublist component from Starlight with support for icons.\n+ * https://github.com/withastro/starlight/blob/46524ac/packages/starlight/components/SidebarSublist.astro -->\n+ */\n+import { Badge, Icon } from '@astrojs/starlight/components'\n+\n+export interface SidebarLink {\n+  type: 'link'\n+  label: string\n+  href: string\n+  isCurrent: boolean\n+  badge: any\n+  attrs: any\n+}\n+\n+export interface SidebarGroup {\n+  type: 'group'\n+  label: string\n+  entries: (SidebarLink | SidebarGroup)[]\n+  collapsed: boolean\n+  badge: any\n+  attrs?: any\n+}\n+\n+export type SidebarEntry = SidebarLink | SidebarGroup\n+\n+interface Props {\n+  sublist: SidebarEntry[]\n+  nested?: boolean\n+}\n+\n+const { sublist, nested } = Astro.props\n+\n+// Copied from https://github.com/withastro/starlight/blob/46524ac/packages/starlight/utils/navigation.ts#L447\n+function flattenSidebar(entries: SidebarEntry[]): SidebarEntry[] {\n+  return entries.reduce<SidebarEntry[]>((acc, entry) => {\n+    if (entry.type === 'group') acc.push(...flattenSidebar(entry.entries))\n+    else acc.push(entry)\n+    return acc\n+  }, [])\n+}\n+\n+function getIconPath(iconName: string | undefined): string | null {\n+  if (!iconName) return null;\n+  return `/docs/images/icons/${iconName}.svg`;\n+}\n+---\n+\n+<ul class:list={{'top-level': !nested}}>\n+  {\n+    sublist.map((entry) => {\n+      const icon = getIconPath(entry.attrs?.['data-icon']);\n+      return (\n+        <li class={icon ? 'p-0 border-none' : ''}>\n+          {entry.type === 'link' ? (\n+            <a\n+              href={entry.href}\n+              aria-current={entry.isCurrent && 'page'}\n+              class:list={[{large: !nested}, entry.attrs?.class]}\n+              {...entry.attrs}\n+            >\n+              {icon && (\n+                <img\n+                  src={icon}\n+                  alt=\"\"\n+                  class=\"sidebar-icon w-4 h-4 dark:invert\"\n+                />\n+              )}\n+              <span>{entry.label}</span>\n+              {entry.badge &&\n+                <Badge variant={entry.badge.variant} class={entry.badge.class}\n+                       text={entry.badge.text}/>}\n+            </a>\n+          ) : (\n+            <details\n+              open={flattenSidebar(entry.entries).some((i: any) => i.isCurrent) || !entry.collapsed}>\n+              <summary class={icon ? 'pl-0 py-2' : ''}>\n+                <div class=\"group-label\">\n+                  {icon && (\n+                    <img src={icon} alt=\"\" class=\"sidebar-icon w-4 h-4 dark:invert\"/>",
        "comment_created_at": "2025-09-11T16:55:46+00:00",
        "comment_author": "barbados-clemens",
        "comment_body": "same above\r\n```suggestion\r\n                    <img src={icon} alt=\"\" aria-hidden=\"true\" class=\"sidebar-icon w-4 h-4 dark:invert\"/>\r\n```",
        "pr_file_module": null
      }
    ]
  }
]