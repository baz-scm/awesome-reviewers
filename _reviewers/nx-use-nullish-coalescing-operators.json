[
  {
    "discussion_id": "2451042889",
    "pr_number": 33178,
    "pr_file": "packages/nx/src/command-line/release/version/release-group-processor.ts",
    "created_at": "2025-10-22T09:00:05+00:00",
    "commented_code": "}\n     for (const [project, finalConfigForProject] of dockerProjects.entries()) {\n       const projectNode = this.projectGraph.nodes[project];\n+      const projectVersionData = this.versionData.get(project);\n       const { newVersion, logs } = await handleDockerVersion(\n         workspaceRoot,\n         projectNode,\n         finalConfigForProject,\n         dockerVersionScheme,\n-        dockerVersion\n+        dockerVersion,\n+        projectVersionData",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2451042889",
        "repo_full_name": "nrwl/nx",
        "pr_number": 33178,
        "pr_file": "packages/nx/src/command-line/release/version/release-group-processor.ts",
        "discussion_id": "2451042889",
        "commented_code": "@@ -294,19 +295,21 @@ export class ReleaseGroupProcessor {\n     }\n     for (const [project, finalConfigForProject] of dockerProjects.entries()) {\n       const projectNode = this.projectGraph.nodes[project];\n+      const projectVersionData = this.versionData.get(project);\n       const { newVersion, logs } = await handleDockerVersion(\n         workspaceRoot,\n         projectNode,\n         finalConfigForProject,\n         dockerVersionScheme,\n-        dockerVersion\n+        dockerVersion,\n+        projectVersionData",
        "comment_created_at": "2025-10-22T09:00:05+00:00",
        "comment_author": "Coly010",
        "comment_body": "```suggestion\r\n        projectVersionData?.newVersion\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2447720350",
    "pr_number": 33151,
    "pr_file": "packages/nx/src/command-line/release/version/release-group-processor.ts",
    "created_at": "2025-10-21T11:08:32+00:00",
    "commented_code": "finalPrefix = cachedFinalConfigForProject.versionPrefix;\n           }\n \n+          let newVersion: string;\n+          if (targetVersionData.newVersion === null) {\n+            newVersion =\n+              this.releaseGraph.cachedCurrentVersions.get(dep.target) ||\n+              currentDependencyVersion;\n+          } else {\n+            newVersion =\n+              targetVersionData.newVersion || currentDependencyVersion;\n+          }\n+",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2447720350",
        "repo_full_name": "nrwl/nx",
        "pr_number": 33151,
        "pr_file": "packages/nx/src/command-line/release/version/release-group-processor.ts",
        "discussion_id": "2447720350",
        "commented_code": "@@ -790,11 +788,18 @@ export class ReleaseGroupProcessor {\n             finalPrefix = cachedFinalConfigForProject.versionPrefix;\n           }\n \n+          let newVersion: string;\n+          if (targetVersionData.newVersion === null) {\n+            newVersion =\n+              this.releaseGraph.cachedCurrentVersions.get(dep.target) ||\n+              currentDependencyVersion;\n+          } else {\n+            newVersion =\n+              targetVersionData.newVersion || currentDependencyVersion;\n+          }\n+",
        "comment_created_at": "2025-10-21T11:08:32+00:00",
        "comment_author": "JamesHenry",
        "comment_body": "I think we can simplify this:\n\n```\nconst newVersion = \n  targetVersionData.newVersion ?? \n  this.releaseGraph.cachedCurrentVersions.get(dep.target) ?? \n  currentDependencyVersion;\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "2447724757",
        "repo_full_name": "nrwl/nx",
        "pr_number": 33151,
        "pr_file": "packages/nx/src/command-line/release/version/release-group-processor.ts",
        "discussion_id": "2447720350",
        "commented_code": "@@ -790,11 +788,18 @@ export class ReleaseGroupProcessor {\n             finalPrefix = cachedFinalConfigForProject.versionPrefix;\n           }\n \n+          let newVersion: string;\n+          if (targetVersionData.newVersion === null) {\n+            newVersion =\n+              this.releaseGraph.cachedCurrentVersions.get(dep.target) ||\n+              currentDependencyVersion;\n+          } else {\n+            newVersion =\n+              targetVersionData.newVersion || currentDependencyVersion;\n+          }\n+",
        "comment_created_at": "2025-10-21T11:09:47+00:00",
        "comment_author": "Coly010",
        "comment_body": "yes we can",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2261227152",
    "pr_number": 32256,
    "pr_file": "packages/nx/src/command-line/release/config/config.ts",
    "created_at": "2025-08-07T19:27:41+00:00",
    "commented_code": "}\n   }\n   if (userConfig.version?.conventionalCommits === false) {\n-    delete rootVersionWithoutGlobalOptions.generatorOptions\n+    delete rootVersionWithoutGlobalOptions.generatorOptions?",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2261233846",
        "repo_full_name": "nrwl/nx",
        "pr_number": 32256,
        "pr_file": "packages/nx/src/command-line/release/config/config.ts",
        "discussion_id": "2261227152",
        "commented_code": "@@ -603,9 +603,9 @@ export async function createNxReleaseConfig(\n     }\n   }\n   if (userConfig.version?.conventionalCommits === false) {\n-    delete rootVersionWithoutGlobalOptions.generatorOptions\n+    delete rootVersionWithoutGlobalOptions.generatorOptions?",
        "comment_created_at": "2025-08-07T19:27:41+00:00",
        "comment_author": "A-EbrahimRSA",
        "comment_body": "I'm not sure how true this is, I did a rudimentary test just in my browser console and that seemed fine, additionally the below code which is already in master would seem to suggest this behaviour is fine and maybe approved\r\n\r\nhttps://github.com/nrwl/nx/blob/cd81e711afe6c053d8919aad398272dece4b8b35/packages/nx/src/command-line/release/config/config.ts#L856-L860",
        "pr_file_module": null
      },
      {
        "comment_id": "2262451696",
        "repo_full_name": "nrwl/nx",
        "pr_number": 32256,
        "pr_file": "packages/nx/src/command-line/release/config/config.ts",
        "discussion_id": "2261227152",
        "commented_code": "@@ -603,9 +603,9 @@ export async function createNxReleaseConfig(\n     }\n   }\n   if (userConfig.version?.conventionalCommits === false) {\n-    delete rootVersionWithoutGlobalOptions.generatorOptions\n+    delete rootVersionWithoutGlobalOptions.generatorOptions?",
        "comment_created_at": "2025-08-08T09:35:40+00:00",
        "comment_author": "JamesHenry",
        "comment_body": "@A-EbrahimRSA The difference is the `?.` have to stick together, you can't have `?` on one line and `.` on another",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2212984325",
    "pr_number": 31756,
    "pr_file": "packages/nx/src/command-line/release/changelog.ts",
    "created_at": "2025-07-17T10:36:03+00:00",
    "commented_code": "throw new Error(`Invalid semver bump type: ${bump}`);\n   }\n }\n+\n+function extractPreId(version: string): string | undefined {\n+  if (!isPrerelease(version)) {\n+    return undefined;\n+  }\n+\n+  const preId = prerelease(version)[0];\n+  if (typeof preId === 'string') {\n+    return preId;\n+  }\n+  if (typeof preId === 'number') {\n+    return preId.toString();\n+  }\n+  return undefined;",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2212984325",
        "repo_full_name": "nrwl/nx",
        "pr_number": 31756,
        "pr_file": "packages/nx/src/command-line/release/changelog.ts",
        "discussion_id": "2212984325",
        "commented_code": "@@ -1446,3 +1487,18 @@ function versionPlanSemverReleaseTypeToChangelogType(bump: ReleaseType): {\n       throw new Error(`Invalid semver bump type: ${bump}`);\n   }\n }\n+\n+function extractPreId(version: string): string | undefined {\n+  if (!isPrerelease(version)) {\n+    return undefined;\n+  }\n+\n+  const preId = prerelease(version)[0];\n+  if (typeof preId === 'string') {\n+    return preId;\n+  }\n+  if (typeof preId === 'number') {\n+    return preId.toString();\n+  }\n+  return undefined;",
        "comment_created_at": "2025-07-17T10:36:03+00:00",
        "comment_author": "JamesHenry",
        "comment_body": "Can we protect against `prerelease(version)` not being defined or being null here (it shouldn't happen based on isPrerelease but better to not blow up if there was a logic mismatch.\r\n\r\nWe should probably also convert an empty string to `undefined` explicitly?",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2073345903",
    "pr_number": 31011,
    "pr_file": "packages/nx/src/command-line/yargs-utils/shared-options.ts",
    "created_at": "2025-05-05T12:26:27+00:00",
    "commented_code": "}\n   throw new Error(`Invalid value for --tui-auto-exit: ${value}`);\n };\n+\n+function concurrency(str: string) {\n+  let parallel = parseInt(str);",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2073345903",
        "repo_full_name": "nrwl/nx",
        "pr_number": 31011,
        "pr_file": "packages/nx/src/command-line/yargs-utils/shared-options.ts",
        "discussion_id": "2073345903",
        "commented_code": "@@ -407,3 +408,15 @@ const coerceTuiAutoExit = (value: string) => {\n   }\n   throw new Error(`Invalid value for --tui-auto-exit: ${value}`);\n };\n+\n+function concurrency(str: string) {\n+  let parallel = parseInt(str);",
        "comment_created_at": "2025-05-05T12:26:27+00:00",
        "comment_author": "jaysoo",
        "comment_body": "`args['parallel']` and `args['maxParallel']` can come in as a number. We need to check if it's a number of string first.",
        "pr_file_module": null
      }
    ]
  }
]