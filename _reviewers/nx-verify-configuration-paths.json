[
  {
    "discussion_id": "2244962944",
    "pr_number": 32130,
    "pr_file": "docs/shared/recipes/nx-release/publish-in-ci-cd.md",
    "created_at": "2025-07-31T10:17:34+00:00",
    "commented_code": "NPM_CONFIG_PROVENANCE: true\n ```\n \n-[(See full workflow above)](#publish-in-github-actions)\n+## Publishing Docker Images (Experimental)\n+\n+{% callout type=\"warning\" title=\"Experimental Feature\" %}\n+Docker support in Nx is currently experimental and may undergo breaking changes without following semantic versioning.\n+{% /callout %}\n+\n+{% callout type=\"info\" title=\"Nx Cloud Agents Compatibility\" %}\n+Docker operations in `nx release` are currently supported in standard CI/CD environments like GitHub Actions, GitLab CI, and Jenkins.\n+\n+For Nx Cloud Agents compatibility, please contact [Nx Enterprise support](/contact/sales) to explore available options for your team.\n+{% /callout %}\n+\n+When using Nx Release with Docker images, the publishing process differs from npm packages. Docker images are built and tagged during the versioning phase, then pushed to a registry during the publish phase.\n+\n+### Docker Registry Authentication\n+\n+Before publishing Docker images, ensure you're authenticated with your Docker registry:\n+\n+```yaml {% fileName=\".github/workflows/publish.yml\" %}\n+- name: Login to Docker Hub\n+  uses: docker/login-action@v2\n+  with:\n+    username: ${{ secrets.DOCKER_USERNAME }}\n+    password: ${{ secrets.DOCKER_TOKEN }}\n+\n+- name: Build and tag Docker images\n+  run: npx nx release version --dockerVersionScheme=production\n+\n+- name: Publish Docker images\n+  run: npx nx release publish\n+```\n+\n+### Using Different Registries\n+\n+Configure alternative registries in your `nx.json`:\n+\n+```jsonc {% fileName=\"nx.json\" %}\n+{\n+  \"release\": {\n+    \"docker\": {\n+      \"registryUrl\": \"ghcr.io\", // GitHub Container Registry\n+      \"repositoryName\": \"myorg\"",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2244962944",
        "repo_full_name": "nrwl/nx",
        "pr_number": 32130,
        "pr_file": "docs/shared/recipes/nx-release/publish-in-ci-cd.md",
        "discussion_id": "2244962944",
        "commented_code": "@@ -212,4 +226,114 @@ jobs:\n     NPM_CONFIG_PROVENANCE: true\n ```\n \n-[(See full workflow above)](#publish-in-github-actions)\n+## Publishing Docker Images (Experimental)\n+\n+{% callout type=\"warning\" title=\"Experimental Feature\" %}\n+Docker support in Nx is currently experimental and may undergo breaking changes without following semantic versioning.\n+{% /callout %}\n+\n+{% callout type=\"info\" title=\"Nx Cloud Agents Compatibility\" %}\n+Docker operations in `nx release` are currently supported in standard CI/CD environments like GitHub Actions, GitLab CI, and Jenkins.\n+\n+For Nx Cloud Agents compatibility, please contact [Nx Enterprise support](/contact/sales) to explore available options for your team.\n+{% /callout %}\n+\n+When using Nx Release with Docker images, the publishing process differs from npm packages. Docker images are built and tagged during the versioning phase, then pushed to a registry during the publish phase.\n+\n+### Docker Registry Authentication\n+\n+Before publishing Docker images, ensure you're authenticated with your Docker registry:\n+\n+```yaml {% fileName=\".github/workflows/publish.yml\" %}\n+- name: Login to Docker Hub\n+  uses: docker/login-action@v2\n+  with:\n+    username: ${{ secrets.DOCKER_USERNAME }}\n+    password: ${{ secrets.DOCKER_TOKEN }}\n+\n+- name: Build and tag Docker images\n+  run: npx nx release version --dockerVersionScheme=production\n+\n+- name: Publish Docker images\n+  run: npx nx release publish\n+```\n+\n+### Using Different Registries\n+\n+Configure alternative registries in your `nx.json`:\n+\n+```jsonc {% fileName=\"nx.json\" %}\n+{\n+  \"release\": {\n+    \"docker\": {\n+      \"registryUrl\": \"ghcr.io\", // GitHub Container Registry\n+      \"repositoryName\": \"myorg\"",
        "comment_created_at": "2025-07-31T10:17:34+00:00",
        "comment_author": "Coly010",
        "comment_body": "This should probably be set at the project level, because it needs to be `myorg/app-name`",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2244969916",
    "pr_number": 32130,
    "pr_file": "docs/shared/recipes/nx-release/release-docker-images.md",
    "created_at": "2025-07-31T10:21:12+00:00",
    "commented_code": "+---\n+title: Release Docker Images\n+description: Learn how to use Nx Release to version and publish Docker images from your monorepo with calendar-based versioning.\n+---\n+\n+# Release Docker Images\n+\n+{% callout type=\"warning\" title=\"Docker is Experimental\" %}\n+Docker support in Nx Release is currently experimental and only available in the `next`/beta version. It may undergo breaking changes without following semantic versioning.\n+{% /callout %}\n+\n+This guide walks you through setting up Nx Release to version and publish Docker images from your monorepo using calendar-based versioning.\n+\n+## Prerequisites\n+\n+Before starting, ensure you have:\n+\n+1. Docker installed and running locally\n+2. Run `docker login` to authenticate with your Docker registry (e.g., `docker login docker.io` for Docker Hub)\n+3. Make sure that you are on the `next`/beta version of Nx and Nx plugins (e.g. `npx create-nx-workspace@next` for new workspaces)\n+\n+## Install Nx Docker Plugin\n+\n+```shell\n+nx add @nx/docker@next\n+```\n+\n+This command adds the `@nx/docker` plugin to your `nx.json` so that projects with a `Dockerfile` is automatically configured with Docker targets (e.g. `docker:build` and `docker:run`).\n+\n+## (Optional) Create Basic Node.js Backend\n+\n+If you don't already have a backend application, create one using `@nx/node`:\n+\n+```shell\n+nx add @nx/node\n+nx g @nx/node:app apps/api --docker --framework=express\n+```\n+\n+This generates a Node.js application with a Dockerfile like the following:\n+\n+```dockerfile {% fileName=\"apps/api/Dockerfile\" %}\n+FROM docker.io/node:lts-alpine\n+\n+ENV HOST=0.0.0.0\n+ENV PORT=3000\n+\n+WORKDIR /app\n+\n+RUN addgroup --system api && \\\n+adduser --system -G api api\n+\n+COPY dist app/\n+COPY package.json app/\n+RUN chown -R api:api .\n+\n+# You can remove this install step if you build with `--bundle` option.\n+# The bundled output will include external dependencies.\n+RUN npm --prefix api --omit=dev -f install\n+\n+CMD [ \"node\", \"app\" ]\n+```\n+\n+You should be able to run the following commands to compile the application and create a Docker image:\n+\n+```shell\n+nx build api\n+nx docker:build api\n+```\n+\n+## Set Up a New Release Group\n+\n+Configure Docker applications in a separate release group called `apps` so it does not conflict with any existing release projects.\n+\n+```jsonc {% fileName=\"nx.json\" %}\n+{\n+  \"release\": {\n+    \"releaseTagPattern\": {\n+      \"pattern\": \"release/{projectName}/{version}\"\n+    },\n+    \"groups\": {\n+      \"apps\": {\n+        \"projects\": [\"api\"],\n+        \"projectsRelationship\": \"independent\",\n+        \"docker\": {\n+          // This should be true to skip versioning with other tools like NPM or Rust crates.\n+          \"skipVersionActions\": true,\n+          // You can also use a custom registry like `ghcr.io` for GitHub Container Registry.\n+          // `docker.io` is the default so you could leave this out for Docker Hub.\n+          \"registryUrl\": \"docker.io\",\n+          // The pre-version command is run before versioning, useful for verifying the Docker image.\n+          \"groupPreVersionCommand\": \"echo BEFORE VERSIONING\"\n+        },\n+        \"changelog\": {\n+          \"projectChangelogs\": true\n+        }\n+      }\n+    }\n+  }\n+}\n+```\n+\n+The `docker.skipVersionActions` option should be set to `true` to skip versioning for other tooling such as NPM or Rust crates.\n+\n+The `docker.projectsRelationship` is set to `independent` and `docker.changelog` is set to `projectChangelogs` so that each application maintains its own release cadence and changelog.",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2244969916",
        "repo_full_name": "nrwl/nx",
        "pr_number": 32130,
        "pr_file": "docs/shared/recipes/nx-release/release-docker-images.md",
        "discussion_id": "2244969916",
        "commented_code": "@@ -0,0 +1,203 @@\n+---\n+title: Release Docker Images\n+description: Learn how to use Nx Release to version and publish Docker images from your monorepo with calendar-based versioning.\n+---\n+\n+# Release Docker Images\n+\n+{% callout type=\"warning\" title=\"Docker is Experimental\" %}\n+Docker support in Nx Release is currently experimental and only available in the `next`/beta version. It may undergo breaking changes without following semantic versioning.\n+{% /callout %}\n+\n+This guide walks you through setting up Nx Release to version and publish Docker images from your monorepo using calendar-based versioning.\n+\n+## Prerequisites\n+\n+Before starting, ensure you have:\n+\n+1. Docker installed and running locally\n+2. Run `docker login` to authenticate with your Docker registry (e.g., `docker login docker.io` for Docker Hub)\n+3. Make sure that you are on the `next`/beta version of Nx and Nx plugins (e.g. `npx create-nx-workspace@next` for new workspaces)\n+\n+## Install Nx Docker Plugin\n+\n+```shell\n+nx add @nx/docker@next\n+```\n+\n+This command adds the `@nx/docker` plugin to your `nx.json` so that projects with a `Dockerfile` is automatically configured with Docker targets (e.g. `docker:build` and `docker:run`).\n+\n+## (Optional) Create Basic Node.js Backend\n+\n+If you don't already have a backend application, create one using `@nx/node`:\n+\n+```shell\n+nx add @nx/node\n+nx g @nx/node:app apps/api --docker --framework=express\n+```\n+\n+This generates a Node.js application with a Dockerfile like the following:\n+\n+```dockerfile {% fileName=\"apps/api/Dockerfile\" %}\n+FROM docker.io/node:lts-alpine\n+\n+ENV HOST=0.0.0.0\n+ENV PORT=3000\n+\n+WORKDIR /app\n+\n+RUN addgroup --system api && \\\n+adduser --system -G api api\n+\n+COPY dist app/\n+COPY package.json app/\n+RUN chown -R api:api .\n+\n+# You can remove this install step if you build with `--bundle` option.\n+# The bundled output will include external dependencies.\n+RUN npm --prefix api --omit=dev -f install\n+\n+CMD [ \"node\", \"app\" ]\n+```\n+\n+You should be able to run the following commands to compile the application and create a Docker image:\n+\n+```shell\n+nx build api\n+nx docker:build api\n+```\n+\n+## Set Up a New Release Group\n+\n+Configure Docker applications in a separate release group called `apps` so it does not conflict with any existing release projects.\n+\n+```jsonc {% fileName=\"nx.json\" %}\n+{\n+  \"release\": {\n+    \"releaseTagPattern\": {\n+      \"pattern\": \"release/{projectName}/{version}\"\n+    },\n+    \"groups\": {\n+      \"apps\": {\n+        \"projects\": [\"api\"],\n+        \"projectsRelationship\": \"independent\",\n+        \"docker\": {\n+          // This should be true to skip versioning with other tools like NPM or Rust crates.\n+          \"skipVersionActions\": true,\n+          // You can also use a custom registry like `ghcr.io` for GitHub Container Registry.\n+          // `docker.io` is the default so you could leave this out for Docker Hub.\n+          \"registryUrl\": \"docker.io\",\n+          // The pre-version command is run before versioning, useful for verifying the Docker image.\n+          \"groupPreVersionCommand\": \"echo BEFORE VERSIONING\"\n+        },\n+        \"changelog\": {\n+          \"projectChangelogs\": true\n+        }\n+      }\n+    }\n+  }\n+}\n+```\n+\n+The `docker.skipVersionActions` option should be set to `true` to skip versioning for other tooling such as NPM or Rust crates.\n+\n+The `docker.projectsRelationship` is set to `independent` and `docker.changelog` is set to `projectChangelogs` so that each application maintains its own release cadence and changelog.",
        "comment_created_at": "2025-07-31T10:21:12+00:00",
        "comment_author": "Coly010",
        "comment_body": "```suggestion\r\nThe `docker.projectsRelationship` is set to `independent` and `release.groups.[groupName].changelog` is set to `projectChangelogs` so that each application maintains its own release cadence and changelog.\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2244971407",
    "pr_number": 32130,
    "pr_file": "docs/shared/recipes/nx-release/release-docker-images.md",
    "created_at": "2025-07-31T10:21:55+00:00",
    "commented_code": "+---\n+title: Release Docker Images\n+description: Learn how to use Nx Release to version and publish Docker images from your monorepo with calendar-based versioning.\n+---\n+\n+# Release Docker Images\n+\n+{% callout type=\"warning\" title=\"Docker is Experimental\" %}\n+Docker support in Nx Release is currently experimental and only available in the `next`/beta version. It may undergo breaking changes without following semantic versioning.\n+{% /callout %}\n+\n+This guide walks you through setting up Nx Release to version and publish Docker images from your monorepo using calendar-based versioning.\n+\n+## Prerequisites\n+\n+Before starting, ensure you have:\n+\n+1. Docker installed and running locally\n+2. Run `docker login` to authenticate with your Docker registry (e.g., `docker login docker.io` for Docker Hub)\n+3. Make sure that you are on the `next`/beta version of Nx and Nx plugins (e.g. `npx create-nx-workspace@next` for new workspaces)\n+\n+## Install Nx Docker Plugin\n+\n+```shell\n+nx add @nx/docker@next\n+```\n+\n+This command adds the `@nx/docker` plugin to your `nx.json` so that projects with a `Dockerfile` is automatically configured with Docker targets (e.g. `docker:build` and `docker:run`).\n+\n+## (Optional) Create Basic Node.js Backend\n+\n+If you don't already have a backend application, create one using `@nx/node`:\n+\n+```shell\n+nx add @nx/node\n+nx g @nx/node:app apps/api --docker --framework=express\n+```\n+\n+This generates a Node.js application with a Dockerfile like the following:\n+\n+```dockerfile {% fileName=\"apps/api/Dockerfile\" %}\n+FROM docker.io/node:lts-alpine\n+\n+ENV HOST=0.0.0.0\n+ENV PORT=3000\n+\n+WORKDIR /app\n+\n+RUN addgroup --system api && \\\n+adduser --system -G api api\n+\n+COPY dist app/\n+COPY package.json app/\n+RUN chown -R api:api .\n+\n+# You can remove this install step if you build with `--bundle` option.\n+# The bundled output will include external dependencies.\n+RUN npm --prefix api --omit=dev -f install\n+\n+CMD [ \"node\", \"app\" ]\n+```\n+\n+You should be able to run the following commands to compile the application and create a Docker image:\n+\n+```shell\n+nx build api\n+nx docker:build api\n+```\n+\n+## Set Up a New Release Group\n+\n+Configure Docker applications in a separate release group called `apps` so it does not conflict with any existing release projects.\n+\n+```jsonc {% fileName=\"nx.json\" %}\n+{\n+  \"release\": {\n+    \"releaseTagPattern\": {\n+      \"pattern\": \"release/{projectName}/{version}\"\n+    },\n+    \"groups\": {\n+      \"apps\": {\n+        \"projects\": [\"api\"],\n+        \"projectsRelationship\": \"independent\",\n+        \"docker\": {\n+          // This should be true to skip versioning with other tools like NPM or Rust crates.\n+          \"skipVersionActions\": true,\n+          // You can also use a custom registry like `ghcr.io` for GitHub Container Registry.\n+          // `docker.io` is the default so you could leave this out for Docker Hub.\n+          \"registryUrl\": \"docker.io\",\n+          // The pre-version command is run before versioning, useful for verifying the Docker image.\n+          \"groupPreVersionCommand\": \"echo BEFORE VERSIONING\"\n+        },\n+        \"changelog\": {\n+          \"projectChangelogs\": true\n+        }\n+      }\n+    }\n+  }\n+}\n+```\n+\n+The `docker.skipVersionActions` option should be set to `true` to skip versioning for other tooling such as NPM or Rust crates.\n+\n+The `docker.projectsRelationship` is set to `independent` and `docker.changelog` is set to `projectChangelogs` so that each application maintains its own release cadence and changelog.\n+\n+The `docker.groupPreVersionCommand` is an optional command that runs before the versioning step, allowing you to perform any pre-version checks such as image verification before continuing the release.\n+\n+## Set Up App Repository\n+\n+Docker images have to be pushed to a repository, and this must be set on each application you want to release. This must be set as `release.repositoryName` in the project's `project.json `or `package.json` file.",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2244971407",
        "repo_full_name": "nrwl/nx",
        "pr_number": 32130,
        "pr_file": "docs/shared/recipes/nx-release/release-docker-images.md",
        "discussion_id": "2244971407",
        "commented_code": "@@ -0,0 +1,203 @@\n+---\n+title: Release Docker Images\n+description: Learn how to use Nx Release to version and publish Docker images from your monorepo with calendar-based versioning.\n+---\n+\n+# Release Docker Images\n+\n+{% callout type=\"warning\" title=\"Docker is Experimental\" %}\n+Docker support in Nx Release is currently experimental and only available in the `next`/beta version. It may undergo breaking changes without following semantic versioning.\n+{% /callout %}\n+\n+This guide walks you through setting up Nx Release to version and publish Docker images from your monorepo using calendar-based versioning.\n+\n+## Prerequisites\n+\n+Before starting, ensure you have:\n+\n+1. Docker installed and running locally\n+2. Run `docker login` to authenticate with your Docker registry (e.g., `docker login docker.io` for Docker Hub)\n+3. Make sure that you are on the `next`/beta version of Nx and Nx plugins (e.g. `npx create-nx-workspace@next` for new workspaces)\n+\n+## Install Nx Docker Plugin\n+\n+```shell\n+nx add @nx/docker@next\n+```\n+\n+This command adds the `@nx/docker` plugin to your `nx.json` so that projects with a `Dockerfile` is automatically configured with Docker targets (e.g. `docker:build` and `docker:run`).\n+\n+## (Optional) Create Basic Node.js Backend\n+\n+If you don't already have a backend application, create one using `@nx/node`:\n+\n+```shell\n+nx add @nx/node\n+nx g @nx/node:app apps/api --docker --framework=express\n+```\n+\n+This generates a Node.js application with a Dockerfile like the following:\n+\n+```dockerfile {% fileName=\"apps/api/Dockerfile\" %}\n+FROM docker.io/node:lts-alpine\n+\n+ENV HOST=0.0.0.0\n+ENV PORT=3000\n+\n+WORKDIR /app\n+\n+RUN addgroup --system api && \\\n+adduser --system -G api api\n+\n+COPY dist app/\n+COPY package.json app/\n+RUN chown -R api:api .\n+\n+# You can remove this install step if you build with `--bundle` option.\n+# The bundled output will include external dependencies.\n+RUN npm --prefix api --omit=dev -f install\n+\n+CMD [ \"node\", \"app\" ]\n+```\n+\n+You should be able to run the following commands to compile the application and create a Docker image:\n+\n+```shell\n+nx build api\n+nx docker:build api\n+```\n+\n+## Set Up a New Release Group\n+\n+Configure Docker applications in a separate release group called `apps` so it does not conflict with any existing release projects.\n+\n+```jsonc {% fileName=\"nx.json\" %}\n+{\n+  \"release\": {\n+    \"releaseTagPattern\": {\n+      \"pattern\": \"release/{projectName}/{version}\"\n+    },\n+    \"groups\": {\n+      \"apps\": {\n+        \"projects\": [\"api\"],\n+        \"projectsRelationship\": \"independent\",\n+        \"docker\": {\n+          // This should be true to skip versioning with other tools like NPM or Rust crates.\n+          \"skipVersionActions\": true,\n+          // You can also use a custom registry like `ghcr.io` for GitHub Container Registry.\n+          // `docker.io` is the default so you could leave this out for Docker Hub.\n+          \"registryUrl\": \"docker.io\",\n+          // The pre-version command is run before versioning, useful for verifying the Docker image.\n+          \"groupPreVersionCommand\": \"echo BEFORE VERSIONING\"\n+        },\n+        \"changelog\": {\n+          \"projectChangelogs\": true\n+        }\n+      }\n+    }\n+  }\n+}\n+```\n+\n+The `docker.skipVersionActions` option should be set to `true` to skip versioning for other tooling such as NPM or Rust crates.\n+\n+The `docker.projectsRelationship` is set to `independent` and `docker.changelog` is set to `projectChangelogs` so that each application maintains its own release cadence and changelog.\n+\n+The `docker.groupPreVersionCommand` is an optional command that runs before the versioning step, allowing you to perform any pre-version checks such as image verification before continuing the release.\n+\n+## Set Up App Repository\n+\n+Docker images have to be pushed to a repository, and this must be set on each application you want to release. This must be set as `release.repositoryName` in the project's `project.json `or `package.json` file.",
        "comment_created_at": "2025-07-31T10:21:55+00:00",
        "comment_author": "Coly010",
        "comment_body": "```suggestion\r\nDocker images have to be pushed to a repository, and this must be set on each application you want to release. This must be set as `release.docker.repositoryName` in the project's `project.json `or `package.json` file.\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2244972865",
    "pr_number": 32130,
    "pr_file": "docs/shared/recipes/nx-release/release-docker-images.md",
    "created_at": "2025-07-31T10:22:37+00:00",
    "commented_code": "+---\n+title: Release Docker Images\n+description: Learn how to use Nx Release to version and publish Docker images from your monorepo with calendar-based versioning.\n+---\n+\n+# Release Docker Images\n+\n+{% callout type=\"warning\" title=\"Docker is Experimental\" %}\n+Docker support in Nx Release is currently experimental and only available in the `next`/beta version. It may undergo breaking changes without following semantic versioning.\n+{% /callout %}\n+\n+This guide walks you through setting up Nx Release to version and publish Docker images from your monorepo using calendar-based versioning.\n+\n+## Prerequisites\n+\n+Before starting, ensure you have:\n+\n+1. Docker installed and running locally\n+2. Run `docker login` to authenticate with your Docker registry (e.g., `docker login docker.io` for Docker Hub)\n+3. Make sure that you are on the `next`/beta version of Nx and Nx plugins (e.g. `npx create-nx-workspace@next` for new workspaces)\n+\n+## Install Nx Docker Plugin\n+\n+```shell\n+nx add @nx/docker@next\n+```\n+\n+This command adds the `@nx/docker` plugin to your `nx.json` so that projects with a `Dockerfile` is automatically configured with Docker targets (e.g. `docker:build` and `docker:run`).\n+\n+## (Optional) Create Basic Node.js Backend\n+\n+If you don't already have a backend application, create one using `@nx/node`:\n+\n+```shell\n+nx add @nx/node\n+nx g @nx/node:app apps/api --docker --framework=express\n+```\n+\n+This generates a Node.js application with a Dockerfile like the following:\n+\n+```dockerfile {% fileName=\"apps/api/Dockerfile\" %}\n+FROM docker.io/node:lts-alpine\n+\n+ENV HOST=0.0.0.0\n+ENV PORT=3000\n+\n+WORKDIR /app\n+\n+RUN addgroup --system api && \\\n+adduser --system -G api api\n+\n+COPY dist app/\n+COPY package.json app/\n+RUN chown -R api:api .\n+\n+# You can remove this install step if you build with `--bundle` option.\n+# The bundled output will include external dependencies.\n+RUN npm --prefix api --omit=dev -f install\n+\n+CMD [ \"node\", \"app\" ]\n+```\n+\n+You should be able to run the following commands to compile the application and create a Docker image:\n+\n+```shell\n+nx build api\n+nx docker:build api\n+```\n+\n+## Set Up a New Release Group\n+\n+Configure Docker applications in a separate release group called `apps` so it does not conflict with any existing release projects.\n+\n+```jsonc {% fileName=\"nx.json\" %}\n+{\n+  \"release\": {\n+    \"releaseTagPattern\": {\n+      \"pattern\": \"release/{projectName}/{version}\"\n+    },\n+    \"groups\": {\n+      \"apps\": {\n+        \"projects\": [\"api\"],\n+        \"projectsRelationship\": \"independent\",\n+        \"docker\": {\n+          // This should be true to skip versioning with other tools like NPM or Rust crates.\n+          \"skipVersionActions\": true,\n+          // You can also use a custom registry like `ghcr.io` for GitHub Container Registry.\n+          // `docker.io` is the default so you could leave this out for Docker Hub.\n+          \"registryUrl\": \"docker.io\",\n+          // The pre-version command is run before versioning, useful for verifying the Docker image.\n+          \"groupPreVersionCommand\": \"echo BEFORE VERSIONING\"\n+        },\n+        \"changelog\": {\n+          \"projectChangelogs\": true\n+        }\n+      }\n+    }\n+  }\n+}\n+```\n+\n+The `docker.skipVersionActions` option should be set to `true` to skip versioning for other tooling such as NPM or Rust crates.\n+\n+The `docker.projectsRelationship` is set to `independent` and `docker.changelog` is set to `projectChangelogs` so that each application maintains its own release cadence and changelog.\n+\n+The `docker.groupPreVersionCommand` is an optional command that runs before the versioning step, allowing you to perform any pre-version checks such as image verification before continuing the release.\n+\n+## Set Up App Repository\n+\n+Docker images have to be pushed to a repository, and this must be set on each application you want to release. This must be set as `release.repositoryName` in the project's `project.json `or `package.json` file.\n+\n+For example, from the previous `apps/api` Node.js application, you can set the `nx.release.repositoryName` in `package.json`.",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2244972865",
        "repo_full_name": "nrwl/nx",
        "pr_number": 32130,
        "pr_file": "docs/shared/recipes/nx-release/release-docker-images.md",
        "discussion_id": "2244972865",
        "commented_code": "@@ -0,0 +1,203 @@\n+---\n+title: Release Docker Images\n+description: Learn how to use Nx Release to version and publish Docker images from your monorepo with calendar-based versioning.\n+---\n+\n+# Release Docker Images\n+\n+{% callout type=\"warning\" title=\"Docker is Experimental\" %}\n+Docker support in Nx Release is currently experimental and only available in the `next`/beta version. It may undergo breaking changes without following semantic versioning.\n+{% /callout %}\n+\n+This guide walks you through setting up Nx Release to version and publish Docker images from your monorepo using calendar-based versioning.\n+\n+## Prerequisites\n+\n+Before starting, ensure you have:\n+\n+1. Docker installed and running locally\n+2. Run `docker login` to authenticate with your Docker registry (e.g., `docker login docker.io` for Docker Hub)\n+3. Make sure that you are on the `next`/beta version of Nx and Nx plugins (e.g. `npx create-nx-workspace@next` for new workspaces)\n+\n+## Install Nx Docker Plugin\n+\n+```shell\n+nx add @nx/docker@next\n+```\n+\n+This command adds the `@nx/docker` plugin to your `nx.json` so that projects with a `Dockerfile` is automatically configured with Docker targets (e.g. `docker:build` and `docker:run`).\n+\n+## (Optional) Create Basic Node.js Backend\n+\n+If you don't already have a backend application, create one using `@nx/node`:\n+\n+```shell\n+nx add @nx/node\n+nx g @nx/node:app apps/api --docker --framework=express\n+```\n+\n+This generates a Node.js application with a Dockerfile like the following:\n+\n+```dockerfile {% fileName=\"apps/api/Dockerfile\" %}\n+FROM docker.io/node:lts-alpine\n+\n+ENV HOST=0.0.0.0\n+ENV PORT=3000\n+\n+WORKDIR /app\n+\n+RUN addgroup --system api && \\\n+adduser --system -G api api\n+\n+COPY dist app/\n+COPY package.json app/\n+RUN chown -R api:api .\n+\n+# You can remove this install step if you build with `--bundle` option.\n+# The bundled output will include external dependencies.\n+RUN npm --prefix api --omit=dev -f install\n+\n+CMD [ \"node\", \"app\" ]\n+```\n+\n+You should be able to run the following commands to compile the application and create a Docker image:\n+\n+```shell\n+nx build api\n+nx docker:build api\n+```\n+\n+## Set Up a New Release Group\n+\n+Configure Docker applications in a separate release group called `apps` so it does not conflict with any existing release projects.\n+\n+```jsonc {% fileName=\"nx.json\" %}\n+{\n+  \"release\": {\n+    \"releaseTagPattern\": {\n+      \"pattern\": \"release/{projectName}/{version}\"\n+    },\n+    \"groups\": {\n+      \"apps\": {\n+        \"projects\": [\"api\"],\n+        \"projectsRelationship\": \"independent\",\n+        \"docker\": {\n+          // This should be true to skip versioning with other tools like NPM or Rust crates.\n+          \"skipVersionActions\": true,\n+          // You can also use a custom registry like `ghcr.io` for GitHub Container Registry.\n+          // `docker.io` is the default so you could leave this out for Docker Hub.\n+          \"registryUrl\": \"docker.io\",\n+          // The pre-version command is run before versioning, useful for verifying the Docker image.\n+          \"groupPreVersionCommand\": \"echo BEFORE VERSIONING\"\n+        },\n+        \"changelog\": {\n+          \"projectChangelogs\": true\n+        }\n+      }\n+    }\n+  }\n+}\n+```\n+\n+The `docker.skipVersionActions` option should be set to `true` to skip versioning for other tooling such as NPM or Rust crates.\n+\n+The `docker.projectsRelationship` is set to `independent` and `docker.changelog` is set to `projectChangelogs` so that each application maintains its own release cadence and changelog.\n+\n+The `docker.groupPreVersionCommand` is an optional command that runs before the versioning step, allowing you to perform any pre-version checks such as image verification before continuing the release.\n+\n+## Set Up App Repository\n+\n+Docker images have to be pushed to a repository, and this must be set on each application you want to release. This must be set as `release.repositoryName` in the project's `project.json `or `package.json` file.\n+\n+For example, from the previous `apps/api` Node.js application, you can set the `nx.release.repositoryName` in `package.json`.",
        "comment_created_at": "2025-07-31T10:22:37+00:00",
        "comment_author": "Coly010",
        "comment_body": "```suggestion\r\nFor example, from the previous `apps/api` Node.js application, you can set the `nx.release.docker.repositoryName` in `package.json`.\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2145190422",
    "pr_number": 31576,
    "pr_file": "docs/shared/recipes/generators/create-sync-generator.md",
    "created_at": "2025-06-13T14:12:10+00:00",
    "commented_code": "### Register a Task Sync Generator\n \n-To register a generator as a sync generator for a particular task, add the generator to the `syncGenerators` property of the task configuration:\n+To register a generator as a sync generator for a particular task, add the generator to the `syncGenerators` property of the task configuration.\n+\n+{% callout type=\"info\" title=\"Important: Package.json Configuration\" %}\n+For projects using inferred targets (no project.json file), the sync generators must be registered inside the `nx` property in package.json, not at the root level.",
    "repo_full_name": "nrwl/nx",
    "discussion_comments": [
      {
        "comment_id": "2145190422",
        "repo_full_name": "nrwl/nx",
        "pr_number": 31576,
        "pr_file": "docs/shared/recipes/generators/create-sync-generator.md",
        "discussion_id": "2145190422",
        "commented_code": "@@ -96,16 +135,24 @@ export default mySyncGenerator;\n \n ### Register a Task Sync Generator\n \n-To register a generator as a sync generator for a particular task, add the generator to the `syncGenerators` property of the task configuration:\n+To register a generator as a sync generator for a particular task, add the generator to the `syncGenerators` property of the task configuration.\n+\n+{% callout type=\"info\" title=\"Important: Package.json Configuration\" %}\n+For projects using inferred targets (no project.json file), the sync generators must be registered inside the `nx` property in package.json, not at the root level.",
        "comment_created_at": "2025-06-13T14:12:10+00:00",
        "comment_author": "barbados-clemens",
        "comment_body": "```suggestion\r\nFor projects using [inferred targets](/concepts/inferred-tasks) (no project.json file), the sync generators must be registered inside the `nx` property in package.json, not at the root level.\r\n```",
        "pr_file_module": null
      }
    ]
  }
]