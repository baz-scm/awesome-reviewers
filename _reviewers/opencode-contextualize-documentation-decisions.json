[
  {
    "discussion_id": "2427305566",
    "pr_number": 3150,
    "pr_file": "packages/web/src/content/docs/providers.mdx",
    "created_at": "2025-10-13T20:48:59+00:00",
    "commented_code": "export AZURE_RESOURCE_NAME=XXX\n    ```\n \n-6. Run the `/models` command to select your deployed model.\n+6. Optional: set different Azure Url styles:\n+\n+  ```json title=\"opencode.json\" {6}\n+  {\n+    \"$schema\": \"https://opencode.ai/config.json\",\n+    \"provider\": {\n+      \"azure\": {\n+        \"options\": {\n+          \"useDeploymentBasedUrls\": \"true\",\n+          \"useCompletionUrls\": \"true\"\n+        }\n+      }\n+    }\n+  }\n+  ```\n+  \n+  - How this options will change the generated Azure url to be used in opencode\n+\n+  | useDeploymentBasedUrls | useCompletionUrls | Generated URL |\n+  |------------------------|-------------------|-------------------------------------------------------------------------------|\n+  | false                  | false             | %baseURL%/v1/responses?api-version=%apiVersion%                              |\n+  | true                   | false             | %baseURL%/deployments/%Model%/responses?api-version=%apiVersion%             |\n+  | false                  | true              | %baseURL%/v1/responses?api-version=%apiVersion%                              |\n+  | true                   | true              | %baseURL%/deployments/%Model%/chat/completions?api-version=%apiVersion%        |",
    "repo_full_name": "sst/opencode",
    "discussion_comments": [
      {
        "comment_id": "2427305566",
        "repo_full_name": "sst/opencode",
        "pr_number": 3150,
        "pr_file": "packages/web/src/content/docs/providers.mdx",
        "discussion_id": "2427305566",
        "commented_code": "@@ -224,7 +224,32 @@ Or if you already have an API key, you can select **Manually enter API Key** and\n    export AZURE_RESOURCE_NAME=XXX\n    ```\n \n-6. Run the `/models` command to select your deployed model.\n+6. Optional: set different Azure Url styles:\n+\n+  ```json title=\"opencode.json\" {6}\n+  {\n+    \"$schema\": \"https://opencode.ai/config.json\",\n+    \"provider\": {\n+      \"azure\": {\n+        \"options\": {\n+          \"useDeploymentBasedUrls\": \"true\",\n+          \"useCompletionUrls\": \"true\"\n+        }\n+      }\n+    }\n+  }\n+  ```\n+  \n+  - How this options will change the generated Azure url to be used in opencode\n+\n+  | useDeploymentBasedUrls | useCompletionUrls | Generated URL |\n+  |------------------------|-------------------|-------------------------------------------------------------------------------|\n+  | false                  | false             | %baseURL%/v1/responses?api-version=%apiVersion%                              |\n+  | true                   | false             | %baseURL%/deployments/%Model%/responses?api-version=%apiVersion%             |\n+  | false                  | true              | %baseURL%/v1/responses?api-version=%apiVersion%                              |\n+  | true                   | true              | %baseURL%/deployments/%Model%/chat/completions?api-version=%apiVersion%        |",
        "comment_created_at": "2025-10-13T20:48:59+00:00",
        "comment_author": "rekram1-node",
        "comment_body": "@enlilz \r\n\r\nI think jay may have some opinions on the docs, but do you think we could tweak this a tad? \r\n\r\nCorrect me if you disagree:\r\nI was thinking instead of just showing resolved url I wonder if it'd be good to add a note about what kinda deployment requires the need for this config setting?\r\n\r\nSo like:\r\n\r\nif you have X deployment, you will need to set Y so opencode can hit correct endpoint ",
        "pr_file_module": null
      },
      {
        "comment_id": "2433343703",
        "repo_full_name": "sst/opencode",
        "pr_number": 3150,
        "pr_file": "packages/web/src/content/docs/providers.mdx",
        "discussion_id": "2427305566",
        "commented_code": "@@ -224,7 +224,32 @@ Or if you already have an API key, you can select **Manually enter API Key** and\n    export AZURE_RESOURCE_NAME=XXX\n    ```\n \n-6. Run the `/models` command to select your deployed model.\n+6. Optional: set different Azure Url styles:\n+\n+  ```json title=\"opencode.json\" {6}\n+  {\n+    \"$schema\": \"https://opencode.ai/config.json\",\n+    \"provider\": {\n+      \"azure\": {\n+        \"options\": {\n+          \"useDeploymentBasedUrls\": \"true\",\n+          \"useCompletionUrls\": \"true\"\n+        }\n+      }\n+    }\n+  }\n+  ```\n+  \n+  - How this options will change the generated Azure url to be used in opencode\n+\n+  | useDeploymentBasedUrls | useCompletionUrls | Generated URL |\n+  |------------------------|-------------------|-------------------------------------------------------------------------------|\n+  | false                  | false             | %baseURL%/v1/responses?api-version=%apiVersion%                              |\n+  | true                   | false             | %baseURL%/deployments/%Model%/responses?api-version=%apiVersion%             |\n+  | false                  | true              | %baseURL%/v1/responses?api-version=%apiVersion%                              |\n+  | true                   | true              | %baseURL%/deployments/%Model%/chat/completions?api-version=%apiVersion%        |",
        "comment_created_at": "2025-10-15T16:57:37+00:00",
        "comment_author": "enlilz",
        "comment_body": "@rekram1-node  i did some testing, it seems the provided url is somewhat tied to the selected model. for example:\r\ngpt-5-chat => deployment | completion => https://xxxx/deployments/gpt-5-chat/chat/completions?api-version=xxx\r\ngpt-5-mini => none?  | responses => https://xxxx/responses?api-version=xxx\r\nDeepSeek-R1 => none? | completion => https://xxx/models/chat/completions?api-version=xxx\r\n\r\nsince you can not influence the url azure provides you i think it is best to have it in the format i proposed, or at least i don't see another good way to give the most useful information. with this table you can at least check the azure provided url and see what setting might work for your case\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2433355313",
        "repo_full_name": "sst/opencode",
        "pr_number": 3150,
        "pr_file": "packages/web/src/content/docs/providers.mdx",
        "discussion_id": "2427305566",
        "commented_code": "@@ -224,7 +224,32 @@ Or if you already have an API key, you can select **Manually enter API Key** and\n    export AZURE_RESOURCE_NAME=XXX\n    ```\n \n-6. Run the `/models` command to select your deployed model.\n+6. Optional: set different Azure Url styles:\n+\n+  ```json title=\"opencode.json\" {6}\n+  {\n+    \"$schema\": \"https://opencode.ai/config.json\",\n+    \"provider\": {\n+      \"azure\": {\n+        \"options\": {\n+          \"useDeploymentBasedUrls\": \"true\",\n+          \"useCompletionUrls\": \"true\"\n+        }\n+      }\n+    }\n+  }\n+  ```\n+  \n+  - How this options will change the generated Azure url to be used in opencode\n+\n+  | useDeploymentBasedUrls | useCompletionUrls | Generated URL |\n+  |------------------------|-------------------|-------------------------------------------------------------------------------|\n+  | false                  | false             | %baseURL%/v1/responses?api-version=%apiVersion%                              |\n+  | true                   | false             | %baseURL%/deployments/%Model%/responses?api-version=%apiVersion%             |\n+  | false                  | true              | %baseURL%/v1/responses?api-version=%apiVersion%                              |\n+  | true                   | true              | %baseURL%/deployments/%Model%/chat/completions?api-version=%apiVersion%        |",
        "comment_created_at": "2025-10-15T17:02:11+00:00",
        "comment_author": "enlilz",
        "comment_body": "not sure if it would make more sense to for azure to actually set the url in the model configuration by this point - at last from what i see and tested they have to many url formats they use - not sure if this is even possible with the current configuration usage .. just thinking out loud at the moment.\r\n\r\nif i have time later, i'll do some more testing with different models in Azure",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2287968678",
    "pr_number": 2103,
    "pr_file": "packages/web/src/content/docs/docs/gitlab.mdx",
    "created_at": "2025-08-20T12:09:53+00:00",
    "commented_code": "+---\n+title: GitLab\n+description: Use opencode in GitLab issues and merge requests\n+---\n+\n+opencode integrates with your GitLab workflow.\n+Mention `@opencode` in a comment, and opencode will execute tasks within your GitLab CI pipeline.\n+\n+---\n+\n+## Features\n+\n+- **Triage issues**: Ask opencode to look into an issue and explain it to you.\n+- **Fix and implement**: Ask opencode to fix an issue or implement a feature.\n+  It will work create a new branch and raised a merge request with the changes.\n+- **Secure**: opencode runs on your GitLab runners.\n+\n+---\n+\n+## Setup\n+\n+Refer to the [GitLab CLI agents docs](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/)",
    "repo_full_name": "sst/opencode",
    "discussion_comments": [
      {
        "comment_id": "2287968678",
        "repo_full_name": "sst/opencode",
        "pr_number": 2103,
        "pr_file": "packages/web/src/content/docs/docs/gitlab.mdx",
        "discussion_id": "2287968678",
        "commented_code": "@@ -0,0 +1,132 @@\n+---\n+title: GitLab\n+description: Use opencode in GitLab issues and merge requests\n+---\n+\n+opencode integrates with your GitLab workflow.\n+Mention `@opencode` in a comment, and opencode will execute tasks within your GitLab CI pipeline.\n+\n+---\n+\n+## Features\n+\n+- **Triage issues**: Ask opencode to look into an issue and explain it to you.\n+- **Fix and implement**: Ask opencode to fix an issue or implement a feature.\n+  It will work create a new branch and raised a merge request with the changes.\n+- **Secure**: opencode runs on your GitLab runners.\n+\n+---\n+\n+## Setup\n+\n+Refer to the [GitLab CLI agents docs](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/)",
        "comment_created_at": "2025-08-20T12:09:53+00:00",
        "comment_author": "ltickett",
        "comment_body": "Is linking to the docs sufficient or should we replicate them?\r\n\r\nI don't like to duplicate as it becomes more challenging to keep them all up to date.",
        "pr_file_module": null
      },
      {
        "comment_id": "2289360437",
        "repo_full_name": "sst/opencode",
        "pr_number": 2103,
        "pr_file": "packages/web/src/content/docs/docs/gitlab.mdx",
        "discussion_id": "2287968678",
        "commented_code": "@@ -0,0 +1,132 @@\n+---\n+title: GitLab\n+description: Use opencode in GitLab issues and merge requests\n+---\n+\n+opencode integrates with your GitLab workflow.\n+Mention `@opencode` in a comment, and opencode will execute tasks within your GitLab CI pipeline.\n+\n+---\n+\n+## Features\n+\n+- **Triage issues**: Ask opencode to look into an issue and explain it to you.\n+- **Fix and implement**: Ask opencode to fix an issue or implement a feature.\n+  It will work create a new branch and raised a merge request with the changes.\n+- **Secure**: opencode runs on your GitLab runners.\n+\n+---\n+\n+## Setup\n+\n+Refer to the [GitLab CLI agents docs](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/)",
        "comment_created_at": "2025-08-20T21:37:15+00:00",
        "comment_author": "jayair",
        "comment_body": "Yeah linking makes sense. I'll leave the snippet you have as an example.",
        "pr_file_module": null
      }
    ]
  }
]