[
  {
    "discussion_id": "2434710424",
    "pr_number": 3206,
    "pr_file": "packages/opencode/src/provider/provider.ts",
    "created_at": "2025-10-16T06:23:08+00:00",
    "commented_code": "}\n             case \"ap\": {\n               const isAustraliaRegion = [\"ap-southeast-2\", \"ap-southeast-4\"].includes(region)\n-              if (isAustraliaRegion && modelID.startsWith(\"anthropic.claude-sonnet-4-5\")) {\n+              if (isAustraliaRegion &&\n+                (modelID.startsWith(\"anthropic.claude-sonnet-4-5\") || modelID.startsWith(\"anthropic.claude-haiku-4-5\"))) {\n                 modelID = `au.${modelID}`\n               } else {\n                 const modelRequiresPrefix = [\"claude\", \"nova-lite\", \"nova-micro\", \"nova-pro\"].some((m) =>",
    "repo_full_name": "sst/opencode",
    "discussion_comments": [
      {
        "comment_id": "2434710424",
        "repo_full_name": "sst/opencode",
        "pr_number": 3206,
        "pr_file": "packages/opencode/src/provider/provider.ts",
        "discussion_id": "2434710424",
        "commented_code": "@@ -121,7 +121,8 @@ export namespace Provider {\n             }\n             case \"ap\": {\n               const isAustraliaRegion = [\"ap-southeast-2\", \"ap-southeast-4\"].includes(region)\n-              if (isAustraliaRegion && modelID.startsWith(\"anthropic.claude-sonnet-4-5\")) {\n+              if (isAustraliaRegion &&\n+                (modelID.startsWith(\"anthropic.claude-sonnet-4-5\") || modelID.startsWith(\"anthropic.claude-haiku-4-5\"))) {\n                 modelID = `au.${modelID}`\n               } else {\n                 const modelRequiresPrefix = [\"claude\", \"nova-lite\", \"nova-micro\", \"nova-pro\"].some((m) =>",
        "comment_created_at": "2025-10-16T06:23:08+00:00",
        "comment_author": "rekram1-node",
        "comment_body": "are we going to have to add every AU model everytime or can we mimic the thing we do for other regions and handle it with:\r\n              const modelRequiresPrefix = [\"claude\", \"nova-lite\", \"nova-micro\", \"nova-pro\"].some((m) =>\r\n\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2437968709",
        "repo_full_name": "sst/opencode",
        "pr_number": 3206,
        "pr_file": "packages/opencode/src/provider/provider.ts",
        "discussion_id": "2434710424",
        "commented_code": "@@ -121,7 +121,8 @@ export namespace Provider {\n             }\n             case \"ap\": {\n               const isAustraliaRegion = [\"ap-southeast-2\", \"ap-southeast-4\"].includes(region)\n-              if (isAustraliaRegion && modelID.startsWith(\"anthropic.claude-sonnet-4-5\")) {\n+              if (isAustraliaRegion &&\n+                (modelID.startsWith(\"anthropic.claude-sonnet-4-5\") || modelID.startsWith(\"anthropic.claude-haiku-4-5\"))) {\n                 modelID = `au.${modelID}`\n               } else {\n                 const modelRequiresPrefix = [\"claude\", \"nova-lite\", \"nova-micro\", \"nova-pro\"].some((m) =>",
        "comment_created_at": "2025-10-17T01:21:16+00:00",
        "comment_author": "mattgillard",
        "comment_body": "I refactored to follow that existing pattern.  Unfortunately prefix ```anthropic.claude-sonnet-4``` exists but isn't in au region, it is in apac region though which probably requires a separate PR. \r\nHaiku can be more general though (at least as of now).",
        "pr_file_module": null
      },
      {
        "comment_id": "2438363577",
        "repo_full_name": "sst/opencode",
        "pr_number": 3206,
        "pr_file": "packages/opencode/src/provider/provider.ts",
        "discussion_id": "2434710424",
        "commented_code": "@@ -121,7 +121,8 @@ export namespace Provider {\n             }\n             case \"ap\": {\n               const isAustraliaRegion = [\"ap-southeast-2\", \"ap-southeast-4\"].includes(region)\n-              if (isAustraliaRegion && modelID.startsWith(\"anthropic.claude-sonnet-4-5\")) {\n+              if (isAustraliaRegion &&\n+                (modelID.startsWith(\"anthropic.claude-sonnet-4-5\") || modelID.startsWith(\"anthropic.claude-haiku-4-5\"))) {\n                 modelID = `au.${modelID}`\n               } else {\n                 const modelRequiresPrefix = [\"claude\", \"nova-lite\", \"nova-micro\", \"nova-pro\"].some((m) =>",
        "comment_created_at": "2025-10-17T04:48:30+00:00",
        "comment_author": "rekram1-node",
        "comment_body": "got it that makes sense, you are basically patching the missing models for this specific region",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2230688183",
    "pr_number": 1231,
    "pr_file": "packages/opencode/src/provider/provider.ts",
    "created_at": "2025-07-25T09:57:07+00:00",
    "commented_code": "}\n   }\n \n-  const priority = [\"gemini-2.5-pro-preview\", \"codex-mini\", \"claude-sonnet-4\"]\n+  const priority = [\"llama3\", \"hermes3\", \"codellama\", \"gemini-2.5-pro-preview\", \"codex-mini\", \"claude-sonnet-4\"]",
    "repo_full_name": "sst/opencode",
    "discussion_comments": [
      {
        "comment_id": "2230688183",
        "repo_full_name": "sst/opencode",
        "pr_number": 1231,
        "pr_file": "packages/opencode/src/provider/provider.ts",
        "discussion_id": "2230688183",
        "commented_code": "@@ -436,11 +512,14 @@ export namespace Provider {\n     }\n   }\n \n-  const priority = [\"gemini-2.5-pro-preview\", \"codex-mini\", \"claude-sonnet-4\"]\n+  const priority = [\"llama3\", \"hermes3\", \"codellama\", \"gemini-2.5-pro-preview\", \"codex-mini\", \"claude-sonnet-4\"]",
        "comment_created_at": "2025-07-25T09:57:07+00:00",
        "comment_author": "jaswdr",
        "comment_body": "out of curiosity, did you tested these models and confirmed they work?",
        "pr_file_module": null
      },
      {
        "comment_id": "2232832789",
        "repo_full_name": "sst/opencode",
        "pr_number": 1231,
        "pr_file": "packages/opencode/src/provider/provider.ts",
        "discussion_id": "2230688183",
        "commented_code": "@@ -436,11 +512,14 @@ export namespace Provider {\n     }\n   }\n \n-  const priority = [\"gemini-2.5-pro-preview\", \"codex-mini\", \"claude-sonnet-4\"]\n+  const priority = [\"llama3\", \"hermes3\", \"codellama\", \"gemini-2.5-pro-preview\", \"codex-mini\", \"claude-sonnet-4\"]",
        "comment_created_at": "2025-07-26T10:07:59+00:00",
        "comment_author": "ferraro",
        "comment_body": "I replaced it with const priority = [\"llama3\", \"gemini-2.5-pro-preview\", \"codex-mini\", \"claude-sonnet-4\"]\r\nFor the moment it works only good with llama3, and I admit, only the first request.",
        "pr_file_module": null
      }
    ]
  }
]