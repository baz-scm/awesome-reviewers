[
  {
    "discussion_id": "1955338931",
    "pr_number": 4425,
    "pr_file": "tox.ini",
    "created_at": "2025-02-13T23:17:03+00:00",
    "commented_code": "[testenv]\n deps =\n-  lint: -r dev-requirements.txt\n+  lint: -r dev-requirements.txt # I think we should look into using something like pip-sync to keep this env inline with the requirements.txt.\n   coverage: pytest",
    "repo_full_name": "open-telemetry/opentelemetry-python",
    "discussion_comments": [
      {
        "comment_id": "1955338931",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 4425,
        "pr_file": "tox.ini",
        "discussion_id": "1955338931",
        "commented_code": "@@ -99,7 +98,7 @@ envlist =\n \n [testenv]\n deps =\n-  lint: -r dev-requirements.txt\n+  lint: -r dev-requirements.txt # I think we should look into using something like pip-sync to keep this env inline with the requirements.txt.\n   coverage: pytest",
        "comment_created_at": "2025-02-13T23:17:03+00:00",
        "comment_author": "pierceroberts",
        "comment_body": "We could look to sync these see this post to learn more:\r\nhttps://stackoverflow.com/questions/73503092/how-to-update-tox-environments-when-requirements-txt-files-change\r\n\r\n@emdneto & @Kludex take a peek and let me know.",
        "pr_file_module": null
      },
      {
        "comment_id": "1956525343",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 4425,
        "pr_file": "tox.ini",
        "discussion_id": "1955338931",
        "commented_code": "@@ -99,7 +98,7 @@ envlist =\n \n [testenv]\n deps =\n-  lint: -r dev-requirements.txt\n+  lint: -r dev-requirements.txt # I think we should look into using something like pip-sync to keep this env inline with the requirements.txt.\n   coverage: pytest",
        "comment_created_at": "2025-02-14T17:51:58+00:00",
        "comment_author": "emdneto",
        "comment_body": "I think tox in newer versions is able to detect changes to requirements files. At least, locally it's working for me",
        "pr_file_module": null
      },
      {
        "comment_id": "1956850102",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 4425,
        "pr_file": "tox.ini",
        "discussion_id": "1955338931",
        "commented_code": "@@ -99,7 +98,7 @@ envlist =\n \n [testenv]\n deps =\n-  lint: -r dev-requirements.txt\n+  lint: -r dev-requirements.txt # I think we should look into using something like pip-sync to keep this env inline with the requirements.txt.\n   coverage: pytest",
        "comment_created_at": "2025-02-14T23:28:01+00:00",
        "comment_author": "pierceroberts",
        "comment_body": "removed",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1974814988",
    "pr_number": 4451,
    "pr_file": "tox.ini",
    "created_at": "2025-02-28T05:34:31+00:00",
    "commented_code": "public-symbols-check\n     shellcheck\n     generate-workflows\n-    ruff\n+    pre-commit",
    "repo_full_name": "open-telemetry/opentelemetry-python",
    "discussion_comments": [
      {
        "comment_id": "1974814988",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 4451,
        "pr_file": "tox.ini",
        "discussion_id": "1974814988",
        "commented_code": "@@ -95,7 +95,7 @@ envlist =\n     public-symbols-check\n     shellcheck\n     generate-workflows\n-    ruff\n+    pre-commit",
        "comment_created_at": "2025-02-28T05:34:31+00:00",
        "comment_author": "aabmass",
        "comment_body": "Consider `precommit`, since tox treats `-` specially and splits the components into \"factors\"",
        "pr_file_module": null
      },
      {
        "comment_id": "1975251032",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 4451,
        "pr_file": "tox.ini",
        "discussion_id": "1974814988",
        "commented_code": "@@ -95,7 +95,7 @@ envlist =\n     public-symbols-check\n     shellcheck\n     generate-workflows\n-    ruff\n+    pre-commit",
        "comment_created_at": "2025-02-28T11:23:39+00:00",
        "comment_author": "emdneto",
        "comment_body": "Right",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1636681918",
    "pr_number": 3902,
    "pr_file": "tox.ini",
    "created_at": "2024-06-12T15:25:48+00:00",
    "commented_code": "[testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt\n+  test-opentelemetry: pytest",
    "repo_full_name": "open-telemetry/opentelemetry-python",
    "discussion_comments": [
      {
        "comment_id": "1636681918",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3902,
        "pr_file": "tox.ini",
        "discussion_id": "1636681918",
        "commented_code": "@@ -92,9 +110,10 @@ envlist =\n [testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt\n+  test-opentelemetry: pytest",
        "comment_created_at": "2024-06-12T15:25:48+00:00",
        "comment_author": "lzchen",
        "comment_body": "Any reason why we are renaming this envs?",
        "pr_file_module": null
      },
      {
        "comment_id": "1637045188",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3902,
        "pr_file": "tox.ini",
        "discussion_id": "1636681918",
        "commented_code": "@@ -92,9 +110,10 @@ envlist =\n [testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt\n+  test-opentelemetry: pytest",
        "comment_created_at": "2024-06-12T20:30:48+00:00",
        "comment_author": "ocelotl",
        "comment_body": "We are not renaming the envs, here what we are doing is telling `tox` to install certain packages for `lint` testing and other ones for regular testing. Since `lint` environments are not called `lint-opentelemetry-xyz`, not using `test-opentelemetry` here would lead to unnecessary packages being installed in `lint` environments.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1644431085",
    "pr_number": 3902,
    "pr_file": "tox.ini",
    "created_at": "2024-06-18T13:03:35+00:00",
    "commented_code": "[testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt",
    "repo_full_name": "open-telemetry/opentelemetry-python",
    "discussion_comments": [
      {
        "comment_id": "1644431085",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3902,
        "pr_file": "tox.ini",
        "discussion_id": "1644431085",
        "commented_code": "@@ -92,9 +109,10 @@ envlist =\n [testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt",
        "comment_created_at": "2024-06-18T13:03:35+00:00",
        "comment_author": "xrmx",
        "comment_body": "Can't we reuse dev-requirements.txt even if it installs a bit more stuff to avoid creating another place where to keep requirements updated?",
        "pr_file_module": null
      },
      {
        "comment_id": "1659413278",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3902,
        "pr_file": "tox.ini",
        "discussion_id": "1644431085",
        "commented_code": "@@ -92,9 +109,10 @@ envlist =\n [testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt",
        "comment_created_at": "2024-06-28T23:44:32+00:00",
        "comment_author": "ocelotl",
        "comment_body": "Actually, we should get rid of `dev-requirements.txt` and have properly named requirements files that represent what virtual environment they correspond to.",
        "pr_file_module": null
      },
      {
        "comment_id": "1663813958",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3902,
        "pr_file": "tox.ini",
        "discussion_id": "1644431085",
        "commented_code": "@@ -92,9 +109,10 @@ envlist =\n [testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt",
        "comment_created_at": "2024-07-03T08:51:14+00:00",
        "comment_author": "xrmx",
        "comment_body": "I think that is adding a lot more complexity that it is required :cry: ",
        "pr_file_module": null
      },
      {
        "comment_id": "1664666952",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3902,
        "pr_file": "tox.ini",
        "discussion_id": "1644431085",
        "commented_code": "@@ -92,9 +109,10 @@ envlist =\n [testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt",
        "comment_created_at": "2024-07-03T19:40:02+00:00",
        "comment_author": "lzchen",
        "comment_body": "@xrmx \r\n\r\nHas this been resolved offline? What was the verdict?",
        "pr_file_module": null
      },
      {
        "comment_id": "1664743043",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3902,
        "pr_file": "tox.ini",
        "discussion_id": "1644431085",
        "commented_code": "@@ -92,9 +109,10 @@ envlist =\n [testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt",
        "comment_created_at": "2024-07-03T20:25:36+00:00",
        "comment_author": "ocelotl",
        "comment_body": "> I think that is adding a lot more complexity that it is required \ud83d\ude22\r\n\r\nThat's quite subjective.\r\n\r\nNow, being objective, this PR will speed up lint tests and it will make this repo consistent with the contrib repo, [_where we already do this_](https://github.com/open-telemetry/opentelemetry-python-contrib/pull/2467).\r\n\r\nAlso, this PR will add the necessary changes for an upcoming PR (analogous to [this PR](https://github.com/open-telemetry/opentelemetry-python-contrib/pull/2658)) that can solve #3814.",
        "pr_file_module": null
      },
      {
        "comment_id": "1674442750",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3902,
        "pr_file": "tox.ini",
        "discussion_id": "1644431085",
        "commented_code": "@@ -92,9 +109,10 @@ envlist =\n [testenv]\n deps =\n   -c dev-requirements.txt\n-  opentelemetry: pytest\n-  opentelemetry: pytest-benchmark\n-  opentelemetry: flaky\n+  lint: -r lint-requirements.txt",
        "comment_created_at": "2024-07-11T18:01:38+00:00",
        "comment_author": "ocelotl",
        "comment_body": "Discussed this issue in the SIG, agreed to open a new issue to discuss objections to this approach.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1517608123",
    "pr_number": 3742,
    "pr_file": "tox.ini",
    "created_at": "2024-03-08T11:38:32+00:00",
    "commented_code": "exporter-otlp-proto-grpc: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-common\n   exporter-otlp-proto-grpc: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-grpc\n \n-  exporter-otlp-proto-http: pip install {toxinidir}/opentelemetry-proto\n-  exporter-otlp-proto-http: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-common\n-  exporter-otlp-proto-http: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http[test]\n+  proto3-opentelemetry-exporter-otlp-proto-http: pip install -r {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http/test-requirements-0.txt\n+  proto4-opentelemetry-exporter-otlp-proto-http: pip install -r {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http/test-requirements-1.txt",
    "repo_full_name": "open-telemetry/opentelemetry-python",
    "discussion_comments": [
      {
        "comment_id": "1517608123",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3742,
        "pr_file": "tox.ini",
        "discussion_id": "1517608123",
        "commented_code": "@@ -130,9 +130,8 @@ commands_pre =\n   exporter-otlp-proto-grpc: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-common\n   exporter-otlp-proto-grpc: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-grpc\n \n-  exporter-otlp-proto-http: pip install {toxinidir}/opentelemetry-proto\n-  exporter-otlp-proto-http: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-common\n-  exporter-otlp-proto-http: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http[test]\n+  proto3-opentelemetry-exporter-otlp-proto-http: pip install -r {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http/test-requirements-0.txt\n+  proto4-opentelemetry-exporter-otlp-proto-http: pip install -r {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http/test-requirements-1.txt",
        "comment_created_at": "2024-03-08T11:38:32+00:00",
        "comment_author": "xrmx",
        "comment_body": "Question: if you change these in `commands_pre`, should you alse change the stuff with the same name in `commands`?",
        "pr_file_module": null
      },
      {
        "comment_id": "1525606594",
        "repo_full_name": "open-telemetry/opentelemetry-python",
        "pr_number": 3742,
        "pr_file": "tox.ini",
        "discussion_id": "1517608123",
        "commented_code": "@@ -130,9 +130,8 @@ commands_pre =\n   exporter-otlp-proto-grpc: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-common\n   exporter-otlp-proto-grpc: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-grpc\n \n-  exporter-otlp-proto-http: pip install {toxinidir}/opentelemetry-proto\n-  exporter-otlp-proto-http: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-common\n-  exporter-otlp-proto-http: pip install {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http[test]\n+  proto3-opentelemetry-exporter-otlp-proto-http: pip install -r {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http/test-requirements-0.txt\n+  proto4-opentelemetry-exporter-otlp-proto-http: pip install -r {toxinidir}/exporter/opentelemetry-exporter-otlp-proto-http/test-requirements-1.txt",
        "comment_created_at": "2024-03-14T23:47:29+00:00",
        "comment_author": "ocelotl",
        "comment_body": "No, because the matching stuff in `commands` is the same for `proto3*` and `proto4*`.",
        "pr_file_module": null
      }
    ]
  }
]