[
  {
    "discussion_id": "2049774709",
    "pr_number": 35661,
    "pr_file": "packages/html-reporter/src/reportView.tsx",
    "created_at": "2025-04-18T00:08:21+00:00",
    "commented_code": "/>\n       </Route>\n       <Route predicate={testCaseRoutePredicate}>\n-        {!!report && <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} />}\n+        {!!report ?\n+          <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} /> :\n+          <div className='error'>Report data could not be found</div>}",
    "repo_full_name": "microsoft/playwright",
    "discussion_comments": [
      {
        "comment_id": "2049774709",
        "repo_full_name": "microsoft/playwright",
        "pr_number": 35661,
        "pr_file": "packages/html-reporter/src/reportView.tsx",
        "discussion_id": "2049774709",
        "commented_code": "@@ -85,19 +85,30 @@ export const ReportView: React.FC<{\n         />\n       </Route>\n       <Route predicate={testCaseRoutePredicate}>\n-        {!!report && <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} />}\n+        {!!report ?\n+          <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} /> :\n+          <div className='error'>Report data could not be found</div>}",
        "comment_created_at": "2025-04-18T00:08:21+00:00",
        "comment_author": "pavelfeldman",
        "comment_body": "What does this mean? What do I do?",
        "pr_file_module": null
      },
      {
        "comment_id": "2050603013",
        "repo_full_name": "microsoft/playwright",
        "pr_number": 35661,
        "pr_file": "packages/html-reporter/src/reportView.tsx",
        "discussion_id": "2049774709",
        "commented_code": "@@ -85,19 +85,30 @@ export const ReportView: React.FC<{\n         />\n       </Route>\n       <Route predicate={testCaseRoutePredicate}>\n-        {!!report && <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} />}\n+        {!!report ?\n+          <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} /> :\n+          <div className='error'>Report data could not be found</div>}",
        "comment_created_at": "2025-04-18T13:03:37+00:00",
        "comment_author": "agg23",
        "comment_body": "A fatal error occurred with loading the report and there's likely no recovery. The best thing the user can do is reload. We currently show a blank screen if this happens.",
        "pr_file_module": null
      },
      {
        "comment_id": "2050989385",
        "repo_full_name": "microsoft/playwright",
        "pr_number": 35661,
        "pr_file": "packages/html-reporter/src/reportView.tsx",
        "discussion_id": "2049774709",
        "commented_code": "@@ -85,19 +85,30 @@ export const ReportView: React.FC<{\n         />\n       </Route>\n       <Route predicate={testCaseRoutePredicate}>\n-        {!!report && <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} />}\n+        {!!report ?\n+          <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} /> :\n+          <div className='error'>Report data could not be found</div>}",
        "comment_created_at": "2025-04-18T18:45:45+00:00",
        "comment_author": "pavelfeldman",
        "comment_body": "How is `Report data could not be found` better than blank screen?",
        "pr_file_module": null
      },
      {
        "comment_id": "2051008952",
        "repo_full_name": "microsoft/playwright",
        "pr_number": 35661,
        "pr_file": "packages/html-reporter/src/reportView.tsx",
        "discussion_id": "2049774709",
        "commented_code": "@@ -85,19 +85,30 @@ export const ReportView: React.FC<{\n         />\n       </Route>\n       <Route predicate={testCaseRoutePredicate}>\n-        {!!report && <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} />}\n+        {!!report ?\n+          <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} /> :\n+          <div className='error'>Report data could not be found</div>}",
        "comment_created_at": "2025-04-18T19:04:34+00:00",
        "comment_author": "agg23",
        "comment_body": "Generally it is better to communicate to the user that something broke, rather than doing nothing. Technically a blank screen implicitly communicates something broke, but it's still a poor experience.\r\n\r\nAny place where an error can occur but is not handled (generally explicitly) is a bug. This is no different. I agree that the error message could be better though.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2049775797",
    "pr_number": 35661,
    "pr_file": "packages/html-reporter/src/reportView.tsx",
    "created_at": "2025-04-18T00:09:38+00:00",
    "commented_code": "/>\n       </Route>\n       <Route predicate={testCaseRoutePredicate}>\n-        {!!report && <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} />}\n+        {!!report ?\n+          <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} /> :\n+          <div className='error'>Report data could not be found</div>}\n       </Route>\n     </main>\n   </div>;\n };\n \n+type TestState = {\n+  type: 'loading'\n+} | {\n+  type: 'test',\n+  test: TestCase,\n+} | {\n+  type: 'error',",
    "repo_full_name": "microsoft/playwright",
    "discussion_comments": [
      {
        "comment_id": "2049775797",
        "repo_full_name": "microsoft/playwright",
        "pr_number": 35661,
        "pr_file": "packages/html-reporter/src/reportView.tsx",
        "discussion_id": "2049775797",
        "commented_code": "@@ -85,19 +85,30 @@ export const ReportView: React.FC<{\n         />\n       </Route>\n       <Route predicate={testCaseRoutePredicate}>\n-        {!!report && <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} />}\n+        {!!report ?\n+          <TestCaseViewLoader report={report} tests={filteredTests.tests} testIdToFileIdMap={testIdToFileIdMap} /> :\n+          <div className='error'>Report data could not be found</div>}\n       </Route>\n     </main>\n   </div>;\n };\n \n+type TestState = {\n+  type: 'loading'\n+} | {\n+  type: 'test',\n+  test: TestCase,\n+} | {\n+  type: 'error',",
        "comment_created_at": "2025-04-18T00:09:38+00:00",
        "comment_author": "pavelfeldman",
        "comment_body": "That would not be a very useful state. How about a placeholder that suggests possible recovery when the report is empty?",
        "pr_file_module": null
      }
    ]
  }
]