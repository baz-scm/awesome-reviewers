[
  {
    "discussion_id": "1909079245",
    "pr_number": 9992,
    "pr_file": "pyproject.toml",
    "created_at": "2025-01-09T16:00:13+00:00",
    "commented_code": "description = \"Python dependency management and packaging made easy.\"\n requires-python = \">=3.9,<4.0\"\n dependencies = [\n-    \"poetry-core (==2.0.0)\",\n+    # TODO: Change to main if poetry-core#805 is merged\n+    \"poetry-core @ git+https://github.com/finswimmer/core.git@i9961-format\",",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "1909079245",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9992,
        "pr_file": "pyproject.toml",
        "discussion_id": "1909079245",
        "commented_code": "@@ -4,7 +4,8 @@ version = \"2.0.0\"\n description = \"Python dependency management and packaging made easy.\"\n requires-python = \">=3.9,<4.0\"\n dependencies = [\n-    \"poetry-core (==2.0.0)\",\n+    # TODO: Change to main if poetry-core#805 is merged\n+    \"poetry-core @ git+https://github.com/finswimmer/core.git@i9961-format\",",
        "comment_created_at": "2025-01-09T16:00:13+00:00",
        "comment_author": "abn",
        "comment_body": "```suggestion\r\n    \"poetry-core @ git+https://github.com/python-poetry/poetry-core.git@main\",\r\n```\r\n\r\npython-poetry/poetry-core#805 is merged.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1903275423",
    "pr_number": 9937,
    "pr_file": "pyproject.toml",
    "created_at": "2025-01-05T13:48:58+00:00",
    "commented_code": "-[tool.poetry]\n+[project]\n name = \"poetry\"\n version = \"2.0.0\"\n description = \"Python dependency management and packaging made easy.\"\n-authors = [\"S\u00e9bastien Eustace <sebastien@eustace.io>\"]\n+requires-python = \">=3.9,<4.0\"\n+dependencies = [\n+    \"poetry-core (==2.0.0)\",",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "1903275423",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9937,
        "pr_file": "pyproject.toml",
        "discussion_id": "1903275423",
        "commented_code": "@@ -1,59 +1,68 @@\n-[tool.poetry]\n+[project]\n name = \"poetry\"\n version = \"2.0.0\"\n description = \"Python dependency management and packaging made easy.\"\n-authors = [\"S\u00e9bastien Eustace <sebastien@eustace.io>\"]\n+requires-python = \">=3.9,<4.0\"\n+dependencies = [\n+    \"poetry-core (==2.0.0)\",",
        "comment_created_at": "2025-01-05T13:48:58+00:00",
        "comment_author": "Secrus",
        "comment_body": "1. why are we pinning to a version? IIRC before 2.0 we had a `^` pin on the core.\r\n2. are the parenthesis fine with the spec? (First I see those used)",
        "pr_file_module": null
      },
      {
        "comment_id": "1903277805",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9937,
        "pr_file": "pyproject.toml",
        "discussion_id": "1903275423",
        "commented_code": "@@ -1,59 +1,68 @@\n-[tool.poetry]\n+[project]\n name = \"poetry\"\n version = \"2.0.0\"\n description = \"Python dependency management and packaging made easy.\"\n-authors = [\"S\u00e9bastien Eustace <sebastien@eustace.io>\"]\n+requires-python = \">=3.9,<4.0\"\n+dependencies = [\n+    \"poetry-core (==2.0.0)\",",
        "comment_created_at": "2025-01-05T14:03:13+00:00",
        "comment_author": "radoering",
        "comment_body": "1. We do this since Poetry 1.3. IIRC, the idea behind this was that we will do a Poetry release anyway even if there is just a poetry-core bugfix release.\r\n2. I think so. That is what Poetry procudes for core metadata.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1527103722",
    "pr_number": 9163,
    "pr_file": "pyproject.toml",
    "created_at": "2024-03-16T05:57:40+00:00",
    "commented_code": "poetry-core = \"1.9.0\"\n poetry-plugin-export = \"^1.7.0\"\n-build = \"^1.0.3\"\n+build = \"^1.1\"",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "1527103722",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9163,
        "pr_file": "pyproject.toml",
        "discussion_id": "1527103722",
        "commented_code": "@@ -33,7 +33,7 @@ python = \"^3.8\"\n \n poetry-core = \"1.9.0\"\n poetry-plugin-export = \"^1.7.0\"\n-build = \"^1.0.3\"\n+build = \"^1.1\"",
        "comment_created_at": "2024-03-16T05:57:40+00:00",
        "comment_author": "radoering",
        "comment_body": "Shall we require `\"^1.1.1\"` because `1.1.0` is yanked?",
        "pr_file_module": null
      },
      {
        "comment_id": "1527156815",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9163,
        "pr_file": "pyproject.toml",
        "discussion_id": "1527103722",
        "commented_code": "@@ -33,7 +33,7 @@ python = \"^3.8\"\n \n poetry-core = \"1.9.0\"\n poetry-plugin-export = \"^1.7.0\"\n-build = \"^1.0.3\"\n+build = \"^1.1\"",
        "comment_created_at": "2024-03-16T11:28:39+00:00",
        "comment_author": "abn",
        "comment_body": "Sounds reasonable ",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "993564195",
    "pr_number": 6781,
    "pr_file": "pyproject.toml",
    "created_at": "2022-10-12T14:47:11+00:00",
    "commented_code": "poetry-core = \"^1.3.2\"\n poetry-plugin-export = \"^1.1.2\"\n-\"backports.cached-property\" = { version = \"^1.0.2\", python = \"<3.8\" }\n+\"backports.cached-property\" = { version = \"^1.0.2\", python = \"3.7\" }\n cachecontrol = { version = \"^0.12.9\", extras = [\"filecache\"] }\n cleo = \"^1.0.0a5\"\n crashtest = \"^0.3.0\"\n dulwich = \"^0.20.46\"\n filelock = \"^3.8.0\"\n html5lib = \"^1.0\"\n-importlib-metadata = { version = \"^4.4\", python = \"<3.10\" }\n+importlib-metadata = { version = \"^4.4\", python = \"3.7\" }",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "993564195",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 6781,
        "pr_file": "pyproject.toml",
        "discussion_id": "993564195",
        "commented_code": "@@ -49,14 +49,14 @@ python = \"^3.7\"\n \n poetry-core = \"^1.3.2\"\n poetry-plugin-export = \"^1.1.2\"\n-\"backports.cached-property\" = { version = \"^1.0.2\", python = \"<3.8\" }\n+\"backports.cached-property\" = { version = \"^1.0.2\", python = \"3.7\" }\n cachecontrol = { version = \"^0.12.9\", extras = [\"filecache\"] }\n cleo = \"^1.0.0a5\"\n crashtest = \"^0.3.0\"\n dulwich = \"^0.20.46\"\n filelock = \"^3.8.0\"\n html5lib = \"^1.0\"\n-importlib-metadata = { version = \"^4.4\", python = \"<3.10\" }\n+importlib-metadata = { version = \"^4.4\", python = \"3.7\" }",
        "comment_created_at": "2022-10-12T14:47:11+00:00",
        "comment_author": "radoering",
        "comment_body": "Sure about that?\r\n\r\n<html><body>\r\n<!--StartFragment-->\r\n\r\nimportlib_metadata | stdlib\r\n-- | --\r\n4.8 | 3.11\r\n4.4 | 3.10\r\n1.4 | 3.8\r\n\r\n<!--EndFragment-->\r\n</body>\r\n</html>\r\n(from https://pypi.org/project/importlib-metadata/)\r\n\r\nIf we really want to do that, we'll have to change https://github.com/python-poetry/poetry/blob/0b71e4381445bf6b6c239bf0d88c8f5dfb4a32bd/src/poetry/utils/_compat.py#L10-L11",
        "pr_file_module": null
      },
      {
        "comment_id": "993571366",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 6781,
        "pr_file": "pyproject.toml",
        "discussion_id": "993564195",
        "commented_code": "@@ -49,14 +49,14 @@ python = \"^3.7\"\n \n poetry-core = \"^1.3.2\"\n poetry-plugin-export = \"^1.1.2\"\n-\"backports.cached-property\" = { version = \"^1.0.2\", python = \"<3.8\" }\n+\"backports.cached-property\" = { version = \"^1.0.2\", python = \"3.7\" }\n cachecontrol = { version = \"^0.12.9\", extras = [\"filecache\"] }\n cleo = \"^1.0.0a5\"\n crashtest = \"^0.3.0\"\n dulwich = \"^0.20.46\"\n filelock = \"^3.8.0\"\n html5lib = \"^1.0\"\n-importlib-metadata = { version = \"^4.4\", python = \"<3.10\" }\n+importlib-metadata = { version = \"^4.4\", python = \"3.7\" }",
        "comment_created_at": "2022-10-12T14:52:54+00:00",
        "comment_author": "neersighted",
        "comment_body": "Ah, for some reason I thought we were making this import based on a `try`/`catch` style.\r\n\r\nI was the one who originally made that change on the basis that it lead to more consistent code -- however, after review it turns out we don't use any features introduced in 4.4+, so we can safely rely on the stdlib version after Python 3.7 leaves support.\r\n\r\nIf we leave this at `^4.4` there will be a mildly older version used on Python 3.9, but the test suite should cover us. We originally had to bump from `^1.4` as pytest-randomly requires `>=3.6.0`.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "993567185",
    "pr_number": 6781,
    "pr_file": "pyproject.toml",
    "created_at": "2022-10-12T14:49:34+00:00",
    "commented_code": "poetry-core = \"^1.3.2\"\n poetry-plugin-export = \"^1.1.2\"\n-\"backports.cached-property\" = { version = \"^1.0.2\", python = \"<3.8\" }\n+\"backports.cached-property\" = { version = \"^1.0.2\", python = \"3.7\" }",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "993567185",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 6781,
        "pr_file": "pyproject.toml",
        "discussion_id": "993567185",
        "commented_code": "@@ -49,14 +49,14 @@ python = \"^3.7\"\n \n poetry-core = \"^1.3.2\"\n poetry-plugin-export = \"^1.1.2\"\n-\"backports.cached-property\" = { version = \"^1.0.2\", python = \"<3.8\" }\n+\"backports.cached-property\" = { version = \"^1.0.2\", python = \"3.7\" }",
        "comment_created_at": "2022-10-12T14:49:34+00:00",
        "comment_author": "radoering",
        "comment_body": "I like <3.8 even if we don't support 3.6. I suppose that's a matter of taste. \ud83e\udd37 ",
        "pr_file_module": null
      },
      {
        "comment_id": "993568912",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 6781,
        "pr_file": "pyproject.toml",
        "discussion_id": "993567185",
        "commented_code": "@@ -49,14 +49,14 @@ python = \"^3.7\"\n \n poetry-core = \"^1.3.2\"\n poetry-plugin-export = \"^1.1.2\"\n-\"backports.cached-property\" = { version = \"^1.0.2\", python = \"<3.8\" }\n+\"backports.cached-property\" = { version = \"^1.0.2\", python = \"3.7\" }",
        "comment_created_at": "2022-10-12T14:50:55+00:00",
        "comment_author": "neersighted",
        "comment_body": "The intention is to make it grepable -- I agree that `<3.8` is generally preferable, but in this specific case of covering one version I think it makes it easier to remove later.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1214375166",
    "pr_number": 8055,
    "pr_file": "pyproject.toml",
    "created_at": "2023-06-02T13:27:48+00:00",
    "commented_code": "trove-classifiers = \">=2022.5.19\"\n virtualenv = \"^20.22.0\"\n xattr = { version = \"^0.10.0\", markers = \"sys_platform == 'darwin'\" }\n-urllib3 = \"^1.26.0\"",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "1214375166",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8055,
        "pr_file": "pyproject.toml",
        "discussion_id": "1214375166",
        "commented_code": "@@ -60,7 +58,6 @@ tomlkit = \">=0.11.4,<1.0.0\"\n trove-classifiers = \">=2022.5.19\"\n virtualenv = \"^20.22.0\"\n xattr = { version = \"^0.10.0\", markers = \"sys_platform == 'darwin'\" }\n-urllib3 = \"^1.26.0\"",
        "comment_created_at": "2023-06-02T13:27:48+00:00",
        "comment_author": "dimbleby",
        "comment_body": "poetry still has a direct dependency on `urllib3` - https://github.com/python-poetry/poetry/blob/50e61e696bb0ae61c148d570f1c204a667464f1c/src/poetry/publishing/uploader.py#L20 - so this should not be removed.",
        "pr_file_module": null
      },
      {
        "comment_id": "1214376613",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8055,
        "pr_file": "pyproject.toml",
        "discussion_id": "1214375166",
        "commented_code": "@@ -60,7 +58,6 @@ tomlkit = \">=0.11.4,<1.0.0\"\n trove-classifiers = \">=2022.5.19\"\n virtualenv = \"^20.22.0\"\n xattr = { version = \"^0.10.0\", markers = \"sys_platform == 'darwin'\" }\n-urllib3 = \"^1.26.0\"",
        "comment_created_at": "2023-06-02T13:29:09+00:00",
        "comment_author": "ralbertazzi",
        "comment_body": "Seemed really minor for me to be kept but I understand the reasoning, better to be safe than sorry!",
        "pr_file_module": null
      },
      {
        "comment_id": "1214380316",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8055,
        "pr_file": "pyproject.toml",
        "discussion_id": "1214375166",
        "commented_code": "@@ -60,7 +58,6 @@ tomlkit = \">=0.11.4,<1.0.0\"\n trove-classifiers = \">=2022.5.19\"\n virtualenv = \"^20.22.0\"\n xattr = { version = \"^0.10.0\", markers = \"sys_platform == 'darwin'\" }\n-urllib3 = \"^1.26.0\"",
        "comment_created_at": "2023-06-02T13:32:13+00:00",
        "comment_author": "ralbertazzi",
        "comment_body": "Would you prefer to relax the constraint or pin it to `^2.0.2` to enforce the usage of a more recent version? I'd prefer the second but I also understand the Poetry direct dependency on urllib3 works ok with <2 too..",
        "pr_file_module": null
      },
      {
        "comment_id": "1214388081",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8055,
        "pr_file": "pyproject.toml",
        "discussion_id": "1214375166",
        "commented_code": "@@ -60,7 +58,6 @@ tomlkit = \">=0.11.4,<1.0.0\"\n trove-classifiers = \">=2022.5.19\"\n virtualenv = \"^20.22.0\"\n xattr = { version = \"^0.10.0\", markers = \"sys_platform == 'darwin'\" }\n-urllib3 = \"^1.26.0\"",
        "comment_created_at": "2023-06-02T13:35:01+00:00",
        "comment_author": "dimbleby",
        "comment_body": "so far as I can see that import is only used to set up a `Retry`, which is configured to retry only for GETs; and the uploader never does a GET, it only POSTs.\r\n\r\nSo if that's right then that little pile of code could be deleted anyway.   But double-check, I only skimmed it..!",
        "pr_file_module": null
      },
      {
        "comment_id": "1214391391",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8055,
        "pr_file": "pyproject.toml",
        "discussion_id": "1214375166",
        "commented_code": "@@ -60,7 +58,6 @@ tomlkit = \">=0.11.4,<1.0.0\"\n trove-classifiers = \">=2022.5.19\"\n virtualenv = \"^20.22.0\"\n xattr = { version = \"^0.10.0\", markers = \"sys_platform == 'darwin'\" }\n-urllib3 = \"^1.26.0\"",
        "comment_created_at": "2023-06-02T13:37:54+00:00",
        "comment_author": "ralbertazzi",
        "comment_body": "I think you are totally right. Wouldn't it be better to then fix it to \"POST\" if the original goal was to retry uploads?",
        "pr_file_module": null
      },
      {
        "comment_id": "1214392948",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8055,
        "pr_file": "pyproject.toml",
        "discussion_id": "1214375166",
        "commented_code": "@@ -60,7 +58,6 @@ tomlkit = \">=0.11.4,<1.0.0\"\n trove-classifiers = \">=2022.5.19\"\n virtualenv = \"^20.22.0\"\n xattr = { version = \"^0.10.0\", markers = \"sys_platform == 'darwin'\" }\n-urllib3 = \"^1.26.0\"",
        "comment_created_at": "2023-06-02T13:39:23+00:00",
        "comment_author": "dimbleby",
        "comment_body": "meh, if the code has been there for this long without anyone feeling the need to have working retries - I'd just delete it.",
        "pr_file_module": null
      },
      {
        "comment_id": "1214393970",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8055,
        "pr_file": "pyproject.toml",
        "discussion_id": "1214375166",
        "commented_code": "@@ -60,7 +58,6 @@ tomlkit = \">=0.11.4,<1.0.0\"\n trove-classifiers = \">=2022.5.19\"\n virtualenv = \"^20.22.0\"\n xattr = { version = \"^0.10.0\", markers = \"sys_platform == 'darwin'\" }\n-urllib3 = \"^1.26.0\"",
        "comment_created_at": "2023-06-02T13:40:09+00:00",
        "comment_author": "ralbertazzi",
        "comment_body": "I was just writing that \ud83d\ude04 Makes sense",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1395573215",
    "pr_number": 8680,
    "pr_file": "pyproject.toml",
    "created_at": "2023-11-16T11:44:10+00:00",
    "commented_code": "platformdirs = \"^3.0.0\"\n pyproject-hooks = \"^1.0.0\"\n requests = \"^2.26\"\n-requests-toolbelt = \">=0.9.1,<2\"\n+requests-toolbelt = \">=1,<2\"",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "1395573215",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8680,
        "pr_file": "pyproject.toml",
        "discussion_id": "1395573215",
        "commented_code": "@@ -50,7 +50,7 @@ pkginfo = \"^1.9.4\"\n platformdirs = \"^3.0.0\"\n pyproject-hooks = \"^1.0.0\"\n requests = \"^2.26\"\n-requests-toolbelt = \">=0.9.1,<2\"\n+requests-toolbelt = \">=1,<2\"",
        "comment_created_at": "2023-11-16T11:44:10+00:00",
        "comment_author": "Secrus",
        "comment_body": "Could you use the `^1.0.0` marker, please? It will mean the same in a nicer way.",
        "pr_file_module": null
      },
      {
        "comment_id": "1395575850",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8680,
        "pr_file": "pyproject.toml",
        "discussion_id": "1395573215",
        "commented_code": "@@ -50,7 +50,7 @@ pkginfo = \"^1.9.4\"\n platformdirs = \"^3.0.0\"\n pyproject-hooks = \"^1.0.0\"\n requests = \"^2.26\"\n-requests-toolbelt = \">=0.9.1,<2\"\n+requests-toolbelt = \">=1,<2\"",
        "comment_created_at": "2023-11-16T11:46:51+00:00",
        "comment_author": "hugovk",
        "comment_body": "Sure, updated!",
        "pr_file_module": null
      }
    ]
  }
]