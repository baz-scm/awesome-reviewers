[
  {
    "discussion_id": "1977403778",
    "pr_number": 9542,
    "pr_file": "docker-examples/poetry-multistage/Dockerfile",
    "created_at": "2025-03-03T12:03:48+00:00",
    "commented_code": "+FROM python:3.11-slim as builder",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "1977403778",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9542,
        "pr_file": "docker-examples/poetry-multistage/Dockerfile",
        "discussion_id": "1977403778",
        "commented_code": "@@ -0,0 +1,36 @@\n+FROM python:3.11-slim as builder",
        "comment_created_at": "2025-03-03T12:03:48+00:00",
        "comment_author": "iTrooz",
        "comment_body": "Consider using `python:3.11-alpine` instead (124MB vs 48.3MB for python 3.12)",
        "pr_file_module": null
      },
      {
        "comment_id": "1977508532",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9542,
        "pr_file": "docker-examples/poetry-multistage/Dockerfile",
        "discussion_id": "1977403778",
        "commented_code": "@@ -0,0 +1,36 @@\n+FROM python:3.11-slim as builder",
        "comment_created_at": "2025-03-03T13:21:07+00:00",
        "comment_author": "gianfa",
        "comment_body": "Thank you very much for sharing this suggestion. In fact Alpine may be great for a \u201cthe lightest poetry image\u201d version.\r\nIn general, I would not recommend Alpine, since it does not seem the best in terms of security and stability (see e.g. https://pythonspeed.com/articles/alpine-docker-python/).\r\n\r\nPlease feel free to share if you have different thoughts.",
        "pr_file_module": null
      },
      {
        "comment_id": "1977608253",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9542,
        "pr_file": "docker-examples/poetry-multistage/Dockerfile",
        "discussion_id": "1977403778",
        "commented_code": "@@ -0,0 +1,36 @@\n+FROM python:3.11-slim as builder",
        "comment_created_at": "2025-03-03T14:26:05+00:00",
        "comment_author": "iTrooz",
        "comment_body": "That's interesting. No, I don't have any other argument other than \"I've heard alpine small\", and the image size comparison I shared earlier.\r\n\r\nI'm not sure why you mention security though ? I didn't see anything related to that in your article",
        "pr_file_module": null
      },
      {
        "comment_id": "1986878398",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 9542,
        "pr_file": "docker-examples/poetry-multistage/Dockerfile",
        "discussion_id": "1977403778",
        "commented_code": "@@ -0,0 +1,36 @@\n+FROM python:3.11-slim as builder",
        "comment_created_at": "2025-03-10T09:08:40+00:00",
        "comment_author": "gianfa",
        "comment_body": "You are right.\r\nMy answer comes from some rules of thumb like:\r\n\r\n> prefer *debian* for stability, prefer *slim* for smallness, use *alpine* when you want something just essential, but consider that you will have to compile everything yourself, with possible errors.\r\n\r\nAnyway, it was enough to search on docker hub, to compare for example on python 3.11:\r\n| image | Main CVEs | compressed size|\r\n| - | - | - |\r\n|[python:3.11-slim-bookworm](https://hub.docker.com/layers/library/python/3.11-slim-bookworm/images/sha256-ea2dcd43dcf76b35fec9976bb89e9e6e4d688ec95710b5eb3a9d65e6123f5b11) |1 H| ~46MB |\r\n|[python:3.11-alpine3.21](https://hub.docker.com/layers/library/python/3.11-alpine3.21/images/sha256-41713a75be5fddc59fec56ffa9d94cb803a4d2a1ca124593801865a6e1ca11b3) |1 H| ~20MB|\r\n\r\nSo I would say that from the security point of view there are no particular concerns. Finally, alpine team also state that [they care about safety](https://alpinelinux.org/about/#:~:text=who%20appreciate%20security) :) .\r\nThank you again",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1208218982",
    "pr_number": 8024,
    "pr_file": ".devcontainer/Dockerfile",
    "created_at": "2023-05-28T00:48:21+00:00",
    "commented_code": "+ARG IMAGE=bullseye",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "1208218982",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8024,
        "pr_file": ".devcontainer/Dockerfile",
        "discussion_id": "1208218982",
        "commented_code": "@@ -0,0 +1,10 @@\n+ARG IMAGE=bullseye",
        "comment_created_at": "2023-05-28T00:48:21+00:00",
        "comment_author": "eamanu",
        "comment_body": "using bulleye is for any particular reason?",
        "pr_file_module": null
      },
      {
        "comment_id": "1208255489",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8024,
        "pr_file": ".devcontainer/Dockerfile",
        "discussion_id": "1208218982",
        "commented_code": "@@ -0,0 +1,10 @@\n+ARG IMAGE=bullseye",
        "comment_created_at": "2023-05-28T02:14:40+00:00",
        "comment_author": "savannahostrowski",
        "comment_body": "Reading over things again, I realized I could simplify some things/ensure it's using the latest version of Python. I'm using the devcontainer images that Microsoft publishes to MCR.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1254856654",
    "pr_number": 8024,
    "pr_file": ".devcontainer/Dockerfile",
    "created_at": "2023-07-06T19:53:37+00:00",
    "commented_code": "+FROM mcr.microsoft.com/devcontainers/python:3",
    "repo_full_name": "python-poetry/poetry",
    "discussion_comments": [
      {
        "comment_id": "1254856654",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8024,
        "pr_file": ".devcontainer/Dockerfile",
        "discussion_id": "1254856654",
        "commented_code": "@@ -0,0 +1,9 @@\n+FROM mcr.microsoft.com/devcontainers/python:3",
        "comment_created_at": "2023-07-06T19:53:37+00:00",
        "comment_author": "joshspicer",
        "comment_body": "I'd suggest pinning to a base OS/distro so that this dev container continues to work even if the upstream OS changes (this happened recently with [the new version of debian](https://github.com/devcontainers/images/issues/607).  We often update our images fairly quickly with new distro releases, some upstream tools take a bit of time.\r\n\r\n```suggestion\r\nFROM mcr.microsoft.com/devcontainers/python:3-bullseye\r\n```\r\n\r\nor\r\n```suggestion\r\nFROM mcr.microsoft.com/devcontainers/python:3-bookworm\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "1254858059",
        "repo_full_name": "python-poetry/poetry",
        "pr_number": 8024,
        "pr_file": ".devcontainer/Dockerfile",
        "discussion_id": "1254856654",
        "commented_code": "@@ -0,0 +1,9 @@\n+FROM mcr.microsoft.com/devcontainers/python:3",
        "comment_created_at": "2023-07-06T19:55:11+00:00",
        "comment_author": "savannahostrowski",
        "comment_body": "Ouuu thank you! Will do!",
        "pr_file_module": null
      }
    ]
  }
]