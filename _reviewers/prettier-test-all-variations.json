[
  {
    "discussion_id": "2167912009",
    "pr_number": 17679,
    "pr_file": "tests/integration/plugins/preprocess/plugin.cjs",
    "created_at": "2025-06-26T01:29:10+00:00",
    "commented_code": "],\n   parsers: {\n     \"foo-parser\": {\n-      preprocess: (text) => `preprocessed:${text}`,\n+      preprocess: (text) => Promise.resolve(`preprocessed:${text}`),",
    "repo_full_name": "prettier/prettier",
    "discussion_comments": [
      {
        "comment_id": "2167912009",
        "repo_full_name": "prettier/prettier",
        "pr_number": 17679,
        "pr_file": "tests/integration/plugins/preprocess/plugin.cjs",
        "discussion_id": "2167912009",
        "commented_code": "@@ -11,14 +11,14 @@ module.exports = {\n   ],\n   parsers: {\n     \"foo-parser\": {\n-      preprocess: (text) => `preprocessed:${text}`,\n+      preprocess: (text) => Promise.resolve(`preprocessed:${text}`),",
        "comment_created_at": "2025-06-26T01:29:10+00:00",
        "comment_author": "sosukesuzuki",
        "comment_body": "If we don't have a test for non-promise besides this one, I think we should add a new test instead of modifying this one.",
        "pr_file_module": null
      },
      {
        "comment_id": "2167925444",
        "repo_full_name": "prettier/prettier",
        "pr_number": 17679,
        "pr_file": "tests/integration/plugins/preprocess/plugin.cjs",
        "discussion_id": "2167912009",
        "commented_code": "@@ -11,14 +11,14 @@ module.exports = {\n   ],\n   parsers: {\n     \"foo-parser\": {\n-      preprocess: (text) => `preprocessed:${text}`,\n+      preprocess: (text) => Promise.resolve(`preprocessed:${text}`),",
        "comment_created_at": "2025-06-26T01:45:21+00:00",
        "comment_author": "fisker",
        "comment_body": "[`0d3bae1` (#17679)](https://github.com/prettier/prettier/pull/17679/commits/0d3bae1b2ad5b46b07af65d93b6bb279324021a0)",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1451988913",
    "pr_number": 15888,
    "pr_file": "tests/format/js/import-attributes/__snapshots__/jsfmt.spec.js.snap",
    "created_at": "2024-01-15T07:03:59+00:00",
    "commented_code": "Cause: [1:32]: Unexpected token: 'with'\"\n `;\n \n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [acorn] format 1`] = `\n+\"Unexpected token (1:29)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                             ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: Unexpected token (1:28)\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [espree] format 1`] = `\n+\"Unexpected token with (1:29)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                             ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: Unexpected token with\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [meriyah] format 1`] = `\n+\"Unexpected token: 'with' (1:32)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                                ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: [1:32]: Unexpected token: 'with'\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} format 1`] = `\n+====================================options=====================================\n+parsers: [\"babel\", \"typescript\"]\n+printWidth: 80\n+quoteProps: \"consistent\"\n+                                                                                | printWidth\n+=====================================input======================================\n+import json from './mod.js' with { \"type\":\"json\" };\n+import json from './mod.js' with { \"foobar\":\"json\" };\n+import json from './mod.js' with { \"type-foo\" :\"json\" };\n+import json from './mod.js' with { \"333foo\" :\"json\" };\n+import json from './mod.js' with { \"0\" :\"json\" };\n+import json from './mod.js' with { \"0n\" :\"json\" };\n+import json from './mod.js' with { \"33333\" :\"json\" };\n+import json from './mod.js' with { \"33333n\" :\"json\" };\n+import json from './mod.js' with { \"33333b\" :\"json\" };\n+import json from './mod.js' with { \"03333\" :\"json\" };\n+\n+=====================================output=====================================\n+import json from \"./mod.js\" with { type: \"json\" };\n+import json from \"./mod.js\" with { foobar: \"json\" };\n+import json from \"./mod.js\" with { \"type-foo\": \"json\" };\n+import json from \"./mod.js\" with { \"333foo\": \"json\" };\n+import json from \"./mod.js\" with { \"0\": \"json\" };\n+import json from \"./mod.js\" with { \"0n\": \"json\" };\n+import json from \"./mod.js\" with { \"33333\": \"json\" };\n+import json from \"./mod.js\" with { \"33333n\": \"json\" };\n+import json from \"./mod.js\" with { \"33333b\": \"json\" };\n+import json from \"./mod.js\" with { \"03333\": \"json\" };",
    "repo_full_name": "prettier/prettier",
    "discussion_comments": [
      {
        "comment_id": "1451988913",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15888,
        "pr_file": "tests/format/js/import-attributes/__snapshots__/jsfmt.spec.js.snap",
        "discussion_id": "1451988913",
        "commented_code": "@@ -265,6 +505,69 @@ exports[`quoted-keys.js [meriyah] format 1`] = `\n Cause: [1:32]: Unexpected token: 'with'\"\n `;\n \n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [acorn] format 1`] = `\n+\"Unexpected token (1:29)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                             ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: Unexpected token (1:28)\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [espree] format 1`] = `\n+\"Unexpected token with (1:29)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                             ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: Unexpected token with\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [meriyah] format 1`] = `\n+\"Unexpected token: 'with' (1:32)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                                ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: [1:32]: Unexpected token: 'with'\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} format 1`] = `\n+====================================options=====================================\n+parsers: [\"babel\", \"typescript\"]\n+printWidth: 80\n+quoteProps: \"consistent\"\n+                                                                                | printWidth\n+=====================================input======================================\n+import json from './mod.js' with { \"type\":\"json\" };\n+import json from './mod.js' with { \"foobar\":\"json\" };\n+import json from './mod.js' with { \"type-foo\" :\"json\" };\n+import json from './mod.js' with { \"333foo\" :\"json\" };\n+import json from './mod.js' with { \"0\" :\"json\" };\n+import json from './mod.js' with { \"0n\" :\"json\" };\n+import json from './mod.js' with { \"33333\" :\"json\" };\n+import json from './mod.js' with { \"33333n\" :\"json\" };\n+import json from './mod.js' with { \"33333b\" :\"json\" };\n+import json from './mod.js' with { \"03333\" :\"json\" };\n+\n+=====================================output=====================================\n+import json from \"./mod.js\" with { type: \"json\" };\n+import json from \"./mod.js\" with { foobar: \"json\" };\n+import json from \"./mod.js\" with { \"type-foo\": \"json\" };\n+import json from \"./mod.js\" with { \"333foo\": \"json\" };\n+import json from \"./mod.js\" with { \"0\": \"json\" };\n+import json from \"./mod.js\" with { \"0n\": \"json\" };\n+import json from \"./mod.js\" with { \"33333\": \"json\" };\n+import json from \"./mod.js\" with { \"33333n\": \"json\" };\n+import json from \"./mod.js\" with { \"33333b\": \"json\" };\n+import json from \"./mod.js\" with { \"03333\": \"json\" };",
        "comment_created_at": "2024-01-15T07:03:59+00:00",
        "comment_author": "fisker",
        "comment_body": "I think we need more tests for different `--quote-props` options.",
        "pr_file_module": null
      },
      {
        "comment_id": "1468768371",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15888,
        "pr_file": "tests/format/js/import-attributes/__snapshots__/jsfmt.spec.js.snap",
        "discussion_id": "1451988913",
        "commented_code": "@@ -265,6 +505,69 @@ exports[`quoted-keys.js [meriyah] format 1`] = `\n Cause: [1:32]: Unexpected token: 'with'\"\n `;\n \n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [acorn] format 1`] = `\n+\"Unexpected token (1:29)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                             ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: Unexpected token (1:28)\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [espree] format 1`] = `\n+\"Unexpected token with (1:29)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                             ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: Unexpected token with\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} [meriyah] format 1`] = `\n+\"Unexpected token: 'with' (1:32)\n+> 1 | import json from './mod.js' with { \"type\":\"json\" };\n+    |                                ^\n+  2 | import json from './mod.js' with { \"foobar\":\"json\" };\n+  3 | import json from './mod.js' with { \"type-foo\" :\"json\" };\n+  4 | import json from './mod.js' with { \"333foo\" :\"json\" };\n+Cause: [1:32]: Unexpected token: 'with'\"\n+`;\n+\n+exports[`quoted-keys.js - {\"quoteProps\":\"consistent\"} format 1`] = `\n+====================================options=====================================\n+parsers: [\"babel\", \"typescript\"]\n+printWidth: 80\n+quoteProps: \"consistent\"\n+                                                                                | printWidth\n+=====================================input======================================\n+import json from './mod.js' with { \"type\":\"json\" };\n+import json from './mod.js' with { \"foobar\":\"json\" };\n+import json from './mod.js' with { \"type-foo\" :\"json\" };\n+import json from './mod.js' with { \"333foo\" :\"json\" };\n+import json from './mod.js' with { \"0\" :\"json\" };\n+import json from './mod.js' with { \"0n\" :\"json\" };\n+import json from './mod.js' with { \"33333\" :\"json\" };\n+import json from './mod.js' with { \"33333n\" :\"json\" };\n+import json from './mod.js' with { \"33333b\" :\"json\" };\n+import json from './mod.js' with { \"03333\" :\"json\" };\n+\n+=====================================output=====================================\n+import json from \"./mod.js\" with { type: \"json\" };\n+import json from \"./mod.js\" with { foobar: \"json\" };\n+import json from \"./mod.js\" with { \"type-foo\": \"json\" };\n+import json from \"./mod.js\" with { \"333foo\": \"json\" };\n+import json from \"./mod.js\" with { \"0\": \"json\" };\n+import json from \"./mod.js\" with { \"0n\": \"json\" };\n+import json from \"./mod.js\" with { \"33333\": \"json\" };\n+import json from \"./mod.js\" with { \"33333n\": \"json\" };\n+import json from \"./mod.js\" with { \"33333b\": \"json\" };\n+import json from \"./mod.js\" with { \"03333\": \"json\" };",
        "comment_created_at": "2024-01-28T06:57:15+00:00",
        "comment_author": "sosukesuzuki",
        "comment_body": "[b78e90f](https://github.com/prettier/prettier/pull/15888/commits/b78e90f25226056de6c869411e7aabaac402f940)",
        "pr_file_module": null
      }
    ]
  }
]