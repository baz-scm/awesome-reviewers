[
  {
    "discussion_id": "1443947497",
    "pr_number": 15885,
    "pr_file": ".vscode/settings.json",
    "created_at": "2024-01-07T07:05:58+00:00",
    "commented_code": null,
    "repo_full_name": "prettier/prettier",
    "discussion_comments": [
      {
        "comment_id": "1443947497",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": ".vscode/settings.json",
        "discussion_id": "1443947497",
        "commented_code": null,
        "comment_created_at": "2024-01-07T07:05:58+00:00",
        "comment_author": "liuxingbaoyu",
        "comment_body": "Some people may have custom settings, perhaps `settings.example.json`?",
        "pr_file_module": null
      },
      {
        "comment_id": "1444168967",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": ".vscode/settings.json",
        "discussion_id": "1443947497",
        "commented_code": null,
        "comment_created_at": "2024-01-08T04:41:59+00:00",
        "comment_author": "fisker",
        "comment_body": "Good point, I'm going to rename it as `settings.example.json`, and add a `prepare` script to copy to `settings.json` if it's not already exist.",
        "pr_file_module": null
      },
      {
        "comment_id": "1444177909",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": ".vscode/settings.json",
        "discussion_id": "1443947497",
        "commented_code": null,
        "comment_created_at": "2024-01-08T05:13:39+00:00",
        "comment_author": "liuxingbaoyu",
        "comment_body": "Good idea!",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1444234272",
    "pr_number": 15885,
    "pr_file": "package.json",
    "created_at": "2024-01-08T07:17:18+00:00",
    "commented_code": "\"build\": \"node ./scripts/build/build.js\",\n     \"build:website\": \"node ./scripts/build-website.js\",\n     \"gen:changelog\": \"node ./scripts/generate-changelog.js\",\n-    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\"\n+    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\",\n+    \"postinstall\": \"node -e \\\"try{fs.existsSync('.vscode/settings.json')||fs.writeFileSync('.vscode/settings.json',fs.readFileSync('.vscode/settings.example.json'))}catch(_){}\\\"\"",
    "repo_full_name": "prettier/prettier",
    "discussion_comments": [
      {
        "comment_id": "1444234272",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": "package.json",
        "discussion_id": "1444234272",
        "commented_code": "@@ -184,7 +184,8 @@\n     \"build\": \"node ./scripts/build/build.js\",\n     \"build:website\": \"node ./scripts/build-website.js\",\n     \"gen:changelog\": \"node ./scripts/generate-changelog.js\",\n-    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\"\n+    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\",\n+    \"postinstall\": \"node -e \\\"try{fs.existsSync('.vscode/settings.json')||fs.writeFileSync('.vscode/settings.json',fs.readFileSync('.vscode/settings.example.json'))}catch(_){}\\\"\"",
        "comment_created_at": "2024-01-08T07:17:18+00:00",
        "comment_author": "fisker",
        "comment_body": "Turns out we can't use an extra script file to copy the file, because this will run when `yarn install prettier@prettier/prettier`",
        "pr_file_module": null
      },
      {
        "comment_id": "1444239062",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": "package.json",
        "discussion_id": "1444234272",
        "commented_code": "@@ -184,7 +184,8 @@\n     \"build\": \"node ./scripts/build/build.js\",\n     \"build:website\": \"node ./scripts/build-website.js\",\n     \"gen:changelog\": \"node ./scripts/generate-changelog.js\",\n-    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\"\n+    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\",\n+    \"postinstall\": \"node -e \\\"try{fs.existsSync('.vscode/settings.json')||fs.writeFileSync('.vscode/settings.json',fs.readFileSync('.vscode/settings.example.json'))}catch(_){}\\\"\"",
        "comment_created_at": "2024-01-08T07:26:05+00:00",
        "comment_author": "liuxingbaoyu",
        "comment_body": "Is there any reason we don't use `prepare`?",
        "pr_file_module": null
      },
      {
        "comment_id": "1444244460",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": "package.json",
        "discussion_id": "1444234272",
        "commented_code": "@@ -184,7 +184,8 @@\n     \"build\": \"node ./scripts/build/build.js\",\n     \"build:website\": \"node ./scripts/build-website.js\",\n     \"gen:changelog\": \"node ./scripts/generate-changelog.js\",\n-    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\"\n+    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\",\n+    \"postinstall\": \"node -e \\\"try{fs.existsSync('.vscode/settings.json')||fs.writeFileSync('.vscode/settings.json',fs.readFileSync('.vscode/settings.example.json'))}catch(_){}\\\"\"",
        "comment_created_at": "2024-01-08T07:34:47+00:00",
        "comment_author": "fisker",
        "comment_body": "yarn>=2 don't run `prepare`.",
        "pr_file_module": null
      },
      {
        "comment_id": "1444256882",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": "package.json",
        "discussion_id": "1444234272",
        "commented_code": "@@ -184,7 +184,8 @@\n     \"build\": \"node ./scripts/build/build.js\",\n     \"build:website\": \"node ./scripts/build-website.js\",\n     \"gen:changelog\": \"node ./scripts/generate-changelog.js\",\n-    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\"\n+    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\",\n+    \"postinstall\": \"node -e \\\"try{fs.existsSync('.vscode/settings.json')||fs.writeFileSync('.vscode/settings.json',fs.readFileSync('.vscode/settings.example.json'))}catch(_){}\\\"\"",
        "comment_created_at": "2024-01-08T07:54:10+00:00",
        "comment_author": "liuxingbaoyu",
        "comment_body": "I am surprised, which means that the `prepare` in the Babel repo did not work as expected.\r\nBut when we use Yarn 4, maybe we can use it to complete this.\r\nhttps://yarnpkg.com/configuration/yarnrc#enableConstraintschecks",
        "pr_file_module": null
      },
      {
        "comment_id": "1444263291",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": "package.json",
        "discussion_id": "1444234272",
        "commented_code": "@@ -184,7 +184,8 @@\n     \"build\": \"node ./scripts/build/build.js\",\n     \"build:website\": \"node ./scripts/build-website.js\",\n     \"gen:changelog\": \"node ./scripts/generate-changelog.js\",\n-    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\"\n+    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\",\n+    \"postinstall\": \"node -e \\\"try{fs.existsSync('.vscode/settings.json')||fs.writeFileSync('.vscode/settings.json',fs.readFileSync('.vscode/settings.example.json'))}catch(_){}\\\"\"",
        "comment_created_at": "2024-01-08T08:03:18+00:00",
        "comment_author": "fisker",
        "comment_body": "I don't understand how `enableConstraintschecks` can do this. But yarn plugin should be able to do it.",
        "pr_file_module": null
      },
      {
        "comment_id": "1444264759",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": "package.json",
        "discussion_id": "1444234272",
        "commented_code": "@@ -184,7 +184,8 @@\n     \"build\": \"node ./scripts/build/build.js\",\n     \"build:website\": \"node ./scripts/build-website.js\",\n     \"gen:changelog\": \"node ./scripts/generate-changelog.js\",\n-    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\"\n+    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\",\n+    \"postinstall\": \"node -e \\\"try{fs.existsSync('.vscode/settings.json')||fs.writeFileSync('.vscode/settings.json',fs.readFileSync('.vscode/settings.example.json'))}catch(_){}\\\"\"",
        "comment_created_at": "2024-01-08T08:05:24+00:00",
        "comment_author": "liuxingbaoyu",
        "comment_body": "When `EnableConstraintschecks` is true, Yarn runs every time `yarn.config.cjs`.\r\nhttps://github.com/babel/babel/blob/main/yarn.config.cjs",
        "pr_file_module": null
      },
      {
        "comment_id": "1444300943",
        "repo_full_name": "prettier/prettier",
        "pr_number": 15885,
        "pr_file": "package.json",
        "discussion_id": "1444234272",
        "commented_code": "@@ -184,7 +184,8 @@\n     \"build\": \"node ./scripts/build/build.js\",\n     \"build:website\": \"node ./scripts/build-website.js\",\n     \"gen:changelog\": \"node ./scripts/generate-changelog.js\",\n-    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\"\n+    \"debug\": \"node bin/prettier.js --ignore-path=.prettierignore\",\n+    \"postinstall\": \"node -e \\\"try{fs.existsSync('.vscode/settings.json')||fs.writeFileSync('.vscode/settings.json',fs.readFileSync('.vscode/settings.example.json'))}catch(_){}\\\"\"",
        "comment_created_at": "2024-01-08T08:50:53+00:00",
        "comment_author": "fisker",
        "comment_body": "I'm going to use yarn plugin instead. Since we don't want add `yarn.config.cjs` for this.",
        "pr_file_module": null
      }
    ]
  }
]