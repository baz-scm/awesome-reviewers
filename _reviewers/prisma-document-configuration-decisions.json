[
  {
    "discussion_id": "1071558696",
    "pr_number": 17352,
    "pr_file": ".github/workflows/local-pr.yaml",
    "created_at": "2023-01-16T20:19:14+00:00",
    "commented_code": "+name: \"Local PR\"\n+run-name: \"Local PR requested for #${{ github.event.issue.number }} by @${{ github.actor }}\"\n+\n+on:\n+  issue_comment:\n+    types: [created]\n+\n+jobs:\n+  pr_commented:\n+    name: Identify comment source\n+    if: ${{ github.event.issue.pull_request }} || ${{ github.event.issue.state == 'open' }}\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Comment came from Pull Request\n+        run: echo \"Pull request check succeeded.\"\n+\n+  check_user_permission:\n+    runs-on: ubuntu-latest\n+    name: Check permissions\n+    needs: [pr_commented]\n+    steps:\n+      # Check for write permission\n+      - name: Check write permission\n+        id: check\n+        uses: actions-cool/check-user-permission@v2\n+        with:\n+          require: write\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.pat }}",
    "repo_full_name": "prisma/prisma",
    "discussion_comments": [
      {
        "comment_id": "1071558696",
        "repo_full_name": "prisma/prisma",
        "pr_number": 17352,
        "pr_file": ".github/workflows/local-pr.yaml",
        "discussion_id": "1071558696",
        "commented_code": "@@ -0,0 +1,171 @@\n+name: \"Local PR\"\n+run-name: \"Local PR requested for #${{ github.event.issue.number }} by @${{ github.actor }}\"\n+\n+on:\n+  issue_comment:\n+    types: [created]\n+\n+jobs:\n+  pr_commented:\n+    name: Identify comment source\n+    if: ${{ github.event.issue.pull_request }} || ${{ github.event.issue.state == 'open' }}\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Comment came from Pull Request\n+        run: echo \"Pull request check succeeded.\"\n+\n+  check_user_permission:\n+    runs-on: ubuntu-latest\n+    name: Check permissions\n+    needs: [pr_commented]\n+    steps:\n+      # Check for write permission\n+      - name: Check write permission\n+        id: check\n+        uses: actions-cool/check-user-permission@v2\n+        with:\n+          require: write\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.pat }}",
        "comment_created_at": "2023-01-16T20:19:14+00:00",
        "comment_author": "janpio",
        "comment_body": "Does this default to the person that created the comment?",
        "pr_file_module": null
      },
      {
        "comment_id": "1071559474",
        "repo_full_name": "prisma/prisma",
        "pr_number": 17352,
        "pr_file": ".github/workflows/local-pr.yaml",
        "discussion_id": "1071558696",
        "commented_code": "@@ -0,0 +1,171 @@\n+name: \"Local PR\"\n+run-name: \"Local PR requested for #${{ github.event.issue.number }} by @${{ github.actor }}\"\n+\n+on:\n+  issue_comment:\n+    types: [created]\n+\n+jobs:\n+  pr_commented:\n+    name: Identify comment source\n+    if: ${{ github.event.issue.pull_request }} || ${{ github.event.issue.state == 'open' }}\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Comment came from Pull Request\n+        run: echo \"Pull request check succeeded.\"\n+\n+  check_user_permission:\n+    runs-on: ubuntu-latest\n+    name: Check permissions\n+    needs: [pr_commented]\n+    steps:\n+      # Check for write permission\n+      - name: Check write permission\n+        id: check\n+        uses: actions-cool/check-user-permission@v2\n+        with:\n+          require: write\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.pat }}",
        "comment_created_at": "2023-01-16T20:21:04+00:00",
        "comment_author": "DavidHancu",
        "comment_body": "Yes.",
        "pr_file_module": null
      },
      {
        "comment_id": "1071560216",
        "repo_full_name": "prisma/prisma",
        "pr_number": 17352,
        "pr_file": ".github/workflows/local-pr.yaml",
        "discussion_id": "1071558696",
        "commented_code": "@@ -0,0 +1,171 @@\n+name: \"Local PR\"\n+run-name: \"Local PR requested for #${{ github.event.issue.number }} by @${{ github.actor }}\"\n+\n+on:\n+  issue_comment:\n+    types: [created]\n+\n+jobs:\n+  pr_commented:\n+    name: Identify comment source\n+    if: ${{ github.event.issue.pull_request }} || ${{ github.event.issue.state == 'open' }}\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Comment came from Pull Request\n+        run: echo \"Pull request check succeeded.\"\n+\n+  check_user_permission:\n+    runs-on: ubuntu-latest\n+    name: Check permissions\n+    needs: [pr_commented]\n+    steps:\n+      # Check for write permission\n+      - name: Check write permission\n+        id: check\n+        uses: actions-cool/check-user-permission@v2\n+        with:\n+          require: write\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.pat }}",
        "comment_created_at": "2023-01-16T20:22:48+00:00",
        "comment_author": "DavidHancu",
        "comment_body": "Under the hood, it uses `context.actor`, which is the user that triggered this workflow to run. (in this case, it is the user that left a comment)",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1452447328",
    "pr_number": 22430,
    "pr_file": ".github/workflows/test-template.yml",
    "created_at": "2024-01-15T14:30:56+00:00",
    "commented_code": "# Fails if set to true\n           skip-tsc: false\n \n+      - name: Get Preview Features\n+        id: gpf\n+        run: ./.github/workflows/scripts/get-preview-features.js\n+        env:\n+          PREVIEW_FEATURE_SET: ${{ matrix.previewFeatureSet }}\n+          EXCLUDED_PREVIEW_FEATURES: 'driverAdapters'",
    "repo_full_name": "prisma/prisma",
    "discussion_comments": [
      {
        "comment_id": "1452447328",
        "repo_full_name": "prisma/prisma",
        "pr_number": 22430,
        "pr_file": ".github/workflows/test-template.yml",
        "discussion_id": "1452447328",
        "commented_code": "@@ -141,8 +142,15 @@ jobs:\n           # Fails if set to true\n           skip-tsc: false\n \n+      - name: Get Preview Features\n+        id: gpf\n+        run: ./.github/workflows/scripts/get-preview-features.js\n+        env:\n+          PREVIEW_FEATURE_SET: ${{ matrix.previewFeatureSet }}\n+          EXCLUDED_PREVIEW_FEATURES: 'driverAdapters'",
        "comment_created_at": "2024-01-15T14:30:56+00:00",
        "comment_author": "Jolg42",
        "comment_body": "```suggestion\r\n          # Driver adapters are a special feature, \r\n          # so in our \"normal\" tests, we don't enable it yet to keep things separated, \r\n          # also because they are tested in a separate job.\r\n          EXCLUDED_PREVIEW_FEATURES: 'driverAdapters'\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1452449993",
    "pr_number": 22430,
    "pr_file": ".github/workflows/test-template.yml",
    "created_at": "2024-01-15T14:33:15+00:00",
    "commented_code": "engine-hash: ${{ inputs.engineHash }}\n           skip-tsc: false\n \n-      - run: pnpm run test:functional --adapter ${{ matrix.adapter }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --preview-features ${{ matrix.previewFeatures }} --runInBand\n+      - name: Get Preview Features\n+        id: gpf\n+        run: ./.github/workflows/scripts/get-preview-features.js\n+        env:\n+          PREVIEW_FEATURE_SET: ${{ matrix.previewFeatureSet }}\n+          INCLUDED_PREVIEW_FEATURES: driverAdapters\n+          EXCLUDED_PREVIEW_FEATURES: ${{ matrix.engine-type == 'wasm' && 'relationJoins' || '' }}",
    "repo_full_name": "prisma/prisma",
    "discussion_comments": [
      {
        "comment_id": "1452449993",
        "repo_full_name": "prisma/prisma",
        "pr_number": 22430,
        "pr_file": ".github/workflows/test-template.yml",
        "discussion_id": "1452449993",
        "commented_code": "@@ -280,7 +294,15 @@ jobs:\n           engine-hash: ${{ inputs.engineHash }}\n           skip-tsc: false\n \n-      - run: pnpm run test:functional --adapter ${{ matrix.adapter }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --preview-features ${{ matrix.previewFeatures }} --runInBand\n+      - name: Get Preview Features\n+        id: gpf\n+        run: ./.github/workflows/scripts/get-preview-features.js\n+        env:\n+          PREVIEW_FEATURE_SET: ${{ matrix.previewFeatureSet }}\n+          INCLUDED_PREVIEW_FEATURES: driverAdapters\n+          EXCLUDED_PREVIEW_FEATURES: ${{ matrix.engine-type == 'wasm' && 'relationJoins' || '' }}",
        "comment_created_at": "2024-01-15T14:33:15+00:00",
        "comment_author": "Jolg42",
        "comment_body": "```suggestion\r\n         # Exclude relationJoins tests with WASM because the WASM engine does not include the necessary changes yet.\r\n          EXCLUDED_PREVIEW_FEATURES: ${{ matrix.engine-type == 'wasm' && 'relationJoins' || '' }}\r\n```\r\nthis was the comment that existed before",
        "pr_file_module": null
      }
    ]
  }
]