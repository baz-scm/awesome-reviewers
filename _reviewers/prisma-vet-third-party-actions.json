[
  {
    "discussion_id": "1071560024",
    "pr_number": 17352,
    "pr_file": ".github/workflows/local-pr.yaml",
    "created_at": "2023-01-16T20:22:24+00:00",
    "commented_code": "+name: \"Local PR\"\n+run-name: \"Local PR requested for #${{ github.event.issue.number }} by @${{ github.actor }}\"\n+\n+on:\n+  issue_comment:\n+    types: [created]\n+\n+jobs:\n+  pr_commented:\n+    name: Identify comment source\n+    if: ${{ github.event.issue.pull_request }} || ${{ github.event.issue.state == 'open' }}\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Comment came from Pull Request\n+        run: echo \"Pull request check succeeded.\"\n+\n+  check_user_permission:\n+    runs-on: ubuntu-latest\n+    name: Check permissions\n+    needs: [pr_commented]\n+    steps:\n+      # Check for write permission\n+      - name: Check write permission\n+        id: check\n+        uses: actions-cool/check-user-permission@v2",
    "repo_full_name": "prisma/prisma",
    "discussion_comments": [
      {
        "comment_id": "1071560024",
        "repo_full_name": "prisma/prisma",
        "pr_number": 17352,
        "pr_file": ".github/workflows/local-pr.yaml",
        "discussion_id": "1071560024",
        "commented_code": "@@ -0,0 +1,171 @@\n+name: \"Local PR\"\n+run-name: \"Local PR requested for #${{ github.event.issue.number }} by @${{ github.actor }}\"\n+\n+on:\n+  issue_comment:\n+    types: [created]\n+\n+jobs:\n+  pr_commented:\n+    name: Identify comment source\n+    if: ${{ github.event.issue.pull_request }} || ${{ github.event.issue.state == 'open' }}\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Comment came from Pull Request\n+        run: echo \"Pull request check succeeded.\"\n+\n+  check_user_permission:\n+    runs-on: ubuntu-latest\n+    name: Check permissions\n+    needs: [pr_commented]\n+    steps:\n+      # Check for write permission\n+      - name: Check write permission\n+        id: check\n+        uses: actions-cool/check-user-permission@v2",
        "comment_created_at": "2023-01-16T20:22:24+00:00",
        "comment_author": "janpio",
        "comment_body": "We probably want to review this for a) what it does with the token and b) if it really checks for write permissions properly on the repo for the supplied (or currently default) user.",
        "pr_file_module": null
      },
      {
        "comment_id": "1071563698",
        "repo_full_name": "prisma/prisma",
        "pr_number": 17352,
        "pr_file": ".github/workflows/local-pr.yaml",
        "discussion_id": "1071560024",
        "commented_code": "@@ -0,0 +1,171 @@\n+name: \"Local PR\"\n+run-name: \"Local PR requested for #${{ github.event.issue.number }} by @${{ github.actor }}\"\n+\n+on:\n+  issue_comment:\n+    types: [created]\n+\n+jobs:\n+  pr_commented:\n+    name: Identify comment source\n+    if: ${{ github.event.issue.pull_request }} || ${{ github.event.issue.state == 'open' }}\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Comment came from Pull Request\n+        run: echo \"Pull request check succeeded.\"\n+\n+  check_user_permission:\n+    runs-on: ubuntu-latest\n+    name: Check permissions\n+    needs: [pr_commented]\n+    steps:\n+      # Check for write permission\n+      - name: Check write permission\n+        id: check\n+        uses: actions-cool/check-user-permission@v2",
        "comment_created_at": "2023-01-16T20:30:54+00:00",
        "comment_author": "DavidHancu",
        "comment_body": "It is not required to supply a PAT for this action.",
        "pr_file_module": null
      },
      {
        "comment_id": "1071592761",
        "repo_full_name": "prisma/prisma",
        "pr_number": 17352,
        "pr_file": ".github/workflows/local-pr.yaml",
        "discussion_id": "1071560024",
        "commented_code": "@@ -0,0 +1,171 @@\n+name: \"Local PR\"\n+run-name: \"Local PR requested for #${{ github.event.issue.number }} by @${{ github.actor }}\"\n+\n+on:\n+  issue_comment:\n+    types: [created]\n+\n+jobs:\n+  pr_commented:\n+    name: Identify comment source\n+    if: ${{ github.event.issue.pull_request }} || ${{ github.event.issue.state == 'open' }}\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Comment came from Pull Request\n+        run: echo \"Pull request check succeeded.\"\n+\n+  check_user_permission:\n+    runs-on: ubuntu-latest\n+    name: Check permissions\n+    needs: [pr_commented]\n+    steps:\n+      # Check for write permission\n+      - name: Check write permission\n+        id: check\n+        uses: actions-cool/check-user-permission@v2",
        "comment_created_at": "2023-01-16T21:41:26+00:00",
        "comment_author": "DavidHancu",
        "comment_body": "I've removed the PAT from the permission check and added a test to the testing repository for correct permission checking.",
        "pr_file_module": null
      }
    ]
  }
]