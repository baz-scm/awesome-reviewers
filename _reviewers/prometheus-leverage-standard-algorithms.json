[
  {
    "discussion_id": "2108125504",
    "pr_number": 16488,
    "pr_file": "scripts/update_go_version.sh",
    "created_at": "2025-05-27T04:18:02+00:00",
    "commented_code": "+#!/usr/bin/env bash\n+#\n+# Update Go version across the Prometheus project (minor version bump only).\n+# Run from repository root.\n+set -euo pipefail\n+\n+# Get current Go version from go.mod and calculate next minor version\n+current_full_version=$(go mod edit -json go.mod | jq -r .Go)\n+# Extract major & minor\n+major=${current_full_version%%.*}                                # \"1\"\n+minor=${current_full_version#*.}; minor=${minor%%.*}            # \"23\"",
    "repo_full_name": "prometheus/prometheus",
    "discussion_comments": [
      {
        "comment_id": "2108125504",
        "repo_full_name": "prometheus/prometheus",
        "pr_number": 16488,
        "pr_file": "scripts/update_go_version.sh",
        "discussion_id": "2108125504",
        "commented_code": "@@ -0,0 +1,39 @@\n+#!/usr/bin/env bash\n+#\n+# Update Go version across the Prometheus project (minor version bump only).\n+# Run from repository root.\n+set -euo pipefail\n+\n+# Get current Go version from go.mod and calculate next minor version\n+current_full_version=$(go mod edit -json go.mod | jq -r .Go)\n+# Extract major & minor\n+major=${current_full_version%%.*}                                # \"1\"\n+minor=${current_full_version#*.}; minor=${minor%%.*}            # \"23\"",
        "comment_created_at": "2025-05-27T04:18:02+00:00",
        "comment_author": "machine424",
        "comment_body": "not: we can also, in one line do\r\n`IFS='.' read -r major minor _ <<< \"$(go mod edit -json go.mod | jq -r .Go)\"`",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1793882866",
    "pr_number": 15106,
    "pr_file": "scripts/check-runtime-versions.sh",
    "created_at": "2024-10-09T17:13:22+00:00",
    "commented_code": "+#!/usr/bin/env bash\n+\n+# Required minimum versions.\n+REQUIRED_GO_VERSION=$(grep 'version:' .promu.yml | awk '{print $2}')\n+REQUIRED_NODE_VERSION=$(cat web/ui/.nvmrc | tr -d '\\r' | sed 's/v//')\n+\n+# Function to compare versions (checks if version A >= version B).\n+compare_versions() {",
    "repo_full_name": "prometheus/prometheus",
    "discussion_comments": [
      {
        "comment_id": "1793882866",
        "repo_full_name": "prometheus/prometheus",
        "pr_number": 15106,
        "pr_file": "scripts/check-runtime-versions.sh",
        "discussion_id": "1793882866",
        "commented_code": "@@ -0,0 +1,49 @@\n+#!/usr/bin/env bash\n+\n+# Required minimum versions.\n+REQUIRED_GO_VERSION=$(grep 'version:' .promu.yml | awk '{print $2}')\n+REQUIRED_NODE_VERSION=$(cat web/ui/.nvmrc | tr -d '\\r' | sed 's/v//')\n+\n+# Function to compare versions (checks if version A >= version B).\n+compare_versions() {",
        "comment_created_at": "2024-10-09T17:13:22+00:00",
        "comment_author": "machine424",
        "comment_body": "I think sth with `if ! echo -e \"${min_version}\\n${version}\" | sort --version-sort --check=silent; then...` should be sufficient.",
        "pr_file_module": null
      },
      {
        "comment_id": "1798295767",
        "repo_full_name": "prometheus/prometheus",
        "pr_number": 15106,
        "pr_file": "scripts/check-runtime-versions.sh",
        "discussion_id": "1793882866",
        "commented_code": "@@ -0,0 +1,49 @@\n+#!/usr/bin/env bash\n+\n+# Required minimum versions.\n+REQUIRED_GO_VERSION=$(grep 'version:' .promu.yml | awk '{print $2}')\n+REQUIRED_NODE_VERSION=$(cat web/ui/.nvmrc | tr -d '\\r' | sed 's/v//')\n+\n+# Function to compare versions (checks if version A >= version B).\n+compare_versions() {",
        "comment_created_at": "2024-10-13T12:16:55+00:00",
        "comment_author": "prathamjagga",
        "comment_body": "Thanks for the suggestion. I made the checks one liners.",
        "pr_file_module": null
      }
    ]
  }
]