[
  {
    "discussion_id": "2067263245",
    "pr_number": 16488,
    "pr_file": "scripts/update_go_version.sh",
    "created_at": "2025-04-29T19:52:20+00:00",
    "commented_code": "+#!/usr/bin/env bash\n+#\n+# Update Go version across the Prometheus project.\n+# Run from repository root.\n+set -e\n+set -u\n+\n+if ! [[ \"$0\" =~ \"scripts/update_go_version.sh\" ]]; then\n+  echo \"must be run from repository root\"\n+  exit 255\n+fi\n+\n+if [ \"$#\" -ne 2 ]; then\n+  echo \"Usage: $0 <current_version> <new_version>\"\n+  echo \"Example: $0 1.22 1.23\"\n+  exit 1\n+fi\n+\n+CURRENT_VERSION=$1\n+NEW_VERSION=$2\n+\n+echo \"Updating Go version from ${CURRENT_VERSION} to ${NEW_VERSION}\"\n+\n+# Update .promu.yml\n+sed -i.bak -E \"s/^([[:space:]]*version:[[:space:]]*)[0-9]+\\.[0-9]+/\\1${NEW_VERSION}/\" .promu.yml\n+\n+# Update go.mod\n+sed -i.bak -E \"s/^go [0-9]+\\.[0-9]+\\.[0-9]+$/go ${CURRENT_VERSION}.0/\" go.mod",
    "repo_full_name": "prometheus/prometheus",
    "discussion_comments": [
      {
        "comment_id": "2067263245",
        "repo_full_name": "prometheus/prometheus",
        "pr_number": 16488,
        "pr_file": "scripts/update_go_version.sh",
        "discussion_id": "2067263245",
        "commented_code": "@@ -0,0 +1,53 @@\n+#!/usr/bin/env bash\n+#\n+# Update Go version across the Prometheus project.\n+# Run from repository root.\n+set -e\n+set -u\n+\n+if ! [[ \"$0\" =~ \"scripts/update_go_version.sh\" ]]; then\n+  echo \"must be run from repository root\"\n+  exit 255\n+fi\n+\n+if [ \"$#\" -ne 2 ]; then\n+  echo \"Usage: $0 <current_version> <new_version>\"\n+  echo \"Example: $0 1.22 1.23\"\n+  exit 1\n+fi\n+\n+CURRENT_VERSION=$1\n+NEW_VERSION=$2\n+\n+echo \"Updating Go version from ${CURRENT_VERSION} to ${NEW_VERSION}\"\n+\n+# Update .promu.yml\n+sed -i.bak -E \"s/^([[:space:]]*version:[[:space:]]*)[0-9]+\\.[0-9]+/\\1${NEW_VERSION}/\" .promu.yml\n+\n+# Update go.mod\n+sed -i.bak -E \"s/^go [0-9]+\\.[0-9]+\\.[0-9]+$/go ${CURRENT_VERSION}.0/\" go.mod",
        "comment_created_at": "2025-04-29T19:52:20+00:00",
        "comment_author": "machine424",
        "comment_body": "let's use `go mod edit -go=` for those.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1793899003",
    "pr_number": 15106,
    "pr_file": "scripts/check-runtime-versions.sh",
    "created_at": "2024-10-09T17:25:58+00:00",
    "commented_code": "+#!/usr/bin/env bash\n+\n+# Required minimum versions.\n+REQUIRED_GO_VERSION=$(grep 'version:' .promu.yml | awk '{print $2}')",
    "repo_full_name": "prometheus/prometheus",
    "discussion_comments": [
      {
        "comment_id": "1793899003",
        "repo_full_name": "prometheus/prometheus",
        "pr_number": 15106,
        "pr_file": "scripts/check-runtime-versions.sh",
        "discussion_id": "1793899003",
        "commented_code": "@@ -0,0 +1,49 @@\n+#!/usr/bin/env bash\n+\n+# Required minimum versions.\n+REQUIRED_GO_VERSION=$(grep 'version:' .promu.yml | awk '{print $2}')",
        "comment_created_at": "2024-10-09T17:25:58+00:00",
        "comment_author": "machine424",
        "comment_body": "`awk '/^go / {print $2}' go.mod` is an alternative (if we want to keep the check for Go)",
        "pr_file_module": null
      },
      {
        "comment_id": "1798296355",
        "repo_full_name": "prometheus/prometheus",
        "pr_number": 15106,
        "pr_file": "scripts/check-runtime-versions.sh",
        "discussion_id": "1793899003",
        "commented_code": "@@ -0,0 +1,49 @@\n+#!/usr/bin/env bash\n+\n+# Required minimum versions.\n+REQUIRED_GO_VERSION=$(grep 'version:' .promu.yml | awk '{print $2}')",
        "comment_created_at": "2024-10-13T12:18:06+00:00",
        "comment_author": "prathamjagga",
        "comment_body": "Yeah used this now.",
        "pr_file_module": null
      }
    ]
  }
]