[
  {
    "discussion_id": "1953040161",
    "pr_number": 12925,
    "pr_file": "packages/react-router-dev/bin.js",
    "created_at": "2025-02-12T16:45:02+00:00",
    "commented_code": "// default `NODE_ENV` so React loads the proper version in it's CJS entry script.\n // We have to do this before importing `run.ts` since that is what imports\n // `react` (indirectly via `react-router`)\n-let args = arg({}, { argv: process.argv.slice(2), stopAtPositional: true });\n-if (args._[0] === \"dev\") {\n+let args = arg({}, { argv: process.argv.slice(2), permissive: true });",
    "repo_full_name": "remix-run/react-router",
    "discussion_comments": [
      {
        "comment_id": "1953040161",
        "repo_full_name": "remix-run/react-router",
        "pr_number": 12925,
        "pr_file": "packages/react-router-dev/bin.js",
        "discussion_id": "1953040161",
        "commented_code": "@@ -5,8 +5,8 @@ let arg = require(\"arg\");\n // default `NODE_ENV` so React loads the proper version in it's CJS entry script.\n // We have to do this before importing `run.ts` since that is what imports\n // `react` (indirectly via `react-router`)\n-let args = arg({}, { argv: process.argv.slice(2), stopAtPositional: true });\n-if (args._[0] === \"dev\") {\n+let args = arg({}, { argv: process.argv.slice(2), permissive: true });",
        "comment_created_at": "2025-02-12T16:45:02+00:00",
        "comment_author": "pcattori",
        "comment_body": "`argv` [already defaults to `process.argv.slice(2)`](https://github.com/vercel/arg?tab=readme-ov-file#usage), so we could remove that\r\n\r\n```suggestion\r\nlet args = arg({}, { permissive: true });\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1552227265",
    "pr_number": 11406,
    "pr_file": "packages/react-router-dom-v5-compat/rollup.config.js",
    "created_at": "2024-04-04T18:30:35+00:00",
    "commented_code": "sourcemap: !PRETTY,\n         banner: createBanner(\"React Router DOM v5 Compat\", version),\n       },\n-      external: [\n-        \"history\",\n-        \"@remix-run/router\",\n-        \"react\",\n-        \"react-dom\",\n-        \"react-router\",\n-        \"react-router-dom\",\n-      ],\n+      external: (id) => isBareModuleId(id),",
    "repo_full_name": "remix-run/react-router",
    "discussion_comments": [
      {
        "comment_id": "1552227265",
        "repo_full_name": "remix-run/react-router",
        "pr_number": 11406,
        "pr_file": "packages/react-router-dom-v5-compat/rollup.config.js",
        "discussion_id": "1552227265",
        "commented_code": "@@ -29,26 +30,16 @@ module.exports = function rollup() {\n         sourcemap: !PRETTY,\n         banner: createBanner(\"React Router DOM v5 Compat\", version),\n       },\n-      external: [\n-        \"history\",\n-        \"@remix-run/router\",\n-        \"react\",\n-        \"react-dom\",\n-        \"react-router\",\n-        \"react-router-dom\",\n-      ],\n+      external: (id) => isBareModuleId(id),",
        "comment_created_at": "2024-04-04T18:30:35+00:00",
        "comment_author": "brophdawg11",
        "comment_body": "Externalize all `node_modules` deps like we did in Remix, instead of maintaining a manual list",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1533232730",
    "pr_number": 11358,
    "pr_file": "packages/react-router-native/jest.config.js",
    "created_at": "2024-03-21T04:28:28+00:00",
    "commented_code": "globals: {\n     __DEV__: true,\n   },\n-  modulePaths: [\n-    \"<rootDir>/node_modules\", // for react-native\n-  ],\n+  transformIgnorePatterns: [],",
    "repo_full_name": "remix-run/react-router",
    "discussion_comments": [
      {
        "comment_id": "1533232730",
        "repo_full_name": "remix-run/react-router",
        "pr_number": 11358,
        "pr_file": "packages/react-router-native/jest.config.js",
        "discussion_id": "1533232730",
        "commented_code": "@@ -8,9 +8,7 @@ module.exports = {\n   globals: {\n     __DEV__: true,\n   },\n-  modulePaths: [\n-    \"<rootDir>/node_modules\", // for react-native\n-  ],\n+  transformIgnorePatterns: [],",
        "comment_created_at": "2024-03-21T04:28:28+00:00",
        "comment_author": "markdalgleish",
        "comment_body": "The `modulePaths` option as configured didn't work with pnpm's folder structure. A simpler way to solve the same problem is to simply tell Jest to transform everything.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1567501744",
    "pr_number": 11442,
    "pr_file": "scripts/version.js",
    "created_at": "2024-04-16T14:50:46+00:00",
    "commented_code": "if (answer === false) return 0;",
    "repo_full_name": "remix-run/react-router",
    "discussion_comments": [
      {
        "comment_id": "1567501744",
        "repo_full_name": "remix-run/react-router",
        "pr_number": 11442,
        "pr_file": "scripts/version.js",
        "discussion_id": "1567501744",
        "commented_code": "@@ -76,59 +68,34 @@ async function run() {\n \n     if (answer === false) return 0;",
        "comment_created_at": "2024-04-16T14:50:46+00:00",
        "comment_author": "brophdawg11",
        "comment_body": "If it's true we only use this for experimentals now, we might be able to shed some more stuff in here:\r\n\r\n* This prompt stuff (step 2) isn't necessary since we're using `--skip-prompt`, so we could remove that CLI flag and this code\r\n* The manual version bump above (`if (version == null)`) I think is no longer needed since we'll _always_ provide a version as a CLI arg?\r\n* I think all the `isSnapshotVersion` conditionals could go away since it'll only be used for those",
        "pr_file_module": null
      },
      {
        "comment_id": "1568072092",
        "repo_full_name": "remix-run/react-router",
        "pr_number": 11442,
        "pr_file": "scripts/version.js",
        "discussion_id": "1567501744",
        "commented_code": "@@ -76,59 +68,34 @@ async function run() {\n \n     if (answer === false) return 0;",
        "comment_created_at": "2024-04-17T00:35:43+00:00",
        "comment_author": "markdalgleish",
        "comment_body": "Good call. I've simplified the script now so that the version specifier is required.\r\n\r\nIn the current package structure, the `isSnapshotVersion` is still required because it's used to detect experimental/nightly releases and ensure that `@remix-run/router` also gets a version update.",
        "pr_file_module": null
      },
      {
        "comment_id": "1569224092",
        "repo_full_name": "remix-run/react-router",
        "pr_number": 11442,
        "pr_file": "scripts/version.js",
        "discussion_id": "1567501744",
        "commented_code": "@@ -76,59 +68,34 @@ async function run() {\n \n     if (answer === false) return 0;",
        "comment_created_at": "2024-04-17T17:40:03+00:00",
        "comment_author": "brophdawg11",
        "comment_body": "it's probably a moot point too since the router will be collapsing into react-router too so everything will be versioned identically moving forward.  We can tackle that when we remove the router package \ud83d\udc4d ",
        "pr_file_module": null
      }
    ]
  }
]