[
  {
    "discussion_id": "1525055981",
    "pr_number": 348,
    "pr_file": "refact_webgui/webgui/tab_finetune.py",
    "created_at": "2024-03-14T15:13:11+00:00",
    "commented_code": "low_gpu_mem_mode: Optional[bool] = Query(default=True)\n \n \n+class RenamePost(BaseModel):\n+    run_id_old: str\n+    run_id_new: str\n+\n+    @validator('run_id_old', 'run_id_new')\n+    def validate_run_id(cls, v: str) -> str:\n+        if not v.strip():\n+            raise HTTPException(status_code=400, detail=\"must be non-empty\")\n+        if len(v) >= 30:\n+            raise HTTPException(status_code=400, detail=\"must be less than 30 characters\")\n+        if not re.match(\"^[a-zA-Z0-9_ -]*$\", v):\n+            raise HTTPException(status_code=400, detail=\"must contain only Latin alphabet, numbers, spaces, and underscores\")",
    "repo_full_name": "smallcloudai/refact",
    "discussion_comments": [
      {
        "comment_id": "1525055981",
        "repo_full_name": "smallcloudai/refact",
        "pr_number": 348,
        "pr_file": "refact_webgui/webgui/tab_finetune.py",
        "discussion_id": "1525055981",
        "commented_code": "@@ -82,10 +82,32 @@ class TabFinetuneTrainingSetup(BaseModel):\n     low_gpu_mem_mode: Optional[bool] = Query(default=True)\n \n \n+class RenamePost(BaseModel):\n+    run_id_old: str\n+    run_id_new: str\n+\n+    @validator('run_id_old', 'run_id_new')\n+    def validate_run_id(cls, v: str) -> str:\n+        if not v.strip():\n+            raise HTTPException(status_code=400, detail=\"must be non-empty\")\n+        if len(v) >= 30:\n+            raise HTTPException(status_code=400, detail=\"must be less than 30 characters\")\n+        if not re.match(\"^[a-zA-Z0-9_ -]*$\", v):\n+            raise HTTPException(status_code=400, detail=\"must contain only Latin alphabet, numbers, spaces, and underscores\")",
        "comment_created_at": "2024-03-14T15:13:11+00:00",
        "comment_author": "mitya52",
        "comment_body": "no spaces please",
        "pr_file_module": null
      },
      {
        "comment_id": "1525057826",
        "repo_full_name": "smallcloudai/refact",
        "pr_number": 348,
        "pr_file": "refact_webgui/webgui/tab_finetune.py",
        "discussion_id": "1525055981",
        "commented_code": "@@ -82,10 +82,32 @@ class TabFinetuneTrainingSetup(BaseModel):\n     low_gpu_mem_mode: Optional[bool] = Query(default=True)\n \n \n+class RenamePost(BaseModel):\n+    run_id_old: str\n+    run_id_new: str\n+\n+    @validator('run_id_old', 'run_id_new')\n+    def validate_run_id(cls, v: str) -> str:\n+        if not v.strip():\n+            raise HTTPException(status_code=400, detail=\"must be non-empty\")\n+        if len(v) >= 30:\n+            raise HTTPException(status_code=400, detail=\"must be less than 30 characters\")\n+        if not re.match(\"^[a-zA-Z0-9_ -]*$\", v):\n+            raise HTTPException(status_code=400, detail=\"must contain only Latin alphabet, numbers, spaces, and underscores\")",
        "comment_created_at": "2024-03-14T15:14:19+00:00",
        "comment_author": "mitya52",
        "comment_body": "and may be this validator should be only on new run name",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1518535648",
    "pr_number": 331,
    "pr_file": "self_hosting_machinery/finetune/scripts/auxiliary/file_status_context.py",
    "created_at": "2024-03-09T08:29:37+00:00",
    "commented_code": "from refact_utils.scripts import env\n from refact_utils.finetune.utils import get_file_digest\n-from self_hosting_machinery.finetune.scripts.aux.finetune_filter_status_tracker import FinetuneFilterStatusTracker\n+from self_hosting_machinery.finetune.scripts.auxiliary.finetune_filter_status_tracker import FinetuneFilterStatusTracker",
    "repo_full_name": "smallcloudai/refact",
    "discussion_comments": [
      {
        "comment_id": "1518535648",
        "repo_full_name": "smallcloudai/refact",
        "pr_number": 331,
        "pr_file": "self_hosting_machinery/finetune/scripts/auxiliary/file_status_context.py",
        "discussion_id": "1518535648",
        "commented_code": "@@ -4,7 +4,7 @@\n \n from refact_utils.scripts import env\n from refact_utils.finetune.utils import get_file_digest\n-from self_hosting_machinery.finetune.scripts.aux.finetune_filter_status_tracker import FinetuneFilterStatusTracker\n+from self_hosting_machinery.finetune.scripts.auxiliary.finetune_filter_status_tracker import FinetuneFilterStatusTracker",
        "comment_created_at": "2024-03-09T08:29:37+00:00",
        "comment_author": "JegernOUTT",
        "comment_body": "aux -> auxiliary to prevent the `aux` folder naming problem on windows machines",
        "pr_file_module": null
      }
    ]
  }
]