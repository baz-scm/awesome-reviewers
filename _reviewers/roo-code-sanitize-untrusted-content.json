[
  {
    "discussion_id": "2202510498",
    "pr_number": 5620,
    "pr_file": "webview-ui/src/components/common/TableParser.tsx",
    "created_at": "2025-07-12T10:55:46+00:00",
    "commented_code": "+import { parseInlineMarkdown } from \"./InlineParser\";\n+\n+const containsHtmlTags = (text: string): boolean => {\n+  return /<\\/?[a-z][a-z0-9]*\\b[^>]*>/i.test(text);\n+};\n+\n+const parseTableHeaderCells = (headerRow: string) => {\n+  return headerRow\n+    .split(\"|\")\n+    .slice(1, -1)\n+    .map(cell => cell.trim().replace(/^:[-]+:$|^:[-]+|[-]+:$/g, '').trim());\n+};\n+\n+const parseTableDataRows = (dataRows: string[], maxRows: number = 50) => {\n+  const rows = [];\n+  try {\n+    for (let i = 0; i < dataRows.length; i++) {\n+      const cells = dataRows[i]\n+        .split(\"|\")\n+        .slice(1, -1)\n+        .map(cell => cell.trim());\n+\n+      if (cells.length > 0) {\n+        rows.push(cells);\n+      }\n+\n+      if (rows.length >= maxRows) {\n+        break;\n+      }\n+    }\n+  } catch (error) {\n+    return [];\n+  }\n+  return rows;\n+};\n+\n+export const renderTableHeader = (headerCells: string[], keyPrefix: string) => {\n+  return (\n+    <thead className=\"bg-[--gray-1]\">\n+      <tr>\n+        {headerCells.map((cell, idx) => (\n+          <th\n+            key={`${keyPrefix}-header-${idx}`}\n+            className=\"border border-[--gray-3] px-4 py-2 text-left text-sm font-medium\"\n+          >\n+            {renderTableCell(cell, idx)}\n+          </th>\n+        ))}\n+      </tr>\n+    </thead>\n+  );\n+};\n+\n+export const renderTableBody = (rows: string[][], keyPrefix: string) => {\n+  return (\n+    <tbody>\n+      {rows.map((row, rowIdx) => (\n+        <tr\n+          key={`${keyPrefix}-row-${rowIdx}`}\n+          className={rowIdx % 2 === 0 ? \"bg-[--gray-2]\" : \"bg-[--gray-1]\"}\n+        >\n+          {row.map((cell, cellIdx) => (\n+            <td\n+              key={`${keyPrefix}-cell-${rowIdx}-${cellIdx}`}\n+              className=\"border border-[--gray-3] px-4 py-2 text-sm\"\n+            >\n+              {renderTableCell(cell, cellIdx + rowIdx * 100)}\n+            </td>\n+          ))}\n+        </tr>\n+      ))}\n+    </tbody>\n+  );\n+};\n+\n+const renderTableCell = (content: string, keyOffset: number) => {\n+  if (containsHtmlTags(content)) {\n+    return <div dangerouslySetInnerHTML={{ __html: content }} />;",
    "repo_full_name": "RooCodeInc/Roo-Code",
    "discussion_comments": [
      {
        "comment_id": "2202539127",
        "repo_full_name": "RooCodeInc/Roo-Code",
        "pr_number": 5620,
        "pr_file": "webview-ui/src/components/common/TableParser.tsx",
        "discussion_id": "2202510498",
        "commented_code": "@@ -0,0 +1,134 @@\n+import { parseInlineMarkdown } from \"./InlineParser\";\n+\n+const containsHtmlTags = (text: string): boolean => {\n+  return /<\\/?[a-z][a-z0-9]*\\b[^>]*>/i.test(text);\n+};\n+\n+const parseTableHeaderCells = (headerRow: string) => {\n+  return headerRow\n+    .split(\"|\")\n+    .slice(1, -1)\n+    .map(cell => cell.trim().replace(/^:[-]+:$|^:[-]+|[-]+:$/g, '').trim());\n+};\n+\n+const parseTableDataRows = (dataRows: string[], maxRows: number = 50) => {\n+  const rows = [];\n+  try {\n+    for (let i = 0; i < dataRows.length; i++) {\n+      const cells = dataRows[i]\n+        .split(\"|\")\n+        .slice(1, -1)\n+        .map(cell => cell.trim());\n+\n+      if (cells.length > 0) {\n+        rows.push(cells);\n+      }\n+\n+      if (rows.length >= maxRows) {\n+        break;\n+      }\n+    }\n+  } catch (error) {\n+    return [];\n+  }\n+  return rows;\n+};\n+\n+export const renderTableHeader = (headerCells: string[], keyPrefix: string) => {\n+  return (\n+    <thead className=\"bg-[--gray-1]\">\n+      <tr>\n+        {headerCells.map((cell, idx) => (\n+          <th\n+            key={`${keyPrefix}-header-${idx}`}\n+            className=\"border border-[--gray-3] px-4 py-2 text-left text-sm font-medium\"\n+          >\n+            {renderTableCell(cell, idx)}\n+          </th>\n+        ))}\n+      </tr>\n+    </thead>\n+  );\n+};\n+\n+export const renderTableBody = (rows: string[][], keyPrefix: string) => {\n+  return (\n+    <tbody>\n+      {rows.map((row, rowIdx) => (\n+        <tr\n+          key={`${keyPrefix}-row-${rowIdx}`}\n+          className={rowIdx % 2 === 0 ? \"bg-[--gray-2]\" : \"bg-[--gray-1]\"}\n+        >\n+          {row.map((cell, cellIdx) => (\n+            <td\n+              key={`${keyPrefix}-cell-${rowIdx}-${cellIdx}`}\n+              className=\"border border-[--gray-3] px-4 py-2 text-sm\"\n+            >\n+              {renderTableCell(cell, cellIdx + rowIdx * 100)}\n+            </td>\n+          ))}\n+        </tr>\n+      ))}\n+    </tbody>\n+  );\n+};\n+\n+const renderTableCell = (content: string, keyOffset: number) => {\n+  if (containsHtmlTags(content)) {\n+    return <div dangerouslySetInnerHTML={{ __html: content }} />;",
        "comment_created_at": "2025-07-12T11:27:21+00:00",
        "comment_author": "PaperBoardOfficial",
        "comment_body": "I have removed this code and its test case.",
        "pr_file_module": null
      }
    ]
  }
]