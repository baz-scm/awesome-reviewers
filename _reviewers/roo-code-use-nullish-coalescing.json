[
  {
    "discussion_id": "2161771333",
    "pr_number": 5041,
    "pr_file": "webview-ui/src/components/settings/CodeIndexSettings.tsx",
    "created_at": "2025-06-23T14:27:00+00:00",
    "commented_code": "</div>\n \t\t\t\t\t</div>\n \n+\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n+\t\t\t\t\t\t<div className=\"flex items-center gap-4 font-bold\">\n+\t\t\t\t\t\t\t<div>{t(\"settings:codeIndex.searchMinScoreLabel\")}</div>\n+\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n+\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n+\t\t\t\t\t\t\t\t<span className=\"text-xs text-vscode-descriptionForeground min-w-[30px]\">0.0</span>\n+\t\t\t\t\t\t\t\t<input\n+\t\t\t\t\t\t\t\t\ttype=\"range\"\n+\t\t\t\t\t\t\t\t\tmin=\"0\"\n+\t\t\t\t\t\t\t\t\tmax=\"1\"\n+\t\t\t\t\t\t\t\t\tstep=\"0.05\"\n+\t\t\t\t\t\t\t\t\tvalue={codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4}",
    "repo_full_name": "RooCodeInc/Roo-Code",
    "discussion_comments": [
      {
        "comment_id": "2161771333",
        "repo_full_name": "RooCodeInc/Roo-Code",
        "pr_number": 5041,
        "pr_file": "webview-ui/src/components/settings/CodeIndexSettings.tsx",
        "discussion_id": "2161771333",
        "commented_code": "@@ -449,6 +449,45 @@ export const CodeIndexSettings: React.FC<CodeIndexSettingsProps> = ({\n \t\t\t\t\t\t</div>\n \t\t\t\t\t</div>\n \n+\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n+\t\t\t\t\t\t<div className=\"flex items-center gap-4 font-bold\">\n+\t\t\t\t\t\t\t<div>{t(\"settings:codeIndex.searchMinScoreLabel\")}</div>\n+\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n+\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n+\t\t\t\t\t\t\t\t<span className=\"text-xs text-vscode-descriptionForeground min-w-[30px]\">0.0</span>\n+\t\t\t\t\t\t\t\t<input\n+\t\t\t\t\t\t\t\t\ttype=\"range\"\n+\t\t\t\t\t\t\t\t\tmin=\"0\"\n+\t\t\t\t\t\t\t\t\tmax=\"1\"\n+\t\t\t\t\t\t\t\t\tstep=\"0.05\"\n+\t\t\t\t\t\t\t\t\tvalue={codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4}",
        "comment_created_at": "2025-06-23T14:27:00+00:00",
        "comment_author": "ellipsis-dev[bot]",
        "comment_body": "Avoid using the logical OR (||) for numeric defaults since 0 is a valid value. Please use the nullish coalescing operator (??) so that a threshold of 0 is preserved instead of defaulting to 0.4.\n```suggestion\n\t\t\t\t\t\t\t\t\tvalue={codebaseIndexConfig.codebaseIndexSearchMinScore ?? 0.4}\n```\n",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2161771343",
    "pr_number": 5041,
    "pr_file": "webview-ui/src/components/settings/CodeIndexSettings.tsx",
    "created_at": "2025-06-23T14:27:00+00:00",
    "commented_code": "</div>\n \t\t\t\t\t</div>\n \n+\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n+\t\t\t\t\t\t<div className=\"flex items-center gap-4 font-bold\">\n+\t\t\t\t\t\t\t<div>{t(\"settings:codeIndex.searchMinScoreLabel\")}</div>\n+\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n+\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n+\t\t\t\t\t\t\t\t<span className=\"text-xs text-vscode-descriptionForeground min-w-[30px]\">0.0</span>\n+\t\t\t\t\t\t\t\t<input\n+\t\t\t\t\t\t\t\t\ttype=\"range\"\n+\t\t\t\t\t\t\t\t\tmin=\"0\"\n+\t\t\t\t\t\t\t\t\tmax=\"1\"\n+\t\t\t\t\t\t\t\t\tstep=\"0.05\"\n+\t\t\t\t\t\t\t\t\tvalue={codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4}\n+\t\t\t\t\t\t\t\t\tonChange={(e) => {\n+\t\t\t\t\t\t\t\t\t\tconst value = parseFloat(e.target.value)\n+\t\t\t\t\t\t\t\t\t\tsetCachedStateField(\"codebaseIndexConfig\", {\n+\t\t\t\t\t\t\t\t\t\t\t...codebaseIndexConfig,\n+\t\t\t\t\t\t\t\t\t\t\tcodebaseIndexSearchMinScore: value,\n+\t\t\t\t\t\t\t\t\t\t})\n+\t\t\t\t\t\t\t\t\t}}\n+\t\t\t\t\t\t\t\t\tclassName=\"flex-1 h-2 bg-vscode-input-background rounded-lg appearance-none cursor-pointer slider\"\n+\t\t\t\t\t\t\t\t\tdata-testid=\"search-min-score-slider\"\n+\t\t\t\t\t\t\t\t\tstyle={{\n+\t\t\t\t\t\t\t\t\t\tbackground: `linear-gradient(to right, var(--vscode-progressBar-background) 0%, var(--vscode-progressBar-background) ${(codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4) * 100}%, var(--vscode-input-background) ${(codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4) * 100}%, var(--vscode-input-background) 100%)`,",
    "repo_full_name": "RooCodeInc/Roo-Code",
    "discussion_comments": [
      {
        "comment_id": "2161771343",
        "repo_full_name": "RooCodeInc/Roo-Code",
        "pr_number": 5041,
        "pr_file": "webview-ui/src/components/settings/CodeIndexSettings.tsx",
        "discussion_id": "2161771343",
        "commented_code": "@@ -449,6 +449,45 @@\n \t\t\t\t\t\t</div>\n \t\t\t\t\t</div>\n \n+\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n+\t\t\t\t\t\t<div className=\"flex items-center gap-4 font-bold\">\n+\t\t\t\t\t\t\t<div>{t(\"settings:codeIndex.searchMinScoreLabel\")}</div>\n+\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n+\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n+\t\t\t\t\t\t\t\t<span className=\"text-xs text-vscode-descriptionForeground min-w-[30px]\">0.0</span>\n+\t\t\t\t\t\t\t\t<input\n+\t\t\t\t\t\t\t\t\ttype=\"range\"\n+\t\t\t\t\t\t\t\t\tmin=\"0\"\n+\t\t\t\t\t\t\t\t\tmax=\"1\"\n+\t\t\t\t\t\t\t\t\tstep=\"0.05\"\n+\t\t\t\t\t\t\t\t\tvalue={codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4}\n+\t\t\t\t\t\t\t\t\tonChange={(e) => {\n+\t\t\t\t\t\t\t\t\t\tconst value = parseFloat(e.target.value)\n+\t\t\t\t\t\t\t\t\t\tsetCachedStateField(\"codebaseIndexConfig\", {\n+\t\t\t\t\t\t\t\t\t\t\t...codebaseIndexConfig,\n+\t\t\t\t\t\t\t\t\t\t\tcodebaseIndexSearchMinScore: value,\n+\t\t\t\t\t\t\t\t\t\t})\n+\t\t\t\t\t\t\t\t\t}}\n+\t\t\t\t\t\t\t\t\tclassName=\"flex-1 h-2 bg-vscode-input-background rounded-lg appearance-none cursor-pointer slider\"\n+\t\t\t\t\t\t\t\t\tdata-testid=\"search-min-score-slider\"\n+\t\t\t\t\t\t\t\t\tstyle={{\n+\t\t\t\t\t\t\t\t\t\tbackground: `linear-gradient(to right, var(--vscode-progressBar-background) 0%, var(--vscode-progressBar-background) ${(codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4) * 100}%, var(--vscode-input-background) ${(codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4) * 100}%, var(--vscode-input-background) 100%)`,",
        "comment_created_at": "2025-06-23T14:27:00+00:00",
        "comment_author": "ellipsis-dev[bot]",
        "comment_body": "Use the nullish coalescing operator (??) in the style background calculation as well, so that a value of 0 is not replaced by 0.4.\n```suggestion\n\t\t\t\t\t\t\t\t\t\tbackground: `linear-gradient(to right, var(--vscode-progressBar-background) 0%, var(--vscode-progressBar-background) ${(codebaseIndexConfig.codebaseIndexSearchMinScore ?? 0.4) * 100}%, var(--vscode-input-background) ${(codebaseIndexConfig.codebaseIndexSearchMinScore ?? 0.4) * 100}%, var(--vscode-input-background) 100%)`,\n```\n",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2161811091",
    "pr_number": 5041,
    "pr_file": "webview-ui/src/components/settings/CodeIndexSettings.tsx",
    "created_at": "2025-06-23T14:45:35+00:00",
    "commented_code": "</div>\n \t\t\t\t\t</div>\n \n+\t\t\t\t\t<div>\n+\t\t\t\t\t\t<span className=\"block font-medium mb-1\">{t(\"settings:codeIndex.searchMinScoreLabel\")}</span>\n+\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n+\t\t\t\t\t\t\t<Slider\n+\t\t\t\t\t\t\t\tmin={0}\n+\t\t\t\t\t\t\t\tmax={1}\n+\t\t\t\t\t\t\t\tstep={0.05}\n+\t\t\t\t\t\t\t\tvalue={[codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4]}",
    "repo_full_name": "RooCodeInc/Roo-Code",
    "discussion_comments": [
      {
        "comment_id": "2161811091",
        "repo_full_name": "RooCodeInc/Roo-Code",
        "pr_number": 5041,
        "pr_file": "webview-ui/src/components/settings/CodeIndexSettings.tsx",
        "discussion_id": "2161811091",
        "commented_code": "@@ -449,6 +455,53 @@ export const CodeIndexSettings: React.FC<CodeIndexSettingsProps> = ({\n \t\t\t\t\t\t</div>\n \t\t\t\t\t</div>\n \n+\t\t\t\t\t<div>\n+\t\t\t\t\t\t<span className=\"block font-medium mb-1\">{t(\"settings:codeIndex.searchMinScoreLabel\")}</span>\n+\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n+\t\t\t\t\t\t\t<Slider\n+\t\t\t\t\t\t\t\tmin={0}\n+\t\t\t\t\t\t\t\tmax={1}\n+\t\t\t\t\t\t\t\tstep={0.05}\n+\t\t\t\t\t\t\t\tvalue={[codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4]}",
        "comment_created_at": "2025-06-23T14:45:35+00:00",
        "comment_author": "ellipsis-dev[bot]",
        "comment_body": "When using a default value for the slider with an expression like `codebaseIndexConfig.codebaseIndexSearchMinScore || 0.4`, a valid value of 0 (zero) will be mistakenly replaced by 0.4. To preserve 0, please switch to the nullish coalescing operator (e.g. `codebaseIndexConfig.codebaseIndexSearchMinScore ?? 0.4`). This applies both where the slider\u2019s value is set and where it\u2019s displayed.\n```suggestion\n\t\t\t\t\t\t\t\tvalue={[codebaseIndexConfig.codebaseIndexSearchMinScore ?? 0.4]}\n```\n",
        "pr_file_module": null
      }
    ]
  }
]