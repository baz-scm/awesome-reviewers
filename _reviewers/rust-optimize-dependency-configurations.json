[
  {
    "discussion_id": "2217962968",
    "pr_number": 144218,
    "pr_file": "compiler/rustc_target/Cargo.toml",
    "created_at": "2025-07-20T21:05:57+00:00",
    "commented_code": "rustc_macros = { path = \"../rustc_macros\" }\n rustc_serialize = { path = \"../rustc_serialize\" }\n rustc_span = { path = \"../rustc_span\" }\n+serde = { version = \"1.0.219\", features = [\"derive\"] }",
    "repo_full_name": "rust-lang/rust",
    "discussion_comments": [
      {
        "comment_id": "2217962968",
        "repo_full_name": "rust-lang/rust",
        "pr_number": 144218,
        "pr_file": "compiler/rustc_target/Cargo.toml",
        "discussion_id": "2217962968",
        "commented_code": "@@ -12,7 +12,9 @@ rustc_fs_util = { path = \"../rustc_fs_util\" }\n rustc_macros = { path = \"../rustc_macros\" }\n rustc_serialize = { path = \"../rustc_serialize\" }\n rustc_span = { path = \"../rustc_span\" }\n+serde = { version = \"1.0.219\", features = [\"derive\"] }",
        "comment_created_at": "2025-07-20T21:05:57+00:00",
        "comment_author": "ultrabear",
        "comment_body": "using serde with the derive feature causes a hard dependency on syn/procmacro2 that leads to everything that uses serde but doesn't use derive needing to wait on these expensive crates to build\r\nThe current suggested way to pull serde derive (to increase build parallelization) is to just pull the derive crate separately and use serde_derive::Deseralize etc in code\r\n```suggestion\r\nserde = \"1.0.219\"\r\nserde_derive = \"1.0.219\"\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "2219811813",
        "repo_full_name": "rust-lang/rust",
        "pr_number": 144218,
        "pr_file": "compiler/rustc_target/Cargo.toml",
        "discussion_id": "2217962968",
        "commented_code": "@@ -12,7 +12,9 @@ rustc_fs_util = { path = \"../rustc_fs_util\" }\n rustc_macros = { path = \"../rustc_macros\" }\n rustc_serialize = { path = \"../rustc_serialize\" }\n rustc_span = { path = \"../rustc_span\" }\n+serde = { version = \"1.0.219\", features = [\"derive\"] }",
        "comment_created_at": "2025-07-21T17:24:08+00:00",
        "comment_author": "fee1-dead",
        "comment_body": "nice suggestion, yes please do this",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2205714211",
    "pr_number": 143883,
    "pr_file": "src/tools/linkchecker/Cargo.toml",
    "created_at": "2025-07-14T20:05:17+00:00",
    "commented_code": "[dependencies]\n regex = \"1\"\n html5ever = \"0.29.0\"\n+clap = { version = \"4.5.40\", features = [\"derive\"] }",
    "repo_full_name": "rust-lang/rust",
    "discussion_comments": [
      {
        "comment_id": "2205714211",
        "repo_full_name": "rust-lang/rust",
        "pr_number": 143883,
        "pr_file": "src/tools/linkchecker/Cargo.toml",
        "discussion_id": "2205714211",
        "commented_code": "@@ -10,3 +10,4 @@ path = \"main.rs\"\n [dependencies]\n regex = \"1\"\n html5ever = \"0.29.0\"\n+clap = { version = \"4.5.40\", features = [\"derive\"] }",
        "comment_created_at": "2025-07-14T20:05:17+00:00",
        "comment_author": "ehuss",
        "comment_body": "I'm a little uneasy adding this because this tool intentionally tries to keep its dependencies down to a minimum because it is used in many repositories.\r\n\r\nAre there maybe some alternatives here? Do this really need a full feature CLI parser? At a minimum, can this drop the default features? Perhaps use the builder API instead of derive?\r\n",
        "pr_file_module": null
      }
    ]
  }
]