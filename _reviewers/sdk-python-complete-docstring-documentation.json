[
  {
    "discussion_id": "2481563747",
    "pr_number": 1110,
    "pr_file": "src/strands/multiagent/graph.py",
    "created_at": "2025-10-31T14:12:07+00:00",
    "commented_code": "edges=self.state.edges,\n             entry_points=self.state.entry_points,\n         )\n+\n+    def serialize_state(self) -> dict[str, Any]:\n+        \"\"\"Serialize the current graph state to a dictionary.\"\"\"\n+        status_str = self.state.status.value\n+        compute_nodes = self._compute_ready_nodes_for_resume()\n+        next_nodes = [n.node_id for n in compute_nodes] if compute_nodes else []\n+        return {\n+            \"type\": \"graph\",\n+            \"id\": self.id,\n+            \"status\": status_str,\n+            \"completed_nodes\": [n.node_id for n in self.state.completed_nodes],\n+            \"failed_nodes\": [n.node_id for n in self.state.failed_nodes],\n+            \"node_results\": {k: v.to_dict() for k, v in (self.state.results or {}).items()},\n+            \"next_nodes_to_execute\": next_nodes,\n+            \"current_task\": self.state.task,\n+            \"execution_order\": [n.node_id for n in self.state.execution_order],\n+        }\n+\n+    def deserialize_state(self, payload: dict[str, Any]) -> None:\n+        \"\"\"Restore graph state from a session dict and prepare for execution.\n+\n+        This method handles two scenarios:\n+        1. If the persisted status is COMPLETED, FAILED resets all nodes and graph state\n+           to allow re-execution from the beginning.\n+        2. Otherwise, restores the persisted state and prepares to resume execution\n+           from the next ready nodes.\n+\n+        Args:\n+            payload: Dictionary containing persisted state data including status,\n+                    completed nodes, results, and next nodes to execute.\n+        \"\"\"\n+        if not payload.get(\"next_nodes_to_execute\"):\n+            # Reset all nodes\n+            for node in self.nodes.values():\n+                node.reset_executor_state()\n+            # Reset graph state\n+            self.state = GraphState()\n+            self._resume_from_session = False\n+            return\n+        else:\n+            self._from_dict(payload)\n+            self._resume_from_session = True\n+\n+    # Helper functions for serialize and deserialize",
    "repo_full_name": "strands-agents/sdk-python",
    "discussion_comments": [
      {
        "comment_id": "2481563747",
        "repo_full_name": "strands-agents/sdk-python",
        "pr_number": 1110,
        "pr_file": "src/strands/multiagent/graph.py",
        "discussion_id": "2481563747",
        "commented_code": "@@ -731,3 +804,94 @@ def _build_result(self) -> GraphResult:\n             edges=self.state.edges,\n             entry_points=self.state.entry_points,\n         )\n+\n+    def serialize_state(self) -> dict[str, Any]:\n+        \"\"\"Serialize the current graph state to a dictionary.\"\"\"\n+        status_str = self.state.status.value\n+        compute_nodes = self._compute_ready_nodes_for_resume()\n+        next_nodes = [n.node_id for n in compute_nodes] if compute_nodes else []\n+        return {\n+            \"type\": \"graph\",\n+            \"id\": self.id,\n+            \"status\": status_str,\n+            \"completed_nodes\": [n.node_id for n in self.state.completed_nodes],\n+            \"failed_nodes\": [n.node_id for n in self.state.failed_nodes],\n+            \"node_results\": {k: v.to_dict() for k, v in (self.state.results or {}).items()},\n+            \"next_nodes_to_execute\": next_nodes,\n+            \"current_task\": self.state.task,\n+            \"execution_order\": [n.node_id for n in self.state.execution_order],\n+        }\n+\n+    def deserialize_state(self, payload: dict[str, Any]) -> None:\n+        \"\"\"Restore graph state from a session dict and prepare for execution.\n+\n+        This method handles two scenarios:\n+        1. If the persisted status is COMPLETED, FAILED resets all nodes and graph state\n+           to allow re-execution from the beginning.\n+        2. Otherwise, restores the persisted state and prepares to resume execution\n+           from the next ready nodes.\n+\n+        Args:\n+            payload: Dictionary containing persisted state data including status,\n+                    completed nodes, results, and next nodes to execute.\n+        \"\"\"\n+        if not payload.get(\"next_nodes_to_execute\"):\n+            # Reset all nodes\n+            for node in self.nodes.values():\n+                node.reset_executor_state()\n+            # Reset graph state\n+            self.state = GraphState()\n+            self._resume_from_session = False\n+            return\n+        else:\n+            self._from_dict(payload)\n+            self._resume_from_session = True\n+\n+    # Helper functions for serialize and deserialize",
        "comment_created_at": "2025-10-31T14:12:07+00:00",
        "comment_author": "pgrayy",
        "comment_body": "Method descriptions should be placed in docstrings as opposed to inline comments.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2518877233",
    "pr_number": 1171,
    "pr_file": "src/strands/agent/agent.py",
    "created_at": "2025-11-12T15:57:07+00:00",
    "commented_code": "self.hooks.add_hook(hook)\n         self.hooks.invoke_callbacks(AgentInitializedEvent(agent=self))\n \n+    @property\n+    def system_prompt(self) -> str | None:",
    "repo_full_name": "strands-agents/sdk-python",
    "discussion_comments": [
      {
        "comment_id": "2518877233",
        "repo_full_name": "strands-agents/sdk-python",
        "pr_number": 1171,
        "pr_file": "src/strands/agent/agent.py",
        "discussion_id": "2518877233",
        "commented_code": "@@ -365,6 +365,16 @@ def __init__(\n                 self.hooks.add_hook(hook)\n         self.hooks.invoke_callbacks(AgentInitializedEvent(agent=self))\n \n+    @property\n+    def system_prompt(self) -> str | None:",
        "comment_created_at": "2025-11-12T15:57:07+00:00",
        "comment_author": "zastrowm",
        "comment_body": "Can we add some docs indicating the need/purpose of the getters.\r\n\r\nFrom a reader perspective (not looking at the PR) it's not at all obvious why the system_prompt returns a string, but the system_prompt_content accepts non-strings",
        "pr_file_module": null
      },
      {
        "comment_id": "2518911472",
        "repo_full_name": "strands-agents/sdk-python",
        "pr_number": 1171,
        "pr_file": "src/strands/agent/agent.py",
        "discussion_id": "2518877233",
        "commented_code": "@@ -365,6 +365,16 @@ def __init__(\n                 self.hooks.add_hook(hook)\n         self.hooks.invoke_callbacks(AgentInitializedEvent(agent=self))\n \n+    @property\n+    def system_prompt(self) -> str | None:",
        "comment_created_at": "2025-11-12T16:05:53+00:00",
        "comment_author": "dbschmigelski",
        "comment_body": "Sure thing",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2466990072",
    "pr_number": 1071,
    "pr_file": "src/strands/multiagent/base.py",
    "created_at": "2025-10-27T20:27:59+00:00",
    "commented_code": "multi-agent orchestration capabilities.\n     \"\"\"\n \n+    id: str",
    "repo_full_name": "strands-agents/sdk-python",
    "discussion_comments": [
      {
        "comment_id": "2466990072",
        "repo_full_name": "strands-agents/sdk-python",
        "pr_number": 1071,
        "pr_file": "src/strands/multiagent/base.py",
        "discussion_id": "2466990072",
        "commented_code": "@@ -166,6 +166,8 @@ class MultiAgentBase(ABC):\n     multi-agent orchestration capabilities.\n     \"\"\"\n \n+    id: str",
        "comment_created_at": "2025-10-27T20:27:59+00:00",
        "comment_author": "pgrayy",
        "comment_body": "Can we document the purpose of this field in the docstring above:\n```Python\n\"\"\"Base class for multi-agent helpers.\n\nThis class integrates with existing Strands Agent instances and provides\nmulti-agent orchestration capabilities.\n\nAttributes:\n    id: ...\n\"\"\"\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2376143701",
    "pr_number": 865,
    "pr_file": "src/strands/experimental/agent_config.py",
    "created_at": "2025-09-24T15:14:50+00:00",
    "commented_code": "+\"\"\"Experimental agent configuration with enhanced instantiation patterns.\"\"\"\n+\n+import json\n+import importlib\n+from typing import TYPE_CHECKING\n+\n+if TYPE_CHECKING:\n+    from ..agent.agent import Agent\n+\n+from .tool_pool import ToolPool\n+\n+# File prefix for configuration file paths\n+FILE_PREFIX = \"file://\"\n+\n+# Minimum viable list of tools to enable agent building\n+# This list is experimental and will be revisited as tools evolve\n+DEFAULT_TOOLS = [\"file_read\", \"editor\", \"http_request\", \"shell\", \"use_agent\"]\n+\n+\n+class AgentConfig:\n+    \"\"\"Agent configuration with to_agent() method and ToolPool integration.\"\"\"\n+    \n+    def __init__(self, config_source: str | dict[str, any], tool_pool: ToolPool | None = None, raise_exception_on_missing_tool: bool = True):\n+        \"\"\"Initialize AgentConfig from file path or dictionary.\n+",
    "repo_full_name": "strands-agents/sdk-python",
    "discussion_comments": [
      {
        "comment_id": "2376143701",
        "repo_full_name": "strands-agents/sdk-python",
        "pr_number": 865,
        "pr_file": "src/strands/experimental/agent_config.py",
        "discussion_id": "2376143701",
        "commented_code": "@@ -0,0 +1,172 @@\n+\"\"\"Experimental agent configuration with enhanced instantiation patterns.\"\"\"\n+\n+import json\n+import importlib\n+from typing import TYPE_CHECKING\n+\n+if TYPE_CHECKING:\n+    from ..agent.agent import Agent\n+\n+from .tool_pool import ToolPool\n+\n+# File prefix for configuration file paths\n+FILE_PREFIX = \"file://\"\n+\n+# Minimum viable list of tools to enable agent building\n+# This list is experimental and will be revisited as tools evolve\n+DEFAULT_TOOLS = [\"file_read\", \"editor\", \"http_request\", \"shell\", \"use_agent\"]\n+\n+\n+class AgentConfig:\n+    \"\"\"Agent configuration with to_agent() method and ToolPool integration.\"\"\"\n+    \n+    def __init__(self, config_source: str | dict[str, any], tool_pool: ToolPool | None = None, raise_exception_on_missing_tool: bool = True):\n+        \"\"\"Initialize AgentConfig from file path or dictionary.\n+        ",
        "comment_created_at": "2025-09-24T15:14:50+00:00",
        "comment_author": "Unshure",
        "comment_body": "Can we include what the expected shape of the config should be as part of the docstring?",
        "pr_file_module": null
      },
      {
        "comment_id": "2376166629",
        "repo_full_name": "strands-agents/sdk-python",
        "pr_number": 865,
        "pr_file": "src/strands/experimental/agent_config.py",
        "discussion_id": "2376143701",
        "commented_code": "@@ -0,0 +1,172 @@\n+\"\"\"Experimental agent configuration with enhanced instantiation patterns.\"\"\"\n+\n+import json\n+import importlib\n+from typing import TYPE_CHECKING\n+\n+if TYPE_CHECKING:\n+    from ..agent.agent import Agent\n+\n+from .tool_pool import ToolPool\n+\n+# File prefix for configuration file paths\n+FILE_PREFIX = \"file://\"\n+\n+# Minimum viable list of tools to enable agent building\n+# This list is experimental and will be revisited as tools evolve\n+DEFAULT_TOOLS = [\"file_read\", \"editor\", \"http_request\", \"shell\", \"use_agent\"]\n+\n+\n+class AgentConfig:\n+    \"\"\"Agent configuration with to_agent() method and ToolPool integration.\"\"\"\n+    \n+    def __init__(self, config_source: str | dict[str, any], tool_pool: ToolPool | None = None, raise_exception_on_missing_tool: bool = True):\n+        \"\"\"Initialize AgentConfig from file path or dictionary.\n+        ",
        "comment_created_at": "2025-09-24T15:22:56+00:00",
        "comment_author": "mr-lee",
        "comment_body": "Yeah I'll add an example.  I put it in the docs repo but to your point I think it makes sense here too",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2380165625",
    "pr_number": 865,
    "pr_file": "src/strands/experimental/agent_config.py",
    "created_at": "2025-09-25T19:47:13+00:00",
    "commented_code": "+\"\"\"Experimental agent configuration with enhanced instantiation patterns.\"\"\"\n+\n+import importlib\n+import json\n+from typing import TYPE_CHECKING, Any\n+\n+from ..tools.registry import ToolRegistry\n+\n+if TYPE_CHECKING:\n+    # Import here to avoid circular imports:\n+    # experimental/agent_config.py -> agent.agent -> event_loop.event_loop ->\n+    # experimental.hooks -> experimental.__init__.py -> AgentConfig\n+    from ..agent.agent import Agent\n+\n+# File prefix for configuration file paths\n+FILE_PREFIX = \"file://\"\n+\n+# Minimum viable list of tools to enable agent building\n+# This list is experimental and will be revisited as tools evolve\n+DEFAULT_TOOLS = [\"file_read\", \"editor\", \"http_request\", \"shell\", \"use_agent\"]\n+\n+\n+class AgentConfig:\n+    \"\"\"Agent configuration with to_agent() method and ToolRegistry integration.",
    "repo_full_name": "strands-agents/sdk-python",
    "discussion_comments": [
      {
        "comment_id": "2380165625",
        "repo_full_name": "strands-agents/sdk-python",
        "pr_number": 865,
        "pr_file": "src/strands/experimental/agent_config.py",
        "discussion_id": "2380165625",
        "commented_code": "@@ -0,0 +1,193 @@\n+\"\"\"Experimental agent configuration with enhanced instantiation patterns.\"\"\"\n+\n+import importlib\n+import json\n+from typing import TYPE_CHECKING, Any\n+\n+from ..tools.registry import ToolRegistry\n+\n+if TYPE_CHECKING:\n+    # Import here to avoid circular imports:\n+    # experimental/agent_config.py -> agent.agent -> event_loop.event_loop ->\n+    # experimental.hooks -> experimental.__init__.py -> AgentConfig\n+    from ..agent.agent import Agent\n+\n+# File prefix for configuration file paths\n+FILE_PREFIX = \"file://\"\n+\n+# Minimum viable list of tools to enable agent building\n+# This list is experimental and will be revisited as tools evolve\n+DEFAULT_TOOLS = [\"file_read\", \"editor\", \"http_request\", \"shell\", \"use_agent\"]\n+\n+\n+class AgentConfig:\n+    \"\"\"Agent configuration with to_agent() method and ToolRegistry integration.",
        "comment_created_at": "2025-09-25T19:47:13+00:00",
        "comment_author": "zastrowm",
        "comment_body": "nit: can we explain the purpose of the feature?  E.g.:\n\n```\nAgentConfig has support for loading agents from JSON or inline-dictionaries, selecting tools from a pre-configured list.\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "2382640814",
        "repo_full_name": "strands-agents/sdk-python",
        "pr_number": 865,
        "pr_file": "src/strands/experimental/agent_config.py",
        "discussion_id": "2380165625",
        "commented_code": "@@ -0,0 +1,193 @@\n+\"\"\"Experimental agent configuration with enhanced instantiation patterns.\"\"\"\n+\n+import importlib\n+import json\n+from typing import TYPE_CHECKING, Any\n+\n+from ..tools.registry import ToolRegistry\n+\n+if TYPE_CHECKING:\n+    # Import here to avoid circular imports:\n+    # experimental/agent_config.py -> agent.agent -> event_loop.event_loop ->\n+    # experimental.hooks -> experimental.__init__.py -> AgentConfig\n+    from ..agent.agent import Agent\n+\n+# File prefix for configuration file paths\n+FILE_PREFIX = \"file://\"\n+\n+# Minimum viable list of tools to enable agent building\n+# This list is experimental and will be revisited as tools evolve\n+DEFAULT_TOOLS = [\"file_read\", \"editor\", \"http_request\", \"shell\", \"use_agent\"]\n+\n+\n+class AgentConfig:\n+    \"\"\"Agent configuration with to_agent() method and ToolRegistry integration.",
        "comment_created_at": "2025-09-26T14:42:46+00:00",
        "comment_author": "Unshure",
        "comment_body": "Fixed",
        "pr_file_module": null
      }
    ]
  }
]