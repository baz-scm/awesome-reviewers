[
  {
    "discussion_id": "1945330370",
    "pr_number": 10819,
    "pr_file": "libs/commons/Uri_.ml",
    "created_at": "2025-02-06T19:47:50+00:00",
    "commented_code": "let of_string_opt (str : string) : Uri.t option =\n   let uri = Uri.of_string str in\n   if Uri.equal uri Uri.empty then None else Some uri\n+\n+let url_regex = Pcre2_.regexp \"^https?://\"\n+let is_url config_path = Pcre2_.pmatch_noerr ~rex:url_regex config_path",
    "repo_full_name": "semgrep/semgrep",
    "discussion_comments": [
      {
        "comment_id": "1945330370",
        "repo_full_name": "semgrep/semgrep",
        "pr_number": 10819,
        "pr_file": "libs/commons/Uri_.ml",
        "discussion_id": "1945330370",
        "commented_code": "@@ -28,3 +28,6 @@ let show (uri : Uri.t) : string = Fmt_.to_show Uri.pp uri\n let of_string_opt (str : string) : Uri.t option =\n   let uri = Uri.of_string str in\n   if Uri.equal uri Uri.empty then None else Some uri\n+\n+let url_regex = Pcre2_.regexp \"^https?://\"\n+let is_url config_path = Pcre2_.pmatch_noerr ~rex:url_regex config_path",
        "comment_created_at": "2025-02-06T19:47:50+00:00",
        "comment_author": "kopecs",
        "comment_body": "```suggestion\r\nlet is_url config_path =\r\n  match Option.bind Uri.scheme (of_string_opt config_path) with\r\n  | Some \"http\"\r\n  | Some \"https\" -> true\r\n  | Some _\r\n  | None -> false\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1449303110",
    "pr_number": 9551,
    "pr_file": "src/targeting/Find_targets.mli",
    "created_at": "2024-01-11T19:28:05+00:00",
    "commented_code": "regardless of rules or languages.\n  *)\n \n+(* Git_remote should really be a URI *)\n+type git_remote = { url : string; checkout_path : Fpath.t } [@@deriving show]",
    "repo_full_name": "semgrep/semgrep",
    "discussion_comments": [
      {
        "comment_id": "1449303110",
        "repo_full_name": "semgrep/semgrep",
        "pr_number": 9551,
        "pr_file": "src/targeting/Find_targets.mli",
        "discussion_id": "1449303110",
        "commented_code": "@@ -3,6 +3,12 @@\n    regardless of rules or languages.\n  *)\n \n+(* Git_remote should really be a URI *)\n+type git_remote = { url : string; checkout_path : Fpath.t } [@@deriving show]",
        "comment_created_at": "2024-01-11T19:28:05+00:00",
        "comment_author": "kopecs",
        "comment_body": "Can use `Uri.t`",
        "pr_file_module": null
      },
      {
        "comment_id": "1449308505",
        "repo_full_name": "semgrep/semgrep",
        "pr_number": 9551,
        "pr_file": "src/targeting/Find_targets.mli",
        "discussion_id": "1449303110",
        "commented_code": "@@ -3,6 +3,12 @@\n    regardless of rules or languages.\n  *)\n \n+(* Git_remote should really be a URI *)\n+type git_remote = { url : string; checkout_path : Fpath.t } [@@deriving show]",
        "comment_created_at": "2024-01-11T19:34:26+00:00",
        "comment_author": "ajbt200128",
        "comment_body": "fixed",
        "pr_file_module": null
      }
    ]
  }
]