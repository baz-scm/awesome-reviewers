[
  {
    "discussion_id": "2159659201",
    "pr_number": 93984,
    "pr_file": "src/sentry/migrations/0931_disable_seer_automation_for_orgs.py",
    "created_at": "2025-06-20T20:59:25+00:00",
    "commented_code": "+from django.db import migrations\n+from django.db.backends.base.schema import BaseDatabaseSchemaEditor\n+from django.db.migrations.state import StateApps\n+\n+from sentry.models.options.organization_option import OrganizationOption\n+from sentry.models.options.project_option import ProjectOption\n+from sentry.models.organization import Organization\n+from sentry.models.project import Project",
    "repo_full_name": "getsentry/sentry",
    "discussion_comments": [
      {
        "comment_id": "2159659201",
        "repo_full_name": "getsentry/sentry",
        "pr_number": 93984,
        "pr_file": "src/sentry/migrations/0931_disable_seer_automation_for_orgs.py",
        "discussion_id": "2159659201",
        "commented_code": "@@ -0,0 +1,280 @@\n+from django.db import migrations\n+from django.db.backends.base.schema import BaseDatabaseSchemaEditor\n+from django.db.migrations.state import StateApps\n+\n+from sentry.models.options.organization_option import OrganizationOption\n+from sentry.models.options.project_option import ProjectOption\n+from sentry.models.organization import Organization\n+from sentry.models.project import Project",
        "comment_created_at": "2025-06-20T20:59:25+00:00",
        "comment_author": "wedamija",
        "comment_body": "Don't import external models in migrations. I assume these were imported for type hints, but these aren't correct anyway, since in migrations we don't use real models. Instead, they're ones generated by the migration system based on the migration state up to this point",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2143686947",
    "pr_number": 93327,
    "pr_file": "src/sentry/insights/migrations/0002_backfill_team_starred.py",
    "created_at": "2025-06-12T21:24:00+00:00",
    "commented_code": "+# Generated by Django 5.2.1 on 2025-06-10 16:25\n+import logging\n+from typing import cast\n+\n+from django.db import IntegrityError, migrations, router, transaction\n+from django.db.backends.base.schema import BaseDatabaseSchemaEditor\n+from django.db.migrations.state import StateApps\n+\n+from sentry.discover.models import TeamKeyTransaction\n+from sentry.insights.models import InsightsStarredSegment\n+from sentry.models.organization import Organization\n+from sentry.models.organizationmemberteam import (\n+    OrganizationMemberTeam as OrganizationMemberTeamType,\n+)\n+from sentry.models.projectteam import ProjectTeam",
    "repo_full_name": "getsentry/sentry",
    "discussion_comments": [
      {
        "comment_id": "2143686947",
        "repo_full_name": "getsentry/sentry",
        "pr_number": 93327,
        "pr_file": "src/sentry/insights/migrations/0002_backfill_team_starred.py",
        "discussion_id": "2143686947",
        "commented_code": "@@ -0,0 +1,97 @@\n+# Generated by Django 5.2.1 on 2025-06-10 16:25\n+import logging\n+from typing import cast\n+\n+from django.db import IntegrityError, migrations, router, transaction\n+from django.db.backends.base.schema import BaseDatabaseSchemaEditor\n+from django.db.migrations.state import StateApps\n+\n+from sentry.discover.models import TeamKeyTransaction\n+from sentry.insights.models import InsightsStarredSegment\n+from sentry.models.organization import Organization\n+from sentry.models.organizationmemberteam import (\n+    OrganizationMemberTeam as OrganizationMemberTeamType,\n+)\n+from sentry.models.projectteam import ProjectTeam",
        "comment_created_at": "2025-06-12T21:24:00+00:00",
        "comment_author": "wedamija",
        "comment_body": "Don't import external models into the migrations. These type hints are wrong, because the types in here are not real models, they're auto generated models that the migration system builds",
        "pr_file_module": null
      },
      {
        "comment_id": "2145870290",
        "repo_full_name": "getsentry/sentry",
        "pr_number": 93327,
        "pr_file": "src/sentry/insights/migrations/0002_backfill_team_starred.py",
        "discussion_id": "2143686947",
        "commented_code": "@@ -0,0 +1,97 @@\n+# Generated by Django 5.2.1 on 2025-06-10 16:25\n+import logging\n+from typing import cast\n+\n+from django.db import IntegrityError, migrations, router, transaction\n+from django.db.backends.base.schema import BaseDatabaseSchemaEditor\n+from django.db.migrations.state import StateApps\n+\n+from sentry.discover.models import TeamKeyTransaction\n+from sentry.insights.models import InsightsStarredSegment\n+from sentry.models.organization import Organization\n+from sentry.models.organizationmemberteam import (\n+    OrganizationMemberTeam as OrganizationMemberTeamType,\n+)\n+from sentry.models.projectteam import ProjectTeam",
        "comment_created_at": "2025-06-13T18:47:50+00:00",
        "comment_author": "DominikB2014",
        "comment_body": "Thanks! I thought it would be easier because without it it there seems to be no type hinting, but if it's not right anyways we shouldn't do it. \ud83d\udc4d ",
        "pr_file_module": null
      }
    ]
  }
]