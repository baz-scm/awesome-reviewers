[
  {
    "discussion_id": "2115235008",
    "pr_number": 7919,
    "pr_file": "frontend/src/pages/MessagingQueues/MQGraph/useGetAllConfigOptions.ts",
    "created_at": "2025-05-30T06:35:09+00:00",
    "commented_code": "export function useGetAllConfigOptions(\n \tprops: ConfigOptions,\n+\tdotMetricsEnabled: boolean,\n ): GetAllConfigOptionsResponse {\n \tconst { attributeKey, searchText } = props;\n \n \tconst { data, isLoading } = useQuery(\n \t\t['attributesValues', attributeKey, searchText],\n-\t\tasync () => {\n+\t\tasync (): Promise<DefaultOptionType[]> => {\n \t\t\tconst { payload } = await getAttributesValues({\n \t\t\t\taggregateOperator: 'avg',\n \t\t\t\tdataSource: DataSource.METRICS,\n-\t\t\t\taggregateAttribute: 'kafka_consumer_group_lag',\n+\t\t\t\taggregateAttribute: dotMetricsEnabled",
    "repo_full_name": "SigNoz/signoz",
    "discussion_comments": [
      {
        "comment_id": "2115235008",
        "repo_full_name": "SigNoz/signoz",
        "pr_number": 7919,
        "pr_file": "frontend/src/pages/MessagingQueues/MQGraph/useGetAllConfigOptions.ts",
        "discussion_id": "2115235008",
        "commented_code": "@@ -17,16 +17,19 @@ export interface GetAllConfigOptionsResponse {\n \n export function useGetAllConfigOptions(\n \tprops: ConfigOptions,\n+\tdotMetricsEnabled: boolean,\n ): GetAllConfigOptionsResponse {\n \tconst { attributeKey, searchText } = props;\n \n \tconst { data, isLoading } = useQuery(\n \t\t['attributesValues', attributeKey, searchText],\n-\t\tasync () => {\n+\t\tasync (): Promise<DefaultOptionType[]> => {\n \t\t\tconst { payload } = await getAttributesValues({\n \t\t\t\taggregateOperator: 'avg',\n \t\t\t\tdataSource: DataSource.METRICS,\n-\t\t\t\taggregateAttribute: 'kafka_consumer_group_lag',\n+\t\t\t\taggregateAttribute: dotMetricsEnabled",
        "comment_created_at": "2025-05-30T06:35:09+00:00",
        "comment_author": "amlannandy",
        "comment_body": "We're dong this conditional assignment at multiple places. It can be difficult to maintain or keep track of this afterwards. Maybe move all these dot and underscore keys into a map and get the appropriate key from there based on the value of `dotMetricsEnabled`. Let's try to have a single source of truth.",
        "pr_file_module": null
      },
      {
        "comment_id": "2115536426",
        "repo_full_name": "SigNoz/signoz",
        "pr_number": 7919,
        "pr_file": "frontend/src/pages/MessagingQueues/MQGraph/useGetAllConfigOptions.ts",
        "discussion_id": "2115235008",
        "commented_code": "@@ -17,16 +17,19 @@ export interface GetAllConfigOptionsResponse {\n \n export function useGetAllConfigOptions(\n \tprops: ConfigOptions,\n+\tdotMetricsEnabled: boolean,\n ): GetAllConfigOptionsResponse {\n \tconst { attributeKey, searchText } = props;\n \n \tconst { data, isLoading } = useQuery(\n \t\t['attributesValues', attributeKey, searchText],\n-\t\tasync () => {\n+\t\tasync (): Promise<DefaultOptionType[]> => {\n \t\t\tconst { payload } = await getAttributesValues({\n \t\t\t\taggregateOperator: 'avg',\n \t\t\t\tdataSource: DataSource.METRICS,\n-\t\t\t\taggregateAttribute: 'kafka_consumer_group_lag',\n+\t\t\t\taggregateAttribute: dotMetricsEnabled",
        "comment_created_at": "2025-05-30T09:45:31+00:00",
        "comment_author": "aniketio-ctrl",
        "comment_body": "we will resolve this later , mostly we are using maps only for this case there was single value only",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2083466622",
    "pr_number": 7843,
    "pr_file": "frontend/src/hooks/TracesFunnels/useFunnelMetrics.ts",
    "created_at": "2025-05-11T09:33:59+00:00",
    "commented_code": null,
    "repo_full_name": "SigNoz/signoz",
    "discussion_comments": [
      {
        "comment_id": "2083466622",
        "repo_full_name": "SigNoz/signoz",
        "pr_number": 7843,
        "pr_file": "frontend/src/hooks/TracesFunnels/useFunnelMetrics.ts",
        "discussion_id": "2083466622",
        "commented_code": null,
        "comment_created_at": "2025-05-11T09:33:59+00:00",
        "comment_author": "ahmadshaheer",
        "comment_body": "1. why do we need separate formatting for steps overview metrics?\r\n2. please use getYAxisFormattedValue to format the values. we don't need to create new util functions for this, IMO.\r\n3. if the logic for steps overview metrics is different, please create a separate function for it.",
        "pr_file_module": null
      }
    ]
  }
]