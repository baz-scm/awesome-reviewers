[
  {
    "discussion_id": "2152619891",
    "pr_number": 8278,
    "pr_file": "frontend/src/lib/newQueryBuilder/chooseAutocompleteFromCustomValue.ts",
    "created_at": "2025-06-17T15:52:11+00:00",
    "commented_code": "DataTypes,\n } from 'types/api/queryBuilder/queryAutocompleteResponse';\n \n+export const getDataType = (dataType?: string): DataTypes => {",
    "repo_full_name": "SigNoz/signoz",
    "discussion_comments": [
      {
        "comment_id": "2152619891",
        "repo_full_name": "SigNoz/signoz",
        "pr_number": 8278,
        "pr_file": "frontend/src/lib/newQueryBuilder/chooseAutocompleteFromCustomValue.ts",
        "discussion_id": "2152619891",
        "commented_code": "@@ -4,21 +4,40 @@ import {\n \tDataTypes,\n } from 'types/api/queryBuilder/queryAutocompleteResponse';\n \n+export const getDataType = (dataType?: string): DataTypes => {",
        "comment_created_at": "2025-06-17T15:52:11+00:00",
        "comment_author": "aks07",
        "comment_body": "getDataType is pretty non-explanatory. Can we name this better? Maybe some config of sorts. Also this should be in utils file not here.",
        "pr_file_module": null
      },
      {
        "comment_id": "2155203835",
        "repo_full_name": "SigNoz/signoz",
        "pr_number": 8278,
        "pr_file": "frontend/src/lib/newQueryBuilder/chooseAutocompleteFromCustomValue.ts",
        "discussion_id": "2152619891",
        "commented_code": "@@ -4,21 +4,40 @@ import {\n \tDataTypes,\n } from 'types/api/queryBuilder/queryAutocompleteResponse';\n \n+export const getDataType = (dataType?: string): DataTypes => {",
        "comment_created_at": "2025-06-18T18:03:30+00:00",
        "comment_author": "sawhil",
        "comment_body": "This is a very localised util, removed the export and renamed it for better readablitiy",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2122946631",
    "pr_number": 8114,
    "pr_file": "frontend/src/hooks/useLocalStorage.ts",
    "created_at": "2025-06-03T07:18:06+00:00",
    "commented_code": "key: string,\n \tinitialValue: T | (() => T),\n ): [T, (value: T | ((prevState: T) => T)) => void, () => void] {\n+\t// Stabilize the initialValue to prevent unnecessary re-renders\n+\tconst initialValueRef = useRef<T | (() => T)>(initialValue);\n+\n+\t// Update the ref if initialValue changes (for cases where it's intentionally dynamic)\n+\tuseEffect(() => {",
    "repo_full_name": "SigNoz/signoz",
    "discussion_comments": [
      {
        "comment_id": "2122946631",
        "repo_full_name": "SigNoz/signoz",
        "pr_number": 8114,
        "pr_file": "frontend/src/hooks/useLocalStorage.ts",
        "discussion_id": "2122946631",
        "commented_code": "@@ -17,11 +17,23 @@ export function useLocalStorage<T>(\n \tkey: string,\n \tinitialValue: T | (() => T),\n ): [T, (value: T | ((prevState: T) => T)) => void, () => void] {\n+\t// Stabilize the initialValue to prevent unnecessary re-renders\n+\tconst initialValueRef = useRef<T | (() => T)>(initialValue);\n+\n+\t// Update the ref if initialValue changes (for cases where it's intentionally dynamic)\n+\tuseEffect(() => {",
        "comment_created_at": "2025-06-03T07:18:06+00:00",
        "comment_author": "aks07",
        "comment_body": "Why do we need to handle changing initial value? Does this not defeat the purpose of initial value?",
        "pr_file_module": null
      },
      {
        "comment_id": "2124058609",
        "repo_full_name": "SigNoz/signoz",
        "pr_number": 8114,
        "pr_file": "frontend/src/hooks/useLocalStorage.ts",
        "discussion_id": "2122946631",
        "commented_code": "@@ -17,11 +17,23 @@ export function useLocalStorage<T>(\n \tkey: string,\n \tinitialValue: T | (() => T),\n ): [T, (value: T | ((prevState: T) => T)) => void, () => void] {\n+\t// Stabilize the initialValue to prevent unnecessary re-renders\n+\tconst initialValueRef = useRef<T | (() => T)>(initialValue);\n+\n+\t// Update the ref if initialValue changes (for cases where it's intentionally dynamic)\n+\tuseEffect(() => {",
        "comment_created_at": "2025-06-03T14:35:39+00:00",
        "comment_author": "ahmadshaheer",
        "comment_body": "the variable name should have been `defaultValue`, when the [removeValue](https://github.com/SigNoz/signoz/blob/6309ff96bdb013f2ac564bb881d8132bbfc616da/frontend/src/hooks/useLocalStorage.ts#L68-L81) is triggered, it resets the state to the default value. having the useEffect ensures that the default value is up to date. will make change the variable name to `defaultValue` in a subsequent PR.\r\n",
        "pr_file_module": null
      }
    ]
  }
]