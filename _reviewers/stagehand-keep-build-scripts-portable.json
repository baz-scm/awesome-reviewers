[
  {
    "discussion_id": "1866741979",
    "pr_number": 232,
    "pr_file": "package.json",
    "created_at": "2024-12-02T23:01:10+00:00",
    "commented_code": "\"cache:clear\": \"rm -rf .cache\",\n     \"evals\": \"npm run build-dom-scripts && tsx evals/index.eval.ts\",\n     \"build-dom-scripts\": \"tsx lib/dom/genDomScripts.ts\",\n-    \"build\": \"npm run build-dom-scripts && tsup lib/index.ts --dts\",\n-    \"release\": \"changeset publish\"\n+    \"build-types\": \"tsc --emitDeclarationOnly --outDir dist\",\n+    \"build-js\": \"esbuild lib/index.ts --bundle --platform=node --outdir=dist --format=esm --minify --tree-shaking=true --packages=external\",",
    "repo_full_name": "browserbase/stagehand",
    "discussion_comments": [
      {
        "comment_id": "1866741979",
        "repo_full_name": "browserbase/stagehand",
        "pr_number": 232,
        "pr_file": "package.json",
        "discussion_id": "1866741979",
        "commented_code": "@@ -13,12 +13,15 @@\n     \"cache:clear\": \"rm -rf .cache\",\n     \"evals\": \"npm run build-dom-scripts && tsx evals/index.eval.ts\",\n     \"build-dom-scripts\": \"tsx lib/dom/genDomScripts.ts\",\n-    \"build\": \"npm run build-dom-scripts && tsup lib/index.ts --dts\",\n-    \"release\": \"changeset publish\"\n+    \"build-types\": \"tsc --emitDeclarationOnly --outDir dist\",\n+    \"build-js\": \"esbuild lib/index.ts --bundle --platform=node --outdir=dist --format=esm --minify --tree-shaking=true --packages=external\",",
        "comment_created_at": "2024-12-02T23:01:10+00:00",
        "comment_author": "jtoar",
        "comment_body": "i'd recommend against minifying; i think it's important to keep the dist readable, debuggable. users can always minify the package if they're bundling before deploying to their production environment if size is a concern\r\n\r\n```suggestion\r\n    \"build-js\": \"esbuild lib/index.ts --bundle --platform=node --outdir=dist --format=esm --tree-shaking=true --packages=external\",\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1836000822",
    "pr_number": 171,
    "pr_file": "package.json",
    "created_at": "2024-11-11T06:04:58+00:00",
    "commented_code": "\"cache:clear\": \"rm -rf .cache\",\n     \"evals\": \"npm run build-dom-scripts && npx braintrust eval evals/index.eval.ts\",\n     \"build-dom-scripts\": \"mkdir -p ./lib/dom/build && mkdir -p ./dist/dom/build && esbuild ./lib/dom/*.ts --bundle --outdir=./dist/dom/build\",\n-    \"bundle-dom-scripts\": \"esbuild ./lib/dom/index.ts --bundle --outfile=./lib/dom/bundle.js --platform=browser --target=es2015 --minify\",\n+    \"bundle-dom-scripts\": \"esbuild ./lib/dom/index.ts --bundle --outfile=./lib/dom/bundle.js --platform=browser --target=es2015 --minify && cat ./lib/dom/bundle.js | pbcopy\",",
    "repo_full_name": "browserbase/stagehand",
    "discussion_comments": [
      {
        "comment_id": "1836000822",
        "repo_full_name": "browserbase/stagehand",
        "pr_number": 171,
        "pr_file": "package.json",
        "discussion_id": "1836000822",
        "commented_code": "@@ -13,7 +13,7 @@\n     \"cache:clear\": \"rm -rf .cache\",\n     \"evals\": \"npm run build-dom-scripts && npx braintrust eval evals/index.eval.ts\",\n     \"build-dom-scripts\": \"mkdir -p ./lib/dom/build && mkdir -p ./dist/dom/build && esbuild ./lib/dom/*.ts --bundle --outdir=./dist/dom/build\",\n-    \"bundle-dom-scripts\": \"esbuild ./lib/dom/index.ts --bundle --outfile=./lib/dom/bundle.js --platform=browser --target=es2015 --minify\",\n+    \"bundle-dom-scripts\": \"esbuild ./lib/dom/index.ts --bundle --outfile=./lib/dom/bundle.js --platform=browser --target=es2015 --minify && cat ./lib/dom/bundle.js | pbcopy\",",
        "comment_created_at": "2024-11-11T06:04:58+00:00",
        "comment_author": "pkiv",
        "comment_body": "Should remove `&& cat ./lib/dom/bundle.js | pbcopy`",
        "pr_file_module": null
      }
    ]
  }
]