[
  {
    "discussion_id": "2092647291",
    "pr_number": 35662,
    "pr_file": "apps/studio/components/interfaces/TableGridEditor/SidePanelEditor/ColumnEditor/ColumnEditor.utils.ts",
    "created_at": "2025-05-16T09:02:47+00:00",
    "commented_code": "const type = field.isArray ? `${field.format}[]` : field.format\n   const comment = ((field.comment?.length ?? '') === 0 ? '' : field.comment)?.trim()\n \n-  const check = field.check?.trim()\n+  const check = field.check?.trim() ? field.check?.trim() : undefined",
    "repo_full_name": "supabase/supabase",
    "discussion_comments": [
      {
        "comment_id": "2092647291",
        "repo_full_name": "supabase/supabase",
        "pr_number": 35662,
        "pr_file": "apps/studio/components/interfaces/TableGridEditor/SidePanelEditor/ColumnEditor/ColumnEditor.utils.ts",
        "discussion_id": "2092647291",
        "commented_code": "@@ -126,7 +127,7 @@ export const generateUpdateColumnPayload = (\n   const type = field.isArray ? `${field.format}[]` : field.format\n   const comment = ((field.comment?.length ?? '') === 0 ? '' : field.comment)?.trim()\n \n-  const check = field.check?.trim()\n+  const check = field.check?.trim() ? field.check?.trim() : undefined",
        "comment_created_at": "2025-05-16T09:02:47+00:00",
        "comment_author": "sweatybridge",
        "comment_body": "what is this supposed to do?",
        "pr_file_module": null
      },
      {
        "comment_id": "2092659657",
        "repo_full_name": "supabase/supabase",
        "pr_number": 35662,
        "pr_file": "apps/studio/components/interfaces/TableGridEditor/SidePanelEditor/ColumnEditor/ColumnEditor.utils.ts",
        "discussion_id": "2092647291",
        "commented_code": "@@ -126,7 +127,7 @@ export const generateUpdateColumnPayload = (\n   const type = field.isArray ? `${field.format}[]` : field.format\n   const comment = ((field.comment?.length ?? '') === 0 ? '' : field.comment)?.trim()\n \n-  const check = field.check?.trim()\n+  const check = field.check?.trim() ? field.check?.trim() : undefined",
        "comment_created_at": "2025-05-16T09:09:07+00:00",
        "comment_author": "sweatybridge",
        "comment_body": "Based on https://github.com/supabase/supabase/blob/master/packages/pg-meta/src/pg-meta-columns.ts#L341, we should set empty string to null so it drops the old constraint.\r\n\r\n```\r\nconst check = field.check?.trim() || null\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2092669171",
    "pr_number": 35662,
    "pr_file": "apps/studio/components/interfaces/TableGridEditor/SidePanelEditor/ColumnEditor/ColumnEditor.utils.ts",
    "created_at": "2025-05-16T09:13:49+00:00",
    "commented_code": "const type = field.isArray ? `${field.format}[]` : field.format\n   const comment = ((field.comment?.length ?? '') === 0 ? '' : field.comment)?.trim()",
    "repo_full_name": "supabase/supabase",
    "discussion_comments": [
      {
        "comment_id": "2092669171",
        "repo_full_name": "supabase/supabase",
        "pr_number": 35662,
        "pr_file": "apps/studio/components/interfaces/TableGridEditor/SidePanelEditor/ColumnEditor/ColumnEditor.utils.ts",
        "discussion_id": "2092669171",
        "commented_code": "@@ -126,7 +127,7 @@ export const generateUpdateColumnPayload = (\n   const type = field.isArray ? `${field.format}[]` : field.format\n   const comment = ((field.comment?.length ?? '') === 0 ? '' : field.comment)?.trim()",
        "comment_created_at": "2025-05-16T09:13:49+00:00",
        "comment_author": "sweatybridge",
        "comment_body": "```suggestion\r\n  const comment = field.comment?.trim() || null\r\n```\r\n\r\nditto https://www.postgresql.org/docs/current/sql-comment.html\r\n\r\n> To remove a comment, write NULL in place of the text string.",
        "pr_file_module": null
      }
    ]
  }
]