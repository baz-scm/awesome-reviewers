[
  {
    "discussion_id": "2222648173",
    "pr_number": 36972,
    "pr_file": "apps/studio/tests/features/logs/LogsPreviewer.test.tsx",
    "created_at": "2025-07-22T14:03:34+00:00",
    "commented_code": "beforeEach(() => {\n   addAPIMock({\n     method: 'get',\n-    path: '/platform/projects/default/analytics/endpoints/logs.all',\n+    path: '/platform/projects/:ref/analytics/endpoints/logs.all',",
    "repo_full_name": "supabase/supabase",
    "discussion_comments": [
      {
        "comment_id": "2222648173",
        "repo_full_name": "supabase/supabase",
        "pr_number": 36972,
        "pr_file": "apps/studio/tests/features/logs/LogsPreviewer.test.tsx",
        "discussion_id": "2222648173",
        "commented_code": "@@ -32,7 +32,7 @@ vi.mock('lib/gotrue', async (importOriginal) => ({\n beforeEach(() => {\n   addAPIMock({\n     method: 'get',\n-    path: '/platform/projects/default/analytics/endpoints/logs.all',\n+    path: '/platform/projects/:ref/analytics/endpoints/logs.all',",
        "comment_created_at": "2025-07-22T14:03:34+00:00",
        "comment_author": "Saeris",
        "comment_body": "with the type changes to `addAPIMock` the path should always use the path parameter syntax rather than the literal in order to get the response type. while this won't technically have a runtime error, it will raise a type error",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2222182921",
    "pr_number": 37370,
    "pr_file": "apps/studio/pages/new/[slug].tsx",
    "created_at": "2025-07-22T11:03:40+00:00",
    "commented_code": "''\n   )\n \n+  // This is to make the database.new redirect work correctly. The database.new redirect should be set to supabase.com/dashboard/new/last-visited-org\n+  if (slug === 'last-visited-org') {\n+    router.replace(`/new/${lastVisitedOrganization}`, undefined, { shallow: true })\n+  }",
    "repo_full_name": "supabase/supabase",
    "discussion_comments": [
      {
        "comment_id": "2222182921",
        "repo_full_name": "supabase/supabase",
        "pr_number": 37370,
        "pr_file": "apps/studio/pages/new/[slug].tsx",
        "discussion_id": "2222182921",
        "commented_code": "@@ -146,6 +146,11 @@ const Wizard: NextPageWithLayout = () => {\n     ''\n   )\n \n+  // This is to make the database.new redirect work correctly. The database.new redirect should be set to supabase.com/dashboard/new/last-visited-org\n+  if (slug === 'last-visited-org') {\n+    router.replace(`/new/${lastVisitedOrganization}`, undefined, { shallow: true })\n+  }",
        "comment_created_at": "2025-07-22T11:03:40+00:00",
        "comment_author": "joshenlim",
        "comment_body": "should also consider if `lastVisitedOrganization` is undefined here\r\n\r\n```suggestion\r\n  if (slug === 'last-visited-org' && !!lastVisitedOrganization) {\r\n    router.replace(`/new/${lastVisitedOrganization}`, undefined, { shallow: true })\r\n  }\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "2222183914",
        "repo_full_name": "supabase/supabase",
        "pr_number": 37370,
        "pr_file": "apps/studio/pages/new/[slug].tsx",
        "discussion_id": "2222182921",
        "commented_code": "@@ -146,6 +146,11 @@ const Wizard: NextPageWithLayout = () => {\n     ''\n   )\n \n+  // This is to make the database.new redirect work correctly. The database.new redirect should be set to supabase.com/dashboard/new/last-visited-org\n+  if (slug === 'last-visited-org') {\n+    router.replace(`/new/${lastVisitedOrganization}`, undefined, { shallow: true })\n+  }",
        "comment_created_at": "2025-07-22T11:04:08+00:00",
        "comment_author": "joshenlim",
        "comment_body": "otherwise i'd reckon redirect then to `/new/_` otherwise if `lastVisitedOrganization` is undefined, and we should then hide this warning if `slug === '_'`\r\n\r\nmain thing we need to aware of is to keep the users on this page, as the rule with `.new` domains is that they need to lead to a \"creation\" flow\r\n\r\n<img width=\"710\" height=\"183\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2bc4f99d-7d28-4ddb-b13e-8e60ebf8b9cf\" />\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2222873564",
        "repo_full_name": "supabase/supabase",
        "pr_number": 37370,
        "pr_file": "apps/studio/pages/new/[slug].tsx",
        "discussion_id": "2222182921",
        "commented_code": "@@ -146,6 +146,11 @@ const Wizard: NextPageWithLayout = () => {\n     ''\n   )\n \n+  // This is to make the database.new redirect work correctly. The database.new redirect should be set to supabase.com/dashboard/new/last-visited-org\n+  if (slug === 'last-visited-org') {\n+    router.replace(`/new/${lastVisitedOrganization}`, undefined, { shallow: true })\n+  }",
        "comment_created_at": "2025-07-22T15:11:48+00:00",
        "comment_author": "ivasilov",
        "comment_body": "Fixed both cases, ty for catching!",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2131405877",
    "pr_number": 36198,
    "pr_file": "apps/studio/components/ui/ContactSupportButton.tsx",
    "created_at": "2025-06-06T03:00:49+00:00",
    "commented_code": null,
    "repo_full_name": "supabase/supabase",
    "discussion_comments": [
      {
        "comment_id": "2131405877",
        "repo_full_name": "supabase/supabase",
        "pr_number": 36198,
        "pr_file": "apps/studio/components/ui/ContactSupportButton.tsx",
        "discussion_id": "2131405877",
        "commented_code": null,
        "comment_created_at": "2025-06-06T03:00:49+00:00",
        "comment_author": "joshenlim",
        "comment_body": "am thinking if we can also support orgSlug as a param here\r\nso if orgSlug is provided and no projectRef - it'll be org but no specific project\r\n\r\ne.g:\r\n![image](https://github.com/user-attachments/assets/aabdd364-6232-43a2-bb8c-78f74dbcbb8f)\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "2131406260",
        "repo_full_name": "supabase/supabase",
        "pr_number": 36198,
        "pr_file": "apps/studio/components/ui/ContactSupportButton.tsx",
        "discussion_id": "2131405877",
        "commented_code": null,
        "comment_created_at": "2025-06-06T03:01:17+00:00",
        "comment_author": "joshenlim",
        "comment_body": "will support cases like in Subscription.tsx for changing plans",
        "pr_file_module": null
      }
    ]
  }
]