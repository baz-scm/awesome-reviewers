[
  {
    "discussion_id": "2316079622",
    "pr_number": 58579,
    "pr_file": "assets/loadtest/helm/resources/templates/config.yaml",
    "created_at": "2025-09-02T13:21:03+00:00",
    "commented_code": "+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: {{ .Release.Name }}\n+  namespace: {{ .Release.Namespace }}\n+data:\n+  entrypoint.sh: |2\n+    #!/bin/sh\n+    set -euxo pipefail\n+\n+    cp ${RESOURCE_YAML} /tmp/rendered.yaml\n+    sed -i \"s/@@JOB_INDEX@@/$JOB_COMPLETION_INDEX/g\" /tmp/rendered.yaml\n+    cat /tmp/rendered.yaml\n+\n+    tsh \\\n+      login \\\n+      --proxy=${PROXY} \\\n+      -i /identity-output/identity",
    "repo_full_name": "gravitational/teleport",
    "discussion_comments": [
      {
        "comment_id": "2316079622",
        "repo_full_name": "gravitational/teleport",
        "pr_number": 58579,
        "pr_file": "assets/loadtest/helm/resources/templates/config.yaml",
        "discussion_id": "2316079622",
        "commented_code": "@@ -0,0 +1,25 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: {{ .Release.Name }}\n+  namespace: {{ .Release.Namespace }}\n+data:\n+  entrypoint.sh: |2\n+    #!/bin/sh\n+    set -euxo pipefail\n+\n+    cp ${RESOURCE_YAML} /tmp/rendered.yaml\n+    sed -i \"s/@@JOB_INDEX@@/$JOB_COMPLETION_INDEX/g\" /tmp/rendered.yaml\n+    cat /tmp/rendered.yaml\n+\n+    tsh \\\n+      login \\\n+      --proxy=${PROXY} \\\n+      -i /identity-output/identity",
        "comment_created_at": "2025-09-02T13:21:03+00:00",
        "comment_author": "rosstimothy",
        "comment_body": "Is tsh login needed if we are explicitly passing in an identity file that we've gotten from tbot to tctl create below?",
        "pr_file_module": null
      },
      {
        "comment_id": "2316330541",
        "repo_full_name": "gravitational/teleport",
        "pr_number": 58579,
        "pr_file": "assets/loadtest/helm/resources/templates/config.yaml",
        "discussion_id": "2316079622",
        "commented_code": "@@ -0,0 +1,25 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: {{ .Release.Name }}\n+  namespace: {{ .Release.Namespace }}\n+data:\n+  entrypoint.sh: |2\n+    #!/bin/sh\n+    set -euxo pipefail\n+\n+    cp ${RESOURCE_YAML} /tmp/rendered.yaml\n+    sed -i \"s/@@JOB_INDEX@@/$JOB_COMPLETION_INDEX/g\" /tmp/rendered.yaml\n+    cat /tmp/rendered.yaml\n+\n+    tsh \\\n+      login \\\n+      --proxy=${PROXY} \\\n+      -i /identity-output/identity",
        "comment_created_at": "2025-09-02T14:48:54+00:00",
        "comment_author": "okraport",
        "comment_body": "I originally had issues with this earlier, but it appears to be working just fine now. I will remove it, thanks!",
        "pr_file_module": null
      }
    ]
  }
]