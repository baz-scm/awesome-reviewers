[
  {
    "discussion_id": "2157834134",
    "pr_number": 7941,
    "pr_file": ".github/workflows/run-tests.yml",
    "created_at": "2025-06-20T00:51:16+00:00",
    "commented_code": "ref: ${{ env.COMMIT }}\n \n       - name: Start containerized dependencies\n-        if: ${{ inputs.run_single_functional_test != true || (inputs.run_single_functional_test == true && contains(fromJSON(needs.set-up-single-test.outputs.dbs), env.PERSISTENCE_DRIVER)) }}\n+        if: ${{ toJson(matrix.containers) != '[]' && (inputs.run_single_functional_test != true || (inputs.run_single_functional_test == true && contains(fromJSON(needs.set-up-single-test.outputs.dbs), env.PERSISTENCE_DRIVER))) }}",
    "repo_full_name": "temporalio/temporal",
    "discussion_comments": [
      {
        "comment_id": "2157834134",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 7941,
        "pr_file": ".github/workflows/run-tests.yml",
        "discussion_id": "2157834134",
        "commented_code": "@@ -472,11 +472,11 @@ jobs:\n           ref: ${{ env.COMMIT }}\n \n       - name: Start containerized dependencies\n-        if: ${{ inputs.run_single_functional_test != true || (inputs.run_single_functional_test == true && contains(fromJSON(needs.set-up-single-test.outputs.dbs), env.PERSISTENCE_DRIVER)) }}\n+        if: ${{ toJson(matrix.containers) != '[]' && (inputs.run_single_functional_test != true || (inputs.run_single_functional_test == true && contains(fromJSON(needs.set-up-single-test.outputs.dbs), env.PERSISTENCE_DRIVER))) }}",
        "comment_created_at": "2025-06-20T00:51:16+00:00",
        "comment_author": "stephanos",
        "comment_body": "Reverted back to before.",
        "pr_file_module": null
      },
      {
        "comment_id": "2159657181",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 7941,
        "pr_file": ".github/workflows/run-tests.yml",
        "discussion_id": "2157834134",
        "commented_code": "@@ -472,11 +472,11 @@ jobs:\n           ref: ${{ env.COMMIT }}\n \n       - name: Start containerized dependencies\n-        if: ${{ inputs.run_single_functional_test != true || (inputs.run_single_functional_test == true && contains(fromJSON(needs.set-up-single-test.outputs.dbs), env.PERSISTENCE_DRIVER)) }}\n+        if: ${{ toJson(matrix.containers) != '[]' && (inputs.run_single_functional_test != true || (inputs.run_single_functional_test == true && contains(fromJSON(needs.set-up-single-test.outputs.dbs), env.PERSISTENCE_DRIVER))) }}",
        "comment_created_at": "2025-06-20T20:57:31+00:00",
        "comment_author": "ychebotarev",
        "comment_body": "can you go into a bit more details on implications of this? It will run for every test combo?",
        "pr_file_module": null
      },
      {
        "comment_id": "2162581151",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 7941,
        "pr_file": ".github/workflows/run-tests.yml",
        "discussion_id": "2157834134",
        "commented_code": "@@ -472,11 +472,11 @@ jobs:\n           ref: ${{ env.COMMIT }}\n \n       - name: Start containerized dependencies\n-        if: ${{ inputs.run_single_functional_test != true || (inputs.run_single_functional_test == true && contains(fromJSON(needs.set-up-single-test.outputs.dbs), env.PERSISTENCE_DRIVER)) }}\n+        if: ${{ toJson(matrix.containers) != '[]' && (inputs.run_single_functional_test != true || (inputs.run_single_functional_test == true && contains(fromJSON(needs.set-up-single-test.outputs.dbs), env.PERSISTENCE_DRIVER))) }}",
        "comment_created_at": "2025-06-23T21:45:01+00:00",
        "comment_author": "stephanos",
        "comment_body": "Right; this was there before my change in https://github.com/temporalio/temporal/pull/7871. It will start up all containers define by the matrix (e.g. `postgresql`). _Unless_ we use the `run_single_functional_test` option, then it will only start the one requested there.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2159352375",
    "pr_number": 7941,
    "pr_file": ".github/workflows/run-tests.yml",
    "created_at": "2025-06-20T16:36:01+00:00",
    "commented_code": "if: ${{ !cancelled() }}\n         with:\n           name: junit-xml--${{github.run_id}}--${{github.run_attempt}}--integration-test\n-          path: .testoutput\n+          path: ./.testoutput/junit.*.xml",
    "repo_full_name": "temporalio/temporal",
    "discussion_comments": [
      {
        "comment_id": "2159352375",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 7941,
        "pr_file": ".github/workflows/run-tests.yml",
        "discussion_id": "2159352375",
        "commented_code": "@@ -385,7 +385,7 @@ jobs:\n         if: ${{ !cancelled() }}\n         with:\n           name: junit-xml--${{github.run_id}}--${{github.run_attempt}}--integration-test\n-          path: .testoutput\n+          path: ./.testoutput/junit.*.xml",
        "comment_created_at": "2025-06-20T16:36:01+00:00",
        "comment_author": "stephanos",
        "comment_body": "Need to be more specific here. This was already including the coverage files accidentally.",
        "pr_file_module": null
      },
      {
        "comment_id": "2159656290",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 7941,
        "pr_file": ".github/workflows/run-tests.yml",
        "discussion_id": "2159352375",
        "commented_code": "@@ -385,7 +385,7 @@ jobs:\n         if: ${{ !cancelled() }}\n         with:\n           name: junit-xml--${{github.run_id}}--${{github.run_attempt}}--integration-test\n-          path: .testoutput\n+          path: ./.testoutput/junit.*.xml",
        "comment_created_at": "2025-06-20T20:56:36+00:00",
        "comment_author": "ychebotarev",
        "comment_body": "may be question doesn't make sense. How it was working before? This is a path to a concrete file(s?). Before it was a directory.",
        "pr_file_module": null
      },
      {
        "comment_id": "2162582248",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 7941,
        "pr_file": ".github/workflows/run-tests.yml",
        "discussion_id": "2159352375",
        "commented_code": "@@ -385,7 +385,7 @@ jobs:\n         if: ${{ !cancelled() }}\n         with:\n           name: junit-xml--${{github.run_id}}--${{github.run_attempt}}--integration-test\n-          path: .testoutput\n+          path: ./.testoutput/junit.*.xml",
        "comment_created_at": "2025-06-23T21:46:10+00:00",
        "comment_author": "stephanos",
        "comment_body": "Yes, before it included everything inside the dictionary. Which included`.xml` _as well_ as `.out` (coverage files). But we don't want coverage files here. So I made it more specific.",
        "pr_file_module": null
      }
    ]
  }
]