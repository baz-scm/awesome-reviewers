[
  {
    "discussion_id": "2183597129",
    "pr_number": 8004,
    "pr_file": "proto/internal/temporal/server/api/persistence/v1/task_queues.proto",
    "created_at": "2025-07-03T19:14:09+00:00",
    "commented_code": "TaskQueueUserData data = 1;\n     int64 version = 2;\n }\n+\n+message RateLimit {",
    "repo_full_name": "temporalio/temporal",
    "discussion_comments": [
      {
        "comment_id": "2183597129",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 8004,
        "pr_file": "proto/internal/temporal/server/api/persistence/v1/task_queues.proto",
        "discussion_id": "2183597129",
        "commented_code": "@@ -142,3 +145,32 @@ message VersionedTaskQueueUserData {\n     TaskQueueUserData data = 1;\n     int64 version = 2;\n }\n+\n+message RateLimit { ",
        "comment_created_at": "2025-07-03T19:14:09+00:00",
        "comment_author": "dnr",
        "comment_body": "I'm having second thoughts here... duplicating all of this structure seems like a waste of effort and opportunity for bugs. as you said, we have an HLC value available at the top level, and that's the one we're using to merge anyway... what do you think about basically reusing the public api message types here?",
        "pr_file_module": null
      },
      {
        "comment_id": "2183608167",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 8004,
        "pr_file": "proto/internal/temporal/server/api/persistence/v1/task_queues.proto",
        "discussion_id": "2183597129",
        "commented_code": "@@ -142,3 +145,32 @@ message VersionedTaskQueueUserData {\n     TaskQueueUserData data = 1;\n     int64 version = 2;\n }\n+\n+message RateLimit { ",
        "comment_created_at": "2025-07-03T19:22:58+00:00",
        "comment_author": "sivagirish81",
        "comment_body": "Yeah that's what I was leaning towards initially as well. Avoid duplication. If we do not see any use-case where we would like to enforce more fine grained LWW in terms of specific task queue configs - we should be fine using the public api fields here and relying on the HLC at top level should suffice.",
        "pr_file_module": null
      },
      {
        "comment_id": "2183901911",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 8004,
        "pr_file": "proto/internal/temporal/server/api/persistence/v1/task_queues.proto",
        "discussion_id": "2183597129",
        "commented_code": "@@ -142,3 +145,32 @@ message VersionedTaskQueueUserData {\n     TaskQueueUserData data = 1;\n     int64 version = 2;\n }\n+\n+message RateLimit { ",
        "comment_created_at": "2025-07-03T23:03:54+00:00",
        "comment_author": "sivagirish81",
        "comment_body": "Updated it to reuse the public api message types here.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2190424185",
    "pr_number": 8010,
    "pr_file": "proto/internal/temporal/server/api/adminservice/v1/request_response.proto",
    "created_at": "2025-07-07T15:36:33+00:00",
    "commented_code": "int32 batch_size = 6;\n   bytes next_page_token = 7;\n   int32 subqueue = 8;\n+  int64 min_pass = 9;",
    "repo_full_name": "temporalio/temporal",
    "discussion_comments": [
      {
        "comment_id": "2190424185",
        "repo_full_name": "temporalio/temporal",
        "pr_number": 8010,
        "pr_file": "proto/internal/temporal/server/api/adminservice/v1/request_response.proto",
        "discussion_id": "2190424185",
        "commented_code": "@@ -382,6 +382,7 @@ message GetTaskQueueTasksRequest {\n   int32 batch_size = 6;\n   bytes next_page_token = 7;\n   int32 subqueue = 8;\n+  int64 min_pass = 9;",
        "comment_created_at": "2025-07-07T15:36:33+00:00",
        "comment_author": "dnr",
        "comment_body": "put this field on line 380 above min_task_id, so we always have <pass, id> next to each other and in that order wherever they appear",
        "pr_file_module": null
      }
    ]
  }
]