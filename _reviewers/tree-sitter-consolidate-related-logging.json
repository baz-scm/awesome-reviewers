[
  {
    "discussion_id": "571784987",
    "pr_number": 917,
    "pr_file": "lib/src/parser.c",
    "created_at": "2021-02-08T05:13:42+00:00",
    "commented_code": "self->language\n     );\n \n-    LOG(\n-      \"lexed_lookahead sym:%s, size:%u, character:'%c'\",\n+    LOG_LOOKAHEAD(\n       SYM_NAME(ts_subtree_symbol(result)),\n       ts_subtree_total_size(result).bytes,\n+      \"character:'%c'\",",
    "repo_full_name": "tree-sitter/tree-sitter",
    "discussion_comments": [
      {
        "comment_id": "571784987",
        "repo_full_name": "tree-sitter/tree-sitter",
        "pr_number": 917,
        "pr_file": "lib/src/parser.c",
        "discussion_id": "571784987",
        "commented_code": "@@ -477,10 +512,10 @@ static Subtree ts_parser__lex(\n       self->language\n     );\n \n-    LOG(\n-      \"lexed_lookahead sym:%s, size:%u, character:'%c'\",\n+    LOG_LOOKAHEAD(\n       SYM_NAME(ts_subtree_symbol(result)),\n       ts_subtree_total_size(result).bytes,\n+      \"character:'%c'\",",
        "comment_created_at": "2021-02-08T05:13:42+00:00",
        "comment_author": "maxbrunsfeld",
        "comment_body": "I don't think this `character` part needs to be logged; I think I left it in by accident. It looks like, if you removed this, you could make the macro simpler (no varargs).",
        "pr_file_module": null
      },
      {
        "comment_id": "571969670",
        "repo_full_name": "tree-sitter/tree-sitter",
        "pr_number": 917,
        "pr_file": "lib/src/parser.c",
        "discussion_id": "571784987",
        "commented_code": "@@ -477,10 +512,10 @@ static Subtree ts_parser__lex(\n       self->language\n     );\n \n-    LOG(\n-      \"lexed_lookahead sym:%s, size:%u, character:'%c'\",\n+    LOG_LOOKAHEAD(\n       SYM_NAME(ts_subtree_symbol(result)),\n       ts_subtree_total_size(result).bytes,\n+      \"character:'%c'\",",
        "comment_created_at": "2021-02-08T11:23:02+00:00",
        "comment_author": "ahlinc",
        "comment_body": "I don't remember that this was useful for me, so I completely agree with you. Let's make it simpler, I've pushed additional commit. Also I added a backslash escaping to make it clear what it is in case of \\\\\\n.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "46183967",
    "pr_number": 9,
    "pr_file": "src/runtime/lexer.c",
    "created_at": "2015-11-30T18:44:21+00:00",
    "commented_code": "static void ts_lexer__start_token(TSLexer *self) {\n   LOG(\"start_token chars:%lu\", self->current_position.chars);\n   self->token_start_position = self->current_position;\n+\n+  LOG(\"start_token row:%lu\", self->current_point.row);\n+  LOG(\"start_token column:%lu\", self->current_point.column);",
    "repo_full_name": "tree-sitter/tree-sitter",
    "discussion_comments": [
      {
        "comment_id": "46183967",
        "repo_full_name": "tree-sitter/tree-sitter",
        "pr_number": 9,
        "pr_file": "src/runtime/lexer.c",
        "discussion_id": "46183967",
        "commented_code": "@@ -53,6 +53,10 @@ static void ts_lexer__start(TSLexer *self, TSStateId lex_state) {\n static void ts_lexer__start_token(TSLexer *self) {\n   LOG(\"start_token chars:%lu\", self->current_position.chars);\n   self->token_start_position = self->current_position;\n+\n+  LOG(\"start_token row:%lu\", self->current_point.row);\n+  LOG(\"start_token column:%lu\", self->current_point.column);",
        "comment_created_at": "2015-11-30T18:44:21+00:00",
        "comment_author": "maxbrunsfeld",
        "comment_body": "Could you put these in the same log message, like `start_token chars:%lu, row:%lu, column:%lu`?\n",
        "pr_file_module": null
      }
    ]
  }
]