[
  {
    "discussion_id": "1700481801",
    "pr_number": 8910,
    "pr_file": "crates/turborepo-telemetry/src/config.rs",
    "created_at": "2024-08-01T16:29:59+00:00",
    "commented_code": "}\n \n     pub fn new(config_path: AbsoluteSystemPathBuf) -> Result<TelemetryConfig, ConfigError> {\n-        debug!(\"Telemetry config path: {}\", config_path);\n+        trace!(\"Telemetry config path: {}\", config_path);",
    "repo_full_name": "vercel/turborepo",
    "discussion_comments": [
      {
        "comment_id": "1700481801",
        "repo_full_name": "vercel/turborepo",
        "pr_number": 8910,
        "pr_file": "crates/turborepo-telemetry/src/config.rs",
        "discussion_id": "1700481801",
        "commented_code": "@@ -67,7 +67,7 @@ impl TelemetryConfig {\n     }\n \n     pub fn new(config_path: AbsoluteSystemPathBuf) -> Result<TelemetryConfig, ConfigError> {\n-        debug!(\"Telemetry config path: {}\", config_path);\n+        trace!(\"Telemetry config path: {}\", config_path);",
        "comment_created_at": "2024-08-01T16:29:59+00:00",
        "comment_author": "mehulkar",
        "comment_body": "This is being called a billion times becuase `.with_default_config_path()` is called a lot. Generally think when something is called a lot, it should be trace logging. Aggregations are more useful for debug logging",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1700483125",
    "pr_number": 8910,
    "pr_file": "crates/turborepo-repository/src/package_json.rs",
    "created_at": "2024-08-01T16:30:40+00:00",
    "commented_code": "impl PackageJson {\n     pub fn load(path: &AbsoluteSystemPath) -> Result<PackageJson, Error> {\n-        tracing::debug!(\"loading package.json from {}\", path);\n+        tracing::trace!(\"loading package.json from {}\", path);",
    "repo_full_name": "vercel/turborepo",
    "discussion_comments": [
      {
        "comment_id": "1700483125",
        "repo_full_name": "vercel/turborepo",
        "pr_number": 8910,
        "pr_file": "crates/turborepo-repository/src/package_json.rs",
        "discussion_id": "1700483125",
        "commented_code": "@@ -159,7 +159,7 @@ impl From<RawPnpmConfig> for PnpmConfig {\n \n impl PackageJson {\n     pub fn load(path: &AbsoluteSystemPath) -> Result<PackageJson, Error> {\n-        tracing::debug!(\"loading package.json from {}\", path);\n+        tracing::trace!(\"loading package.json from {}\", path);",
        "comment_created_at": "2024-08-01T16:30:40+00:00",
        "comment_author": "mehulkar",
        "comment_body": "This is call N times in a monorepo with N packages, making `-vv` logging very noisy. I think it's better to put this in `-vvv` (trace) logging",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1715756353",
    "pr_number": 8997,
    "pr_file": "crates/turborepo-lib/src/run/cache.rs",
    "created_at": "2024-08-13T18:39:10+00:00",
    "commented_code": "globwalk::WalkType::All,\n         )?;\n \n+        debug!(\"files to cache: {:?}\", files_to_be_cached.len());",
    "repo_full_name": "vercel/turborepo",
    "discussion_comments": [
      {
        "comment_id": "1715756353",
        "repo_full_name": "vercel/turborepo",
        "pr_number": 8997,
        "pr_file": "crates/turborepo-lib/src/run/cache.rs",
        "discussion_id": "1715756353",
        "commented_code": "@@ -360,6 +364,21 @@ impl TaskCache {\n             globwalk::WalkType::All,\n         )?;\n \n+        debug!(\"files to cache: {:?}\", files_to_be_cached.len());",
        "comment_created_at": "2024-08-13T18:39:10+00:00",
        "comment_author": "chris-olszewski",
        "comment_body": "Maybe add in the task id here\r\n```suggestion\r\n        debug!(\"{}: files to cache: {:?}\", self.task_id, files_to_be_cached.len());\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1699124368",
    "pr_number": 8872,
    "pr_file": "crates/turborepo-repository/src/change_mapper/mod.rs",
    "created_at": "2024-07-31T21:26:06+00:00",
    "commented_code": "// Internal root dependency changed so global hash has changed\n                 PackageMapping::Package(pkg) if root_internal_deps.contains(&pkg) => {\n                     debug!(\n-                        \"root internal dependency \\\"{}\\\" changed due to: {file:?}\",\n+                        \"{} changes root internal dependency: \\\"{}\\\"\",\n+                        file.to_string(),\n                         pkg.name\n                     );\n-                    return PackageChanges::All;\n+                    return PackageChanges::All(AllPackageChangeReason::RootInternalDepChanged);\n                 }\n                 PackageMapping::Package(pkg) => {\n-                    debug!(\"package {pkg:?} changed due to {file:?}\");\n+                    debug!(\"{} changes \\\"{}\\\"\", file.to_string(), pkg.name);\n                     changed_packages.insert(pkg);\n                 }\n                 PackageMapping::All => {\n-                    debug!(\"all packages changed due to {file:?}\");\n-                    return PackageChanges::All;\n+                    return PackageChanges::All(AllPackageChangeReason::NonPackageFileChanged);",
    "repo_full_name": "vercel/turborepo",
    "discussion_comments": [
      {
        "comment_id": "1699124368",
        "repo_full_name": "vercel/turborepo",
        "pr_number": 8872,
        "pr_file": "crates/turborepo-repository/src/change_mapper/mod.rs",
        "discussion_id": "1699124368",
        "commented_code": "@@ -120,18 +140,18 @@ impl<'a, PD: PackageChangeMapper> ChangeMapper<'a, PD> {\n                 // Internal root dependency changed so global hash has changed\n                 PackageMapping::Package(pkg) if root_internal_deps.contains(&pkg) => {\n                     debug!(\n-                        \"root internal dependency \\\"{}\\\" changed due to: {file:?}\",\n+                        \"{} changes root internal dependency: \\\"{}\\\"\",\n+                        file.to_string(),\n                         pkg.name\n                     );\n-                    return PackageChanges::All;\n+                    return PackageChanges::All(AllPackageChangeReason::RootInternalDepChanged);\n                 }\n                 PackageMapping::Package(pkg) => {\n-                    debug!(\"package {pkg:?} changed due to {file:?}\");\n+                    debug!(\"{} changes \\\"{}\\\"\", file.to_string(), pkg.name);\n                     changed_packages.insert(pkg);\n                 }\n                 PackageMapping::All => {\n-                    debug!(\"all packages changed due to {file:?}\");\n-                    return PackageChanges::All;\n+                    return PackageChanges::All(AllPackageChangeReason::NonPackageFileChanged);",
        "comment_created_at": "2024-07-31T21:26:06+00:00",
        "comment_author": "mehulkar",
        "comment_body": "```suggestion\r\n                    debug!(\"all packages changed due to {file:?}\");\r\n                    return PackageChanges::All(AllPackageChangeReason::NonPackageFileChanged);\r\n```",
        "pr_file_module": null
      }
    ]
  }
]