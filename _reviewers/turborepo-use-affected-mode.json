[
  {
    "discussion_id": "1735262455",
    "pr_number": 9078,
    "pr_file": "docs/repo-docs/crafting-your-repository/constructing-ci.mdx",
    "created_at": "2024-08-28T20:37:39+00:00",
    "commented_code": "available.\n </Callout>\n \n+You can also use [the `--affected` flag](#running-only-affected-tasks) to only run tasks that have changes.",
    "repo_full_name": "vercel/turborepo",
    "discussion_comments": [
      {
        "comment_id": "1735262455",
        "repo_full_name": "vercel/turborepo",
        "pr_number": 9078,
        "pr_file": "docs/repo-docs/crafting-your-repository/constructing-ci.mdx",
        "discussion_id": "1735262455",
        "commented_code": "@@ -46,6 +46,8 @@ You can filter your tasks using [the `--filter` flag](/repo/docs/reference/run#-\n   available.\n </Callout>\n \n+You can also use [the `--affected` flag](#running-only-affected-tasks) to only run tasks that have changes.",
        "comment_created_at": "2024-08-28T20:37:39+00:00",
        "comment_author": "NicholasLYang",
        "comment_body": "nit: only run tasks in packages that have changes",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1727588171",
    "pr_number": 9046,
    "pr_file": "docs/repo-docs/reference/run.mdx",
    "created_at": "2024-08-22T17:58:04+00:00",
    "commented_code": "## Options\n \n+### `--affected`\n+\n+Filter down to only packages that are affected by changes on the current branch.\n+\n+By default the changes considered are those between `main` and `HEAD`.\n+\n+- You can override `main` as the default base by setting `TURBO_SCM_BASE`.\n+- You can override `HEAD` as the default head by setting `TURBO_SCM_HEAD`.\n+\n+```bash titel=\"Terminal\"\n+TURBO_SCM_BASE=development turbo run build --affected\n+```\n+\n+<Callout type=\"warn\">\n+  Performing this comparison requires everything between base and head exist in\n+  the checkout. If the checkout is too shallow, then all packages will be\n+  considered changed.",
    "repo_full_name": "vercel/turborepo",
    "discussion_comments": [
      {
        "comment_id": "1727588171",
        "repo_full_name": "vercel/turborepo",
        "pr_number": 9046,
        "pr_file": "docs/repo-docs/reference/run.mdx",
        "discussion_id": "1727588171",
        "commented_code": "@@ -26,6 +26,25 @@ turbo run [tasks] [options] [-- [args passed to tasks]]\n \n ## Options\n \n+### `--affected`\n+\n+Filter down to only packages that are affected by changes on the current branch.\n+\n+By default the changes considered are those between `main` and `HEAD`.\n+\n+- You can override `main` as the default base by setting `TURBO_SCM_BASE`.\n+- You can override `HEAD` as the default head by setting `TURBO_SCM_HEAD`.\n+\n+```bash titel=\"Terminal\"\n+TURBO_SCM_BASE=development turbo run build --affected\n+```\n+\n+<Callout type=\"warn\">\n+  Performing this comparison requires everything between base and head exist in\n+  the checkout. If the checkout is too shallow, then all packages will be\n+  considered changed.",
        "comment_created_at": "2024-08-22T17:58:04+00:00",
        "comment_author": "tknickman",
        "comment_body": "```suggestion\r\n  Performing this comparison requires everything between base and head to exist in\r\n  the checkout. If the checkout is too shallow, then all packages will be\r\n  considered changed.\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1727589269",
    "pr_number": 9046,
    "pr_file": "docs/repo-docs/reference/run.mdx",
    "created_at": "2024-08-22T17:58:43+00:00",
    "commented_code": "## Options\n \n+### `--affected`\n+\n+Filter down to only packages that are affected by changes on the current branch.",
    "repo_full_name": "vercel/turborepo",
    "discussion_comments": [
      {
        "comment_id": "1727589269",
        "repo_full_name": "vercel/turborepo",
        "pr_number": 9046,
        "pr_file": "docs/repo-docs/reference/run.mdx",
        "discussion_id": "1727589269",
        "commented_code": "@@ -26,6 +26,25 @@ turbo run [tasks] [options] [-- [args passed to tasks]]\n \n ## Options\n \n+### `--affected`\n+\n+Filter down to only packages that are affected by changes on the current branch.",
        "comment_created_at": "2024-08-22T17:58:43+00:00",
        "comment_author": "tknickman",
        "comment_body": "```suggestion\r\nAutomatically filter to only packages that are affected by changes on the current branch.\r\n```",
        "pr_file_module": null
      }
    ]
  }
]