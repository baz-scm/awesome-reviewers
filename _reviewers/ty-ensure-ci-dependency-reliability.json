[
  {
    "discussion_id": "2091940865",
    "pr_number": 413,
    "pr_file": ".github/workflows/daily_property_tests.yml",
    "created_at": "2025-05-15T20:50:47+00:00",
    "commented_code": "+name: Daily property test run\n+\n+on:\n+  workflow_dispatch:\n+  schedule:\n+    - cron: \"0 12 * * *\"\n+  pull_request:\n+    paths:\n+      - \".github/workflows/daily_property_tests.yaml\"\n+\n+permissions:\n+  contents: read\n+\n+concurrency:\n+  group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}\n+  cancel-in-progress: true\n+\n+env:\n+  CARGO_INCREMENTAL: 0\n+  CARGO_NET_RETRY: 10\n+  CARGO_TERM_COLOR: always\n+  RUSTUP_MAX_RETRIES: 10\n+  FORCE_COLOR: 1\n+\n+jobs:\n+  property_tests:\n+    name: Property tests\n+    runs-on: ubuntu-latest\n+    timeout-minutes: 20\n+    # Don't run the cron job on forks:\n+    if: ${{ github.repository == 'astral-sh/ty' || github.event_name != 'schedule' }}\n+    steps:\n+      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2\n+        with:\n+          persist-credentials: false",
    "repo_full_name": "astral-sh/ty",
    "discussion_comments": [
      {
        "comment_id": "2091940865",
        "repo_full_name": "astral-sh/ty",
        "pr_number": 413,
        "pr_file": ".github/workflows/daily_property_tests.yml",
        "discussion_id": "2091940865",
        "commented_code": "@@ -0,0 +1,74 @@\n+name: Daily property test run\n+\n+on:\n+  workflow_dispatch:\n+  schedule:\n+    - cron: \"0 12 * * *\"\n+  pull_request:\n+    paths:\n+      - \".github/workflows/daily_property_tests.yaml\"\n+\n+permissions:\n+  contents: read\n+\n+concurrency:\n+  group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}\n+  cancel-in-progress: true\n+\n+env:\n+  CARGO_INCREMENTAL: 0\n+  CARGO_NET_RETRY: 10\n+  CARGO_TERM_COLOR: always\n+  RUSTUP_MAX_RETRIES: 10\n+  FORCE_COLOR: 1\n+\n+jobs:\n+  property_tests:\n+    name: Property tests\n+    runs-on: ubuntu-latest\n+    timeout-minutes: 20\n+    # Don't run the cron job on forks:\n+    if: ${{ github.repository == 'astral-sh/ty' || github.event_name != 'schedule' }}\n+    steps:\n+      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2\n+        with:\n+          persist-credentials: false",
        "comment_created_at": "2025-05-15T20:50:47+00:00",
        "comment_author": "AlexWaygood",
        "comment_body": "Can we just checkout the Ruff repo instead of this repo? That way the CI job will use the `main` branch of the Ruff repo for testing, rather than the submodule bundled in this repo (which might not be up to date with the main branch of the Ruff repo)\r\n\r\nI think this is the config you need to do that:\r\n\r\n```suggestion\r\n      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2\r\n        with:\r\n          persist-credentials: false\r\n          repository: astral-sh/ruff\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "2091944315",
        "repo_full_name": "astral-sh/ty",
        "pr_number": 413,
        "pr_file": ".github/workflows/daily_property_tests.yml",
        "discussion_id": "2091940865",
        "commented_code": "@@ -0,0 +1,74 @@\n+name: Daily property test run\n+\n+on:\n+  workflow_dispatch:\n+  schedule:\n+    - cron: \"0 12 * * *\"\n+  pull_request:\n+    paths:\n+      - \".github/workflows/daily_property_tests.yaml\"\n+\n+permissions:\n+  contents: read\n+\n+concurrency:\n+  group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}\n+  cancel-in-progress: true\n+\n+env:\n+  CARGO_INCREMENTAL: 0\n+  CARGO_NET_RETRY: 10\n+  CARGO_TERM_COLOR: always\n+  RUSTUP_MAX_RETRIES: 10\n+  FORCE_COLOR: 1\n+\n+jobs:\n+  property_tests:\n+    name: Property tests\n+    runs-on: ubuntu-latest\n+    timeout-minutes: 20\n+    # Don't run the cron job on forks:\n+    if: ${{ github.repository == 'astral-sh/ty' || github.event_name != 'schedule' }}\n+    steps:\n+      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2\n+        with:\n+          persist-credentials: false",
        "comment_created_at": "2025-05-15T20:53:31+00:00",
        "comment_author": "MatthewMckee4",
        "comment_body": "Yeah this makes sense, my thinking was that it only mattered about what commit hash of ruff was currently used for ty, but this makes more sense",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2091947920",
    "pr_number": 413,
    "pr_file": ".github/workflows/daily_property_tests.yml",
    "created_at": "2025-05-15T20:56:11+00:00",
    "commented_code": "+name: Daily property test run\n+\n+on:\n+  workflow_dispatch:\n+  schedule:\n+    - cron: \"0 12 * * *\"\n+  pull_request:\n+    paths:\n+      - \".github/workflows/daily_property_tests.yaml\"\n+\n+permissions:\n+  contents: read\n+\n+concurrency:\n+  group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}\n+  cancel-in-progress: true\n+\n+env:\n+  CARGO_INCREMENTAL: 0\n+  CARGO_NET_RETRY: 10\n+  CARGO_TERM_COLOR: always\n+  RUSTUP_MAX_RETRIES: 10\n+  FORCE_COLOR: 1\n+\n+jobs:\n+  property_tests:\n+    name: Property tests\n+    runs-on: ubuntu-latest\n+    timeout-minutes: 20\n+    # Don't run the cron job on forks:\n+    if: ${{ github.repository == 'astral-sh/ty' || github.event_name != 'schedule' }}\n+    steps:\n+      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2\n+        with:\n+          persist-credentials: false\n+          repository: astral-sh/ruff\n+      - name: \"Install Rust toolchain\"\n+        run: rustup show\n+      - name: \"Install mold\"\n+        uses: rui314/setup-mold@e16410e7f8d9e167b74ad5697a9089a35126eb50 # v1\n+      - uses: Swatinem/rust-cache@9d47c6ad4b02e050fd481d890b2ea34778fd09d6 # v2.7.8\n+      - name: Build ty\n+        working-directory: ruff\n+        # A release build takes longer (2 min vs 1 min), but the property tests run much faster in release\n+        # mode (1.5 min vs 14 min), so the overall time is shorter with a release build.\n+        run: cargo build --locked --release --package ty_python_semantic --tests\n+      - name: Run property tests\n+        shell: bash\n+        working-directory: ruff",
    "repo_full_name": "astral-sh/ty",
    "discussion_comments": [
      {
        "comment_id": "2091947920",
        "repo_full_name": "astral-sh/ty",
        "pr_number": 413,
        "pr_file": ".github/workflows/daily_property_tests.yml",
        "discussion_id": "2091947920",
        "commented_code": "@@ -0,0 +1,75 @@\n+name: Daily property test run\n+\n+on:\n+  workflow_dispatch:\n+  schedule:\n+    - cron: \"0 12 * * *\"\n+  pull_request:\n+    paths:\n+      - \".github/workflows/daily_property_tests.yaml\"\n+\n+permissions:\n+  contents: read\n+\n+concurrency:\n+  group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}\n+  cancel-in-progress: true\n+\n+env:\n+  CARGO_INCREMENTAL: 0\n+  CARGO_NET_RETRY: 10\n+  CARGO_TERM_COLOR: always\n+  RUSTUP_MAX_RETRIES: 10\n+  FORCE_COLOR: 1\n+\n+jobs:\n+  property_tests:\n+    name: Property tests\n+    runs-on: ubuntu-latest\n+    timeout-minutes: 20\n+    # Don't run the cron job on forks:\n+    if: ${{ github.repository == 'astral-sh/ty' || github.event_name != 'schedule' }}\n+    steps:\n+      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2\n+        with:\n+          persist-credentials: false\n+          repository: astral-sh/ruff\n+      - name: \"Install Rust toolchain\"\n+        run: rustup show\n+      - name: \"Install mold\"\n+        uses: rui314/setup-mold@e16410e7f8d9e167b74ad5697a9089a35126eb50 # v1\n+      - uses: Swatinem/rust-cache@9d47c6ad4b02e050fd481d890b2ea34778fd09d6 # v2.7.8\n+      - name: Build ty\n+        working-directory: ruff\n+        # A release build takes longer (2 min vs 1 min), but the property tests run much faster in release\n+        # mode (1.5 min vs 14 min), so the overall time is shorter with a release build.\n+        run: cargo build --locked --release --package ty_python_semantic --tests\n+      - name: Run property tests\n+        shell: bash\n+        working-directory: ruff",
        "comment_created_at": "2025-05-15T20:56:11+00:00",
        "comment_author": "AlexWaygood",
        "comment_body": "now that we're checking out Ruff rather than ty:\r\n\r\n```suggestion\r\n      - name: Build ty\r\n        # A release build takes longer (2 min vs 1 min), but the property tests run much faster in release\r\n        # mode (1.5 min vs 14 min), so the overall time is shorter with a release build.\r\n        run: cargo build --locked --release --package ty_python_semantic --tests\r\n      - name: Run property tests\r\n        shell: bash\r\n```",
        "pr_file_module": null
      },
      {
        "comment_id": "2091949272",
        "repo_full_name": "astral-sh/ty",
        "pr_number": 413,
        "pr_file": ".github/workflows/daily_property_tests.yml",
        "discussion_id": "2091947920",
        "commented_code": "@@ -0,0 +1,75 @@\n+name: Daily property test run\n+\n+on:\n+  workflow_dispatch:\n+  schedule:\n+    - cron: \"0 12 * * *\"\n+  pull_request:\n+    paths:\n+      - \".github/workflows/daily_property_tests.yaml\"\n+\n+permissions:\n+  contents: read\n+\n+concurrency:\n+  group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}\n+  cancel-in-progress: true\n+\n+env:\n+  CARGO_INCREMENTAL: 0\n+  CARGO_NET_RETRY: 10\n+  CARGO_TERM_COLOR: always\n+  RUSTUP_MAX_RETRIES: 10\n+  FORCE_COLOR: 1\n+\n+jobs:\n+  property_tests:\n+    name: Property tests\n+    runs-on: ubuntu-latest\n+    timeout-minutes: 20\n+    # Don't run the cron job on forks:\n+    if: ${{ github.repository == 'astral-sh/ty' || github.event_name != 'schedule' }}\n+    steps:\n+      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2\n+        with:\n+          persist-credentials: false\n+          repository: astral-sh/ruff\n+      - name: \"Install Rust toolchain\"\n+        run: rustup show\n+      - name: \"Install mold\"\n+        uses: rui314/setup-mold@e16410e7f8d9e167b74ad5697a9089a35126eb50 # v1\n+      - uses: Swatinem/rust-cache@9d47c6ad4b02e050fd481d890b2ea34778fd09d6 # v2.7.8\n+      - name: Build ty\n+        working-directory: ruff\n+        # A release build takes longer (2 min vs 1 min), but the property tests run much faster in release\n+        # mode (1.5 min vs 14 min), so the overall time is shorter with a release build.\n+        run: cargo build --locked --release --package ty_python_semantic --tests\n+      - name: Run property tests\n+        shell: bash\n+        working-directory: ruff",
        "comment_created_at": "2025-05-15T20:57:08+00:00",
        "comment_author": "MatthewMckee4",
        "comment_body": "sure, thanks",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2079139040",
    "pr_number": 263,
    "pr_file": ".pre-commit-config.yaml",
    "created_at": "2025-05-08T08:08:03+00:00",
    "commented_code": ")$\n \n repos:\n+  - repo: local",
    "repo_full_name": "astral-sh/ty",
    "discussion_comments": [
      {
        "comment_id": "2079139040",
        "repo_full_name": "astral-sh/ty",
        "pr_number": 263,
        "pr_file": ".pre-commit-config.yaml",
        "discussion_id": "2079139040",
        "commented_code": "@@ -7,6 +7,13 @@ exclude: |\n   )$\n \n repos:\n+  - repo: local",
        "comment_created_at": "2025-05-08T08:08:03+00:00",
        "comment_author": "MichaReiser",
        "comment_body": "Could we use https://github.com/astral-sh/uv-pre-commit instead which ensures that `uv` gets installed if it isn't present on the system",
        "pr_file_module": null
      }
    ]
  }
]