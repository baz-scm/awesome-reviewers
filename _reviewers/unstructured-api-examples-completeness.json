[
  {
    "discussion_id": "1479130803",
    "pr_number": 2512,
    "pr_file": "docs/source/apis/saas_api.rst",
    "created_at": "2024-02-06T01:49:40+00:00",
    "commented_code": "curl -X 'POST' 'https://<REPLACE WITH THE URL IN THE EMAIL>'\n          -H 'accept: application/json'\n          -H 'Content-Type: multipart/form-data'\n-         -H 'unstructured-api-key: <REPLACE WITH API KEY IN THE EMAIL>'\n+         -H 'unstructured-api-key: <REPLACE WITH API KEY IN THE EMAIL>/general/v0/general'\n          -F 'files=@sample-docs/family-day.eml'\n \n .. image:: imgs/paid_api/sample_output.png\n   :align: center\n   :alt: Sample Output\n \n+\n+Or, you can use `partition_via_api <https://unstructured-io.github.io/unstructured/core/partition.html#partition-via-api>`__ to access the SaaS API URL.\n+\n+.. code:: python\n+\n+  from unstructured.partition.api import partition_via_api\n+\n+  filename = \"example-docs/eml/fake-email.eml\"\n+\n+  elements = partition_via_api(\n+    filename=filename,",
    "repo_full_name": "Unstructured-IO/unstructured",
    "discussion_comments": [
      {
        "comment_id": "1479130803",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 2512,
        "pr_file": "docs/source/apis/saas_api.rst",
        "discussion_id": "1479130803",
        "commented_code": "@@ -74,13 +74,27 @@ Please refer to the sample code and output provided below to begin processing do\n     curl -X 'POST' 'https://<REPLACE WITH THE URL IN THE EMAIL>'\n          -H 'accept: application/json'\n          -H 'Content-Type: multipart/form-data'\n-         -H 'unstructured-api-key: <REPLACE WITH API KEY IN THE EMAIL>'\n+         -H 'unstructured-api-key: <REPLACE WITH API KEY IN THE EMAIL>/general/v0/general'\n          -F 'files=@sample-docs/family-day.eml'\n \n .. image:: imgs/paid_api/sample_output.png\n   :align: center\n   :alt: Sample Output\n \n+\n+Or, you can use `partition_via_api <https://unstructured-io.github.io/unstructured/core/partition.html#partition-via-api>`__ to access the SaaS API URL.\n+\n+.. code:: python\n+\n+  from unstructured.partition.api import partition_via_api\n+\n+  filename = \"example-docs/eml/fake-email.eml\"\n+\n+  elements = partition_via_api(\n+    filename=filename,",
        "comment_created_at": "2024-02-06T01:49:40+00:00",
        "comment_author": "shreyanid",
        "comment_body": "```suggestion\r\n  elements = partition_via_api(\r\n    filename=filename,\r\n    api_key=<<REPLACE WITH YOUR API KEY>>,\r\n```\r\nmight be helpful to include both key and url in the example for clarity on what to do with the credentials they receive",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1479131855",
    "pr_number": 2512,
    "pr_file": "docs/source/core/partition.rst",
    "created_at": "2024-02-06T01:51:48+00:00",
    "commented_code": "filename = \"example-docs/eml/fake-email.eml\"\n \n   elements = partition_via_api(\n-    filename=filename, api_url=\"http://localhost:5000/general/v0/general\"\n+    filename=filename,\n+    api_url=\"http://<<REPLACE WITH YOUR API KEY>>/general/v0/general\"",
    "repo_full_name": "Unstructured-IO/unstructured",
    "discussion_comments": [
      {
        "comment_id": "1479131855",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 2512,
        "pr_file": "docs/source/core/partition.rst",
        "discussion_id": "1479131855",
        "commented_code": "@@ -888,7 +889,8 @@ documentation on how to run the API as a container locally.\n   filename = \"example-docs/eml/fake-email.eml\"\n \n   elements = partition_via_api(\n-    filename=filename, api_url=\"http://localhost:5000/general/v0/general\"\n+    filename=filename,\n+    api_url=\"http://<<REPLACE WITH YOUR API KEY>>/general/v0/general\"",
        "comment_created_at": "2024-02-06T01:51:48+00:00",
        "comment_author": "shreyanid",
        "comment_body": "same fix needed here, this is URL and not key, and it would be nice to include api_key in this example snippet",
        "pr_file_module": null
      },
      {
        "comment_id": "1479134696",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 2512,
        "pr_file": "docs/source/core/partition.rst",
        "discussion_id": "1479131855",
        "commented_code": "@@ -888,7 +889,8 @@ documentation on how to run the API as a container locally.\n   filename = \"example-docs/eml/fake-email.eml\"\n \n   elements = partition_via_api(\n-    filename=filename, api_url=\"http://localhost:5000/general/v0/general\"\n+    filename=filename,\n+    api_url=\"http://<<REPLACE WITH YOUR API KEY>>/general/v0/general\"",
        "comment_created_at": "2024-02-06T01:57:23+00:00",
        "comment_author": "ron-unstructured",
        "comment_body": "Good point. I've added the `api_key` and used `https` in the `api_url`.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1479272647",
    "pr_number": 2512,
    "pr_file": "docs/source/core/partition.rst",
    "created_at": "2024-02-06T06:20:44+00:00",
    "commented_code": "filename = \"example-docs/eml/fake-email.eml\"\n \n   elements = partition_via_api(\n-    filename=filename, api_url=\"http://localhost:5000/general/v0/general\"\n+    filename=filename,\n+    api_key=<<REPLACE WITH YOUR API KEY>>,\n+    api_url=\"https://<<REPLACE WITH YOUR API URL>>/general/v0/general\"",
    "repo_full_name": "Unstructured-IO/unstructured",
    "discussion_comments": [
      {
        "comment_id": "1479272647",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 2512,
        "pr_file": "docs/source/core/partition.rst",
        "discussion_id": "1479272647",
        "commented_code": "@@ -888,7 +888,9 @@ documentation on how to run the API as a container locally.\n   filename = \"example-docs/eml/fake-email.eml\"\n \n   elements = partition_via_api(\n-    filename=filename, api_url=\"http://localhost:5000/general/v0/general\"\n+    filename=filename,\n+    api_key=<<REPLACE WITH YOUR API KEY>>,\n+    api_url=\"https://<<REPLACE WITH YOUR API URL>>/general/v0/general\"",
        "comment_created_at": "2024-02-06T06:20:44+00:00",
        "comment_author": "shreyanid",
        "comment_body": "this may not make sense to non saas api users (since this is in the core partition section). should we maintain separate examples so the localhost version can still be illustrated?",
        "pr_file_module": null
      },
      {
        "comment_id": "1479819744",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 2512,
        "pr_file": "docs/source/core/partition.rst",
        "discussion_id": "1479272647",
        "commented_code": "@@ -888,7 +888,9 @@ documentation on how to run the API as a container locally.\n   filename = \"example-docs/eml/fake-email.eml\"\n \n   elements = partition_via_api(\n-    filename=filename, api_url=\"http://localhost:5000/general/v0/general\"\n+    filename=filename,\n+    api_key=<<REPLACE WITH YOUR API KEY>>,\n+    api_url=\"https://<<REPLACE WITH YOUR API URL>>/general/v0/general\"",
        "comment_created_at": "2024-02-06T13:43:23+00:00",
        "comment_author": "MthwRobinson",
        "comment_body": "Yeah let's do separate examples for these. For the localhost one is also the exact URL, so that one's an easy copy/paste",
        "pr_file_module": null
      },
      {
        "comment_id": "1480635228",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 2512,
        "pr_file": "docs/source/core/partition.rst",
        "discussion_id": "1479272647",
        "commented_code": "@@ -888,7 +888,9 @@ documentation on how to run the API as a container locally.\n   filename = \"example-docs/eml/fake-email.eml\"\n \n   elements = partition_via_api(\n-    filename=filename, api_url=\"http://localhost:5000/general/v0/general\"\n+    filename=filename,\n+    api_key=<<REPLACE WITH YOUR API KEY>>,\n+    api_url=\"https://<<REPLACE WITH YOUR API URL>>/general/v0/general\"",
        "comment_created_at": "2024-02-06T22:55:00+00:00",
        "comment_author": "ron-unstructured",
        "comment_body": "Noted, I have created separate examples to use `partition_via_api` for SaaS and Self-hosted APIs.",
        "pr_file_module": null
      }
    ]
  }
]