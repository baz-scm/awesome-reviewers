[
  {
    "discussion_id": "1655436064",
    "pr_number": 3286,
    "pr_file": "unstructured/ingest/v2/examples/example_pinecone.py",
    "created_at": "2024-06-26T19:50:05+00:00",
    "commented_code": "+from pathlib import Path\n+\n+from unstructured.ingest.v2.interfaces import ProcessorConfig\n+from unstructured.ingest.v2.logger import logger\n+from unstructured.ingest.v2.pipeline.pipeline import Pipeline\n+from unstructured.ingest.v2.processes.chunker import ChunkerConfig\n+from unstructured.ingest.v2.processes.connectors.local import (\n+    LocalConnectionConfig,\n+    LocalDownloaderConfig,\n+    LocalIndexerConfig,\n+)\n+from unstructured.ingest.v2.processes.connectors.pinecone import (\n+    PineconeAccessConfig,\n+    PineconeConnectionConfig,\n+    PineconeUploaderConfig,\n+    PineconeUploadStagerConfig,\n+)\n+from unstructured.ingest.v2.processes.embedder import EmbedderConfig\n+from unstructured.ingest.v2.processes.partitioner import PartitionerConfig\n+\n+base_path = Path(__file__).parent.parent.parent.parent.parent\n+docs_path = base_path / \"example-docs\"\n+work_dir = base_path / \"tmp_ingest\"\n+output_path = work_dir / \"output\"\n+download_path = work_dir / \"download\"\n+\n+if __name__ == \"__main__\":\n+    logger.info(f\"Writing all content in: {work_dir.resolve()}\")\n+    Pipeline.from_configs(\n+        context=ProcessorConfig(work_dir=str(work_dir.resolve())),\n+        indexer_config=LocalIndexerConfig(input_path=str(docs_path.resolve()) + \"/multisimple/\"),\n+        downloader_config=LocalDownloaderConfig(download_dir=download_path),\n+        source_connection_config=LocalConnectionConfig(),\n+        partitioner_config=PartitionerConfig(strategy=\"fast\"),\n+        chunker_config=ChunkerConfig(\n+            chunking_strategy=\"by_title\",\n+            chunk_include_orig_elements=False,\n+            chunk_max_characters=1500,\n+            chunk_multipage_sections=True,\n+        ),\n+        embedder_config=EmbedderConfig(embedding_provider=\"langchain-huggingface\"),\n+        destination_connection_config=PineconeConnectionConfig(\n+            access_config=PineconeAccessConfig(api_key=\"0e8555a2-b944-4da4-837e-03b1202e00c7\"),",
    "repo_full_name": "Unstructured-IO/unstructured",
    "discussion_comments": [
      {
        "comment_id": "1655436064",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 3286,
        "pr_file": "unstructured/ingest/v2/examples/example_pinecone.py",
        "discussion_id": "1655436064",
        "commented_code": "@@ -0,0 +1,49 @@\n+from pathlib import Path\n+\n+from unstructured.ingest.v2.interfaces import ProcessorConfig\n+from unstructured.ingest.v2.logger import logger\n+from unstructured.ingest.v2.pipeline.pipeline import Pipeline\n+from unstructured.ingest.v2.processes.chunker import ChunkerConfig\n+from unstructured.ingest.v2.processes.connectors.local import (\n+    LocalConnectionConfig,\n+    LocalDownloaderConfig,\n+    LocalIndexerConfig,\n+)\n+from unstructured.ingest.v2.processes.connectors.pinecone import (\n+    PineconeAccessConfig,\n+    PineconeConnectionConfig,\n+    PineconeUploaderConfig,\n+    PineconeUploadStagerConfig,\n+)\n+from unstructured.ingest.v2.processes.embedder import EmbedderConfig\n+from unstructured.ingest.v2.processes.partitioner import PartitionerConfig\n+\n+base_path = Path(__file__).parent.parent.parent.parent.parent\n+docs_path = base_path / \"example-docs\"\n+work_dir = base_path / \"tmp_ingest\"\n+output_path = work_dir / \"output\"\n+download_path = work_dir / \"download\"\n+\n+if __name__ == \"__main__\":\n+    logger.info(f\"Writing all content in: {work_dir.resolve()}\")\n+    Pipeline.from_configs(\n+        context=ProcessorConfig(work_dir=str(work_dir.resolve())),\n+        indexer_config=LocalIndexerConfig(input_path=str(docs_path.resolve()) + \"/multisimple/\"),\n+        downloader_config=LocalDownloaderConfig(download_dir=download_path),\n+        source_connection_config=LocalConnectionConfig(),\n+        partitioner_config=PartitionerConfig(strategy=\"fast\"),\n+        chunker_config=ChunkerConfig(\n+            chunking_strategy=\"by_title\",\n+            chunk_include_orig_elements=False,\n+            chunk_max_characters=1500,\n+            chunk_multipage_sections=True,\n+        ),\n+        embedder_config=EmbedderConfig(embedding_provider=\"langchain-huggingface\"),\n+        destination_connection_config=PineconeConnectionConfig(\n+            access_config=PineconeAccessConfig(api_key=\"0e8555a2-b944-4da4-837e-03b1202e00c7\"),",
        "comment_created_at": "2024-06-26T19:50:05+00:00",
        "comment_author": "ryannikolaidis",
        "comment_body": "have rotated it, but reminder: in the future don't use real secret values in plain text in examples or anywhere in code for that matter. I typically don't put in anything that even looks like a key but instead do something like `\"<YOUR_PINECONE_API_KEY_HERE>\"` to make it very clear and avoid.",
        "pr_file_module": null
      },
      {
        "comment_id": "1655436354",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 3286,
        "pr_file": "unstructured/ingest/v2/examples/example_pinecone.py",
        "discussion_id": "1655436064",
        "commented_code": "@@ -0,0 +1,49 @@\n+from pathlib import Path\n+\n+from unstructured.ingest.v2.interfaces import ProcessorConfig\n+from unstructured.ingest.v2.logger import logger\n+from unstructured.ingest.v2.pipeline.pipeline import Pipeline\n+from unstructured.ingest.v2.processes.chunker import ChunkerConfig\n+from unstructured.ingest.v2.processes.connectors.local import (\n+    LocalConnectionConfig,\n+    LocalDownloaderConfig,\n+    LocalIndexerConfig,\n+)\n+from unstructured.ingest.v2.processes.connectors.pinecone import (\n+    PineconeAccessConfig,\n+    PineconeConnectionConfig,\n+    PineconeUploaderConfig,\n+    PineconeUploadStagerConfig,\n+)\n+from unstructured.ingest.v2.processes.embedder import EmbedderConfig\n+from unstructured.ingest.v2.processes.partitioner import PartitionerConfig\n+\n+base_path = Path(__file__).parent.parent.parent.parent.parent\n+docs_path = base_path / \"example-docs\"\n+work_dir = base_path / \"tmp_ingest\"\n+output_path = work_dir / \"output\"\n+download_path = work_dir / \"download\"\n+\n+if __name__ == \"__main__\":\n+    logger.info(f\"Writing all content in: {work_dir.resolve()}\")\n+    Pipeline.from_configs(\n+        context=ProcessorConfig(work_dir=str(work_dir.resolve())),\n+        indexer_config=LocalIndexerConfig(input_path=str(docs_path.resolve()) + \"/multisimple/\"),\n+        downloader_config=LocalDownloaderConfig(download_dir=download_path),\n+        source_connection_config=LocalConnectionConfig(),\n+        partitioner_config=PartitionerConfig(strategy=\"fast\"),\n+        chunker_config=ChunkerConfig(\n+            chunking_strategy=\"by_title\",\n+            chunk_include_orig_elements=False,\n+            chunk_max_characters=1500,\n+            chunk_multipage_sections=True,\n+        ),\n+        embedder_config=EmbedderConfig(embedding_provider=\"langchain-huggingface\"),\n+        destination_connection_config=PineconeConnectionConfig(\n+            access_config=PineconeAccessConfig(api_key=\"0e8555a2-b944-4da4-837e-03b1202e00c7\"),",
        "comment_created_at": "2024-06-26T19:50:25+00:00",
        "comment_author": "ryannikolaidis",
        "comment_body": "maybe worth just updating this to avoid that confusion?",
        "pr_file_module": null
      },
      {
        "comment_id": "1655437982",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 3286,
        "pr_file": "unstructured/ingest/v2/examples/example_pinecone.py",
        "discussion_id": "1655436064",
        "commented_code": "@@ -0,0 +1,49 @@\n+from pathlib import Path\n+\n+from unstructured.ingest.v2.interfaces import ProcessorConfig\n+from unstructured.ingest.v2.logger import logger\n+from unstructured.ingest.v2.pipeline.pipeline import Pipeline\n+from unstructured.ingest.v2.processes.chunker import ChunkerConfig\n+from unstructured.ingest.v2.processes.connectors.local import (\n+    LocalConnectionConfig,\n+    LocalDownloaderConfig,\n+    LocalIndexerConfig,\n+)\n+from unstructured.ingest.v2.processes.connectors.pinecone import (\n+    PineconeAccessConfig,\n+    PineconeConnectionConfig,\n+    PineconeUploaderConfig,\n+    PineconeUploadStagerConfig,\n+)\n+from unstructured.ingest.v2.processes.embedder import EmbedderConfig\n+from unstructured.ingest.v2.processes.partitioner import PartitionerConfig\n+\n+base_path = Path(__file__).parent.parent.parent.parent.parent\n+docs_path = base_path / \"example-docs\"\n+work_dir = base_path / \"tmp_ingest\"\n+output_path = work_dir / \"output\"\n+download_path = work_dir / \"download\"\n+\n+if __name__ == \"__main__\":\n+    logger.info(f\"Writing all content in: {work_dir.resolve()}\")\n+    Pipeline.from_configs(\n+        context=ProcessorConfig(work_dir=str(work_dir.resolve())),\n+        indexer_config=LocalIndexerConfig(input_path=str(docs_path.resolve()) + \"/multisimple/\"),\n+        downloader_config=LocalDownloaderConfig(download_dir=download_path),\n+        source_connection_config=LocalConnectionConfig(),\n+        partitioner_config=PartitionerConfig(strategy=\"fast\"),\n+        chunker_config=ChunkerConfig(\n+            chunking_strategy=\"by_title\",\n+            chunk_include_orig_elements=False,\n+            chunk_max_characters=1500,\n+            chunk_multipage_sections=True,\n+        ),\n+        embedder_config=EmbedderConfig(embedding_provider=\"langchain-huggingface\"),\n+        destination_connection_config=PineconeConnectionConfig(\n+            access_config=PineconeAccessConfig(api_key=\"0e8555a2-b944-4da4-837e-03b1202e00c7\"),",
        "comment_created_at": "2024-06-26T19:52:07+00:00",
        "comment_author": "ryannikolaidis",
        "comment_body": "alternatively, if you want a working example script, could have it pull from an env var.",
        "pr_file_module": null
      },
      {
        "comment_id": "1657079683",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 3286,
        "pr_file": "unstructured/ingest/v2/examples/example_pinecone.py",
        "discussion_id": "1655436064",
        "commented_code": "@@ -0,0 +1,49 @@\n+from pathlib import Path\n+\n+from unstructured.ingest.v2.interfaces import ProcessorConfig\n+from unstructured.ingest.v2.logger import logger\n+from unstructured.ingest.v2.pipeline.pipeline import Pipeline\n+from unstructured.ingest.v2.processes.chunker import ChunkerConfig\n+from unstructured.ingest.v2.processes.connectors.local import (\n+    LocalConnectionConfig,\n+    LocalDownloaderConfig,\n+    LocalIndexerConfig,\n+)\n+from unstructured.ingest.v2.processes.connectors.pinecone import (\n+    PineconeAccessConfig,\n+    PineconeConnectionConfig,\n+    PineconeUploaderConfig,\n+    PineconeUploadStagerConfig,\n+)\n+from unstructured.ingest.v2.processes.embedder import EmbedderConfig\n+from unstructured.ingest.v2.processes.partitioner import PartitionerConfig\n+\n+base_path = Path(__file__).parent.parent.parent.parent.parent\n+docs_path = base_path / \"example-docs\"\n+work_dir = base_path / \"tmp_ingest\"\n+output_path = work_dir / \"output\"\n+download_path = work_dir / \"download\"\n+\n+if __name__ == \"__main__\":\n+    logger.info(f\"Writing all content in: {work_dir.resolve()}\")\n+    Pipeline.from_configs(\n+        context=ProcessorConfig(work_dir=str(work_dir.resolve())),\n+        indexer_config=LocalIndexerConfig(input_path=str(docs_path.resolve()) + \"/multisimple/\"),\n+        downloader_config=LocalDownloaderConfig(download_dir=download_path),\n+        source_connection_config=LocalConnectionConfig(),\n+        partitioner_config=PartitionerConfig(strategy=\"fast\"),\n+        chunker_config=ChunkerConfig(\n+            chunking_strategy=\"by_title\",\n+            chunk_include_orig_elements=False,\n+            chunk_max_characters=1500,\n+            chunk_multipage_sections=True,\n+        ),\n+        embedder_config=EmbedderConfig(embedding_provider=\"langchain-huggingface\"),\n+        destination_connection_config=PineconeConnectionConfig(\n+            access_config=PineconeAccessConfig(api_key=\"0e8555a2-b944-4da4-837e-03b1202e00c7\"),",
        "comment_created_at": "2024-06-27T12:50:50+00:00",
        "comment_author": "ahmetmeleq",
        "comment_body": "All agreed! Sorry about this",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1431865968",
    "pr_number": 2005,
    "pr_file": "unstructured/ingest/connector/sql/connector.py",
    "created_at": "2023-12-19T19:41:07+00:00",
    "commented_code": "+import json\n+import typing as t\n+import uuid\n+from dataclasses import dataclass, field\n+\n+from unstructured.ingest.enhanced_dataclass import enhanced_field\n+from unstructured.ingest.interfaces import (\n+    AccessConfig,\n+    BaseConnectorConfig,\n+    BaseDestinationConnector,\n+    BaseIngestDoc,\n+    WriteConfig,\n+)\n+from unstructured.ingest.logger import logger\n+from unstructured.utils import requires_dependencies\n+\n+from .schema import (\n+    ELEMENTS_TABLE_NAME,\n+    DatabaseSchema,\n+)\n+\n+\n+@dataclass\n+class SqlAccessConfig(AccessConfig):\n+    password: t.Optional[str] = enhanced_field(sensitive=True)",
    "repo_full_name": "Unstructured-IO/unstructured",
    "discussion_comments": [
      {
        "comment_id": "1431865968",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 2005,
        "pr_file": "unstructured/ingest/connector/sql/connector.py",
        "discussion_id": "1431865968",
        "commented_code": "@@ -0,0 +1,216 @@\n+import json\n+import typing as t\n+import uuid\n+from dataclasses import dataclass, field\n+\n+from unstructured.ingest.enhanced_dataclass import enhanced_field\n+from unstructured.ingest.interfaces import (\n+    AccessConfig,\n+    BaseConnectorConfig,\n+    BaseDestinationConnector,\n+    BaseIngestDoc,\n+    WriteConfig,\n+)\n+from unstructured.ingest.logger import logger\n+from unstructured.utils import requires_dependencies\n+\n+from .schema import (\n+    ELEMENTS_TABLE_NAME,\n+    DatabaseSchema,\n+)\n+\n+\n+@dataclass\n+class SqlAccessConfig(AccessConfig):\n+    password: t.Optional[str] = enhanced_field(sensitive=True)",
        "comment_created_at": "2023-12-19T19:41:07+00:00",
        "comment_author": "rbiseck3",
        "comment_body": "I would add username in here as well, but not mark is as sensitive as it's still a value needed for accessing the db. ",
        "pr_file_module": null
      }
    ]
  }
]