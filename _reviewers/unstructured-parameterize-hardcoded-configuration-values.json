[
  {
    "discussion_id": "1904402397",
    "pr_number": 3853,
    "pr_file": "Dockerfile",
    "created_at": "2025-01-06T16:57:31+00:00",
    "commented_code": "COPY test_unstructured test_unstructured\n COPY example-docs example-docs\n \n+# Copy the downloaded NLTK data folder to your local environment.s\n+COPY ./nltk_data /home/notebook-user/nltk_data\n+\n RUN chown -R notebook-user:notebook-user /app && \\\n-  apk add font-ubuntu git && \\\n-  fc-cache -fv && \\\n-  if [ \"$(readlink -f /usr/bin/python3)\" != \"/usr/bin/python3.11\" ]; then \\\n-        ln -sf /usr/bin/python3.11 /usr/bin/python3; \\\n-  fi\n+    apk add font-ubuntu git && \\\n+    fc-cache -fv && \\\n+    [ -e /usr/bin/python3 ] || ln -s /usr/bin/python3.11 /usr/bin/python3\n \n USER notebook-user\n \n-RUN find requirements/ -type f -name \"*.txt\" -exec pip3.11 install --no-cache-dir --user -r '{}' ';' && \\\n-  python3.11 -c \"from unstructured.nlp.tokenize import download_nltk_packages; download_nltk_packages()\" && \\\n-  python3.11 -c \"from unstructured.partition.model_init import initialize; initialize()\" && \\\n-  python3.11 -c \"from unstructured_inference.models.tables import UnstructuredTableTransformerModel; model = UnstructuredTableTransformerModel(); model.initialize('microsoft/table-transformer-structure-recognition')\"\n+RUN find requirements/ -type f -name \"*.txt\" -exec pip3.11 install --no-cache-dir --user -r '{}' ';'",
    "repo_full_name": "Unstructured-IO/unstructured",
    "discussion_comments": [
      {
        "comment_id": "1904402397",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 3853,
        "pr_file": "Dockerfile",
        "discussion_id": "1904402397",
        "commented_code": "@@ -9,21 +9,26 @@ COPY unstructured unstructured\n COPY test_unstructured test_unstructured\n COPY example-docs example-docs\n \n+# Copy the downloaded NLTK data folder to your local environment.s\n+COPY ./nltk_data /home/notebook-user/nltk_data\n+\n RUN chown -R notebook-user:notebook-user /app && \\\n-  apk add font-ubuntu git && \\\n-  fc-cache -fv && \\\n-  if [ \"$(readlink -f /usr/bin/python3)\" != \"/usr/bin/python3.11\" ]; then \\\n-        ln -sf /usr/bin/python3.11 /usr/bin/python3; \\\n-  fi\n+    apk add font-ubuntu git && \\\n+    fc-cache -fv && \\\n+    [ -e /usr/bin/python3 ] || ln -s /usr/bin/python3.11 /usr/bin/python3\n \n USER notebook-user\n \n-RUN find requirements/ -type f -name \"*.txt\" -exec pip3.11 install --no-cache-dir --user -r '{}' ';' && \\\n-  python3.11 -c \"from unstructured.nlp.tokenize import download_nltk_packages; download_nltk_packages()\" && \\\n-  python3.11 -c \"from unstructured.partition.model_init import initialize; initialize()\" && \\\n-  python3.11 -c \"from unstructured_inference.models.tables import UnstructuredTableTransformerModel; model = UnstructuredTableTransformerModel(); model.initialize('microsoft/table-transformer-structure-recognition')\"\n+RUN find requirements/ -type f -name \"*.txt\" -exec pip3.11 install --no-cache-dir --user -r '{}' ';'",
        "comment_created_at": "2025-01-06T16:57:31+00:00",
        "comment_author": "badGarnet",
        "comment_body": "lets define args `PYTHON` and `PIP` then reuse that definition throughout the dockerfile",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1904422806",
    "pr_number": 3853,
    "pr_file": "Dockerfile",
    "created_at": "2025-01-06T17:14:58+00:00",
    "commented_code": "COPY test_unstructured test_unstructured\n COPY example-docs example-docs\n \n+# Copy the downloaded NLTK data folder to your local environment.s\n+COPY ./nltk_data /home/notebook-user/nltk_data",
    "repo_full_name": "Unstructured-IO/unstructured",
    "discussion_comments": [
      {
        "comment_id": "1904422806",
        "repo_full_name": "Unstructured-IO/unstructured",
        "pr_number": 3853,
        "pr_file": "Dockerfile",
        "discussion_id": "1904422806",
        "commented_code": "@@ -9,21 +9,26 @@ COPY unstructured unstructured\n COPY test_unstructured test_unstructured\n COPY example-docs example-docs\n \n+# Copy the downloaded NLTK data folder to your local environment.s\n+COPY ./nltk_data /home/notebook-user/nltk_data",
        "comment_created_at": "2025-01-06T17:14:58+00:00",
        "comment_author": "badGarnet",
        "comment_body": "maybe better to parametrize the source path instead of assuming it will always be in the same directory as the dockerfile?",
        "pr_file_module": null
      }
    ]
  }
]