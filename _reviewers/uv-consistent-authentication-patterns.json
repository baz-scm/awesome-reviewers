[
  {
    "discussion_id": "2175120481",
    "pr_number": 14253,
    "pr_file": "docs/guides/integration/alternative-indexes.md",
    "created_at": "2025-06-30T13:44:33+00:00",
    "commented_code": "Note this method is not preferable because uv cannot check if the package is already published\n before uploading artifacts.\n \n-## Other package indexes\n+## JFrog Artifactory\n \n-uv is also known to work with JFrog's Artifactory.\n+uv can install packages from JFrog Artifactory, either by using a username and password or a JWT\n+token.\n+\n+To use it, add the index to your project:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+```\n+\n+### Authenticate with username and password\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"<username>\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"<password>\"\n+```\n+\n+### Authenticate with JWT token\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"$JFROG_JWT_TOKEN\"\n+```\n+\n+!!! note\n+\n+    Replace `PRIVATE_REGISTRY` in the environment variable names with the actual index name defined in your `pyproject.toml`.\n+\n+### Publishing packages to JFrog Artifactory\n+\n+Add a `publish-url` to your index definition:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+publish-url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>\"\n+```\n+\n+If you use the `-t \"$JFROG_TOKEN\"` parameter with JFrog, you will receive a 401 Unauthorized error\n+if the username is incorrect.\n+\n+To authenticate, pass your token as the password and set the username to an empty string:\n+\n+```console\n+$ uv publish --index <index_name> -u \"\" -p \"$JFROG_TOKEN\"\n+```\n+\n+Alternatively, you can set environment variables:\n+\n+```console\n+$ export UV_PUBLISH_USERNAME=\"\"\n+$ export UV_PUBLISH_PASSWORD=\"$JFROG_TOKEN\"",
    "repo_full_name": "astral-sh/uv",
    "discussion_comments": [
      {
        "comment_id": "2175120481",
        "repo_full_name": "astral-sh/uv",
        "pr_number": 14253,
        "pr_file": "docs/guides/integration/alternative-indexes.md",
        "discussion_id": "2175120481",
        "commented_code": "@@ -368,6 +368,65 @@ $ uv publish\n Note this method is not preferable because uv cannot check if the package is already published\n before uploading artifacts.\n \n-## Other package indexes\n+## JFrog Artifactory\n \n-uv is also known to work with JFrog's Artifactory.\n+uv can install packages from JFrog Artifactory, either by using a username and password or a JWT\n+token.\n+\n+To use it, add the index to your project:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+```\n+\n+### Authenticate with username and password\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"<username>\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"<password>\"\n+```\n+\n+### Authenticate with JWT token\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"$JFROG_JWT_TOKEN\"\n+```\n+\n+!!! note\n+\n+    Replace `PRIVATE_REGISTRY` in the environment variable names with the actual index name defined in your `pyproject.toml`.\n+\n+### Publishing packages to JFrog Artifactory\n+\n+Add a `publish-url` to your index definition:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+publish-url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>\"\n+```\n+\n+If you use the `-t \"$JFROG_TOKEN\"` parameter with JFrog, you will receive a 401 Unauthorized error\n+if the username is incorrect.\n+\n+To authenticate, pass your token as the password and set the username to an empty string:\n+\n+```console\n+$ uv publish --index <index_name> -u \"\" -p \"$JFROG_TOKEN\"\n+```\n+\n+Alternatively, you can set environment variables:\n+\n+```console\n+$ export UV_PUBLISH_USERNAME=\"\"\n+$ export UV_PUBLISH_PASSWORD=\"$JFROG_TOKEN\"",
        "comment_created_at": "2025-06-30T13:44:33+00:00",
        "comment_author": "zanieb",
        "comment_body": "Does this work with `UV_PUBLISH_TOKEN`? Do they just ignore the username?",
        "pr_file_module": null
      },
      {
        "comment_id": "2175124686",
        "repo_full_name": "astral-sh/uv",
        "pr_number": 14253,
        "pr_file": "docs/guides/integration/alternative-indexes.md",
        "discussion_id": "2175120481",
        "commented_code": "@@ -368,6 +368,65 @@ $ uv publish\n Note this method is not preferable because uv cannot check if the package is already published\n before uploading artifacts.\n \n-## Other package indexes\n+## JFrog Artifactory\n \n-uv is also known to work with JFrog's Artifactory.\n+uv can install packages from JFrog Artifactory, either by using a username and password or a JWT\n+token.\n+\n+To use it, add the index to your project:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+```\n+\n+### Authenticate with username and password\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"<username>\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"<password>\"\n+```\n+\n+### Authenticate with JWT token\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"$JFROG_JWT_TOKEN\"\n+```\n+\n+!!! note\n+\n+    Replace `PRIVATE_REGISTRY` in the environment variable names with the actual index name defined in your `pyproject.toml`.\n+\n+### Publishing packages to JFrog Artifactory\n+\n+Add a `publish-url` to your index definition:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+publish-url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>\"\n+```\n+\n+If you use the `-t \"$JFROG_TOKEN\"` parameter with JFrog, you will receive a 401 Unauthorized error\n+if the username is incorrect.\n+\n+To authenticate, pass your token as the password and set the username to an empty string:\n+\n+```console\n+$ uv publish --index <index_name> -u \"\" -p \"$JFROG_TOKEN\"\n+```\n+\n+Alternatively, you can set environment variables:\n+\n+```console\n+$ export UV_PUBLISH_USERNAME=\"\"\n+$ export UV_PUBLISH_PASSWORD=\"$JFROG_TOKEN\"",
        "comment_created_at": "2025-06-30T13:46:26+00:00",
        "comment_author": "zanieb",
        "comment_body": "Ah I see this is mentioned above. Maybe we can elevate that? https://github.com/astral-sh/uv/pull/14253/files#r2175124341",
        "pr_file_module": null
      },
      {
        "comment_id": "2175127373",
        "repo_full_name": "astral-sh/uv",
        "pr_number": 14253,
        "pr_file": "docs/guides/integration/alternative-indexes.md",
        "discussion_id": "2175120481",
        "commented_code": "@@ -368,6 +368,65 @@ $ uv publish\n Note this method is not preferable because uv cannot check if the package is already published\n before uploading artifacts.\n \n-## Other package indexes\n+## JFrog Artifactory\n \n-uv is also known to work with JFrog's Artifactory.\n+uv can install packages from JFrog Artifactory, either by using a username and password or a JWT\n+token.\n+\n+To use it, add the index to your project:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+```\n+\n+### Authenticate with username and password\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"<username>\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"<password>\"\n+```\n+\n+### Authenticate with JWT token\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"$JFROG_JWT_TOKEN\"\n+```\n+\n+!!! note\n+\n+    Replace `PRIVATE_REGISTRY` in the environment variable names with the actual index name defined in your `pyproject.toml`.\n+\n+### Publishing packages to JFrog Artifactory\n+\n+Add a `publish-url` to your index definition:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+publish-url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>\"\n+```\n+\n+If you use the `-t \"$JFROG_TOKEN\"` parameter with JFrog, you will receive a 401 Unauthorized error\n+if the username is incorrect.\n+\n+To authenticate, pass your token as the password and set the username to an empty string:\n+\n+```console\n+$ uv publish --index <index_name> -u \"\" -p \"$JFROG_TOKEN\"\n+```\n+\n+Alternatively, you can set environment variables:\n+\n+```console\n+$ export UV_PUBLISH_USERNAME=\"\"\n+$ export UV_PUBLISH_PASSWORD=\"$JFROG_TOKEN\"",
        "comment_created_at": "2025-06-30T13:47:49+00:00",
        "comment_author": "ondrej-profant-dtml",
        "comment_body": "This `uv publish -t \"$JFROG_TOKEN\"` does not work. Thats the reason why I see need for extending docs here. ",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2175124341",
    "pr_number": 14253,
    "pr_file": "docs/guides/integration/alternative-indexes.md",
    "created_at": "2025-06-30T13:46:17+00:00",
    "commented_code": "Note this method is not preferable because uv cannot check if the package is already published\n before uploading artifacts.\n \n-## Other package indexes\n+## JFrog Artifactory\n \n-uv is also known to work with JFrog's Artifactory.\n+uv can install packages from JFrog Artifactory, either by using a username and password or a JWT\n+token.\n+\n+To use it, add the index to your project:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+```\n+\n+### Authenticate with username and password\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"<username>\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"<password>\"\n+```\n+\n+### Authenticate with JWT token\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"$JFROG_JWT_TOKEN\"\n+```\n+\n+!!! note\n+\n+    Replace `PRIVATE_REGISTRY` in the environment variable names with the actual index name defined in your `pyproject.toml`.\n+\n+### Publishing packages to JFrog Artifactory\n+\n+Add a `publish-url` to your index definition:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+publish-url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>\"\n+```\n+\n+If you use the `-t \"$JFROG_TOKEN\"` parameter with JFrog, you will receive a 401 Unauthorized error\n+if the username is incorrect.",
    "repo_full_name": "astral-sh/uv",
    "discussion_comments": [
      {
        "comment_id": "2175124341",
        "repo_full_name": "astral-sh/uv",
        "pr_number": 14253,
        "pr_file": "docs/guides/integration/alternative-indexes.md",
        "discussion_id": "2175124341",
        "commented_code": "@@ -368,6 +368,65 @@ $ uv publish\n Note this method is not preferable because uv cannot check if the package is already published\n before uploading artifacts.\n \n-## Other package indexes\n+## JFrog Artifactory\n \n-uv is also known to work with JFrog's Artifactory.\n+uv can install packages from JFrog Artifactory, either by using a username and password or a JWT\n+token.\n+\n+To use it, add the index to your project:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+```\n+\n+### Authenticate with username and password\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"<username>\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"<password>\"\n+```\n+\n+### Authenticate with JWT token\n+\n+```console\n+$ export UV_INDEX_PRIVATE_REGISTRY_USERNAME=\"\"\n+$ export UV_INDEX_PRIVATE_REGISTRY_PASSWORD=\"$JFROG_JWT_TOKEN\"\n+```\n+\n+!!! note\n+\n+    Replace `PRIVATE_REGISTRY` in the environment variable names with the actual index name defined in your `pyproject.toml`.\n+\n+### Publishing packages to JFrog Artifactory\n+\n+Add a `publish-url` to your index definition:\n+\n+```toml title=\"pyproject.toml\"\n+[[tool.uv.index]]\n+name = \"private-registry\"\n+url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>/simple\"\n+publish-url = \"https://<organization>.jfrog.io/artifactory/api/pypi/<repository>\"\n+```\n+\n+If you use the `-t \"$JFROG_TOKEN\"` parameter with JFrog, you will receive a 401 Unauthorized error\n+if the username is incorrect.",
        "comment_created_at": "2025-06-30T13:46:17+00:00",
        "comment_author": "zanieb",
        "comment_body": "```suggestion\r\n!!! important\r\n\r\n    If you use `--token \"$JFROG_TOKEN\"` or `UV_PUBLISH_TOKEN` with JFrog, you will receive a\r\n    401 Unauthorized error as JFrog requires an empty username but uv passes `__token__` for as\r\n    the username when `--token` is used.\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2067271960",
    "pr_number": 13201,
    "pr_file": "CHANGELOG.md",
    "created_at": "2025-04-29T19:55:27+00:00",
    "commented_code": "<!-- prettier-ignore-start -->\n \n \n-## 0.6.17\n+## 0.7.0\n \n-### Preview features\n-\n-- Add PyTorch v2.7.0 to GPU backend ([#13072](https://github.com/astral-sh/uv/pull/13072))\n-\n-### Bug fixes\n-\n-- Avoid panic for invalid Python versions ([#13077](https://github.com/astral-sh/uv/pull/13077))\n-- Block scripts from overwriting `python` ([#13051](https://github.com/astral-sh/uv/pull/13051))\n-- Check distribution names to handle invalid redirects ([#12917](https://github.com/astral-sh/uv/pull/12917))\n-- Check for mismatched package and distribution names on resolver thread ([#13088](https://github.com/astral-sh/uv/pull/13088))\n-- Fix panic with invalid last character in PEP 508 name ([#13105](https://github.com/astral-sh/uv/pull/13105))\n-- Reject `requires-python` even if not listed on the index page ([#13086](https://github.com/astral-sh/uv/pull/13086))\n-\n-## 0.6.16\n-\n-### Bug fixes\n-\n-- Revert \"Properly handle authentication for 302 redirect URLs\" ([#13041](https://github.com/astral-sh/uv/pull/13041))\n-\n-## 0.6.15\n-\n-This release includes preliminary support for the `pylock.toml` file format, as standardized in [PEP 751](https://peps.python.org/pep-0751/). `pylock.toml` is an alternative resolution output format intended to replace `requirements.txt` (e.g., in the context of `uv pip compile`, whereby a \"locked\" `requirements.txt` file is generated from a set of input requirements). `pylock.toml` is standardized and tool-agnostic, such that in the future, `pylock.toml` files generated by uv could be installed by other tools, and vice versa.\n-\n-As of this release, `pylock.toml` is supported in the following commands:\n-\n-- To export a `uv.lock` to the `pylock.toml` format, run: `uv export -o pylock.toml`\n-- To generate a `pylock.toml` file from a set of requirements, run: `uv pip compile -o pylock.toml requirements.in`\n-- To install from a `pylock.toml` file, run: `uv pip sync pylock.toml` or `uv pip install -r pylock.toml`\n-\n-### Enhancements\n-\n-- Add PEP 751 support to `uv pip compile` ([#13019](https://github.com/astral-sh/uv/pull/13019))\n-- Add `uv export` support for PEP 751 ([#12955](https://github.com/astral-sh/uv/pull/12955))\n-- Accept `requirements.txt` (verbatim) as a format on the CLI ([#12957](https://github.com/astral-sh/uv/pull/12957))\n-- Add `UV_NO_EDITABLE` environment variable to set `--no-editable` on all invocations ([#12773](https://github.com/astral-sh/uv/pull/12773))\n-- Add `pylock.toml` to `uv pip install` and `uv pip sync` ([#12992](https://github.com/astral-sh/uv/pull/12992))\n-- Add a brief sleep before sending `SIGINT` to child processes ([#13018](https://github.com/astral-sh/uv/pull/13018))\n-- Add upload time to `uv.lock` ([#12968](https://github.com/astral-sh/uv/pull/12968))\n-- Allow updating Git sources by name ([#12897](https://github.com/astral-sh/uv/pull/12897))\n-- Cache `which git` in `uv init` ([#12893](https://github.com/astral-sh/uv/pull/12893))\n-- Enable `--dry-run` with `--locked` / `--frozen` for `uv sync` ([#12778](https://github.com/astral-sh/uv/pull/12778))\n-- Infer output type in `uv export` ([#12958](https://github.com/astral-sh/uv/pull/12958))\n-- Make `uv init` resilient against broken git ([#12895](https://github.com/astral-sh/uv/pull/12895))\n-- Respect build constraints for `uv run --with` dependencies ([#12882](https://github.com/astral-sh/uv/pull/12882))\n-- Split UV_INDEX on all whitespace ([#12820](https://github.com/astral-sh/uv/pull/12820))\n-- Support build constraints in `uv tool` and PEP723 scripts. ([#12842](https://github.com/astral-sh/uv/pull/12842))\n-- Use suffix from `uvx` binary when searching for uv binary ([#12923](https://github.com/astral-sh/uv/pull/12923))\n-- Update version formatting to use cyan color ([#12943](https://github.com/astral-sh/uv/pull/12943))\n-- Add debug logs for version file search ([#12951](https://github.com/astral-sh/uv/pull/12951))\n-- Fix `SourceNotAllowed` error message during Python discovery ([#13012](https://github.com/astral-sh/uv/pull/13012))\n-- Obfuscate password in credentials debug messages ([#12944](https://github.com/astral-sh/uv/pull/12944))\n-- Obfuscate possible tokens in URL logs ([#12969](https://github.com/astral-sh/uv/pull/12969))\n-- Validate that PEP 751 entries don't include multiple sources ([#12993](https://github.com/astral-sh/uv/pull/12993))\n-\n-### Preview features\n-\n-- Build backend: Add reference docs and schema ([#12803](https://github.com/astral-sh/uv/pull/12803))\n-\n-### Bug fixes\n-\n-- Align supported `config-settings` with example in docs ([#12947](https://github.com/astral-sh/uv/pull/12947))\n-- Ensure virtual environment is compatible with interpreter on sync ([#12884](https://github.com/astral-sh/uv/pull/12884))\n-- Fix `PythonDownloadRequest` parsing for partial keys ([#12925](https://github.com/astral-sh/uv/pull/12925))\n-- Fix pre-release exclusive comparison operator in `uv-pep440` ([#12836](https://github.com/astral-sh/uv/pull/12836))\n-- Forward additional signals to the child process in `uv run` ([#13017](https://github.com/astral-sh/uv/pull/13017))\n-- Omit PEP 751 version for source trees ([#13030](https://github.com/astral-sh/uv/pull/13030))\n-- Patch `CC` and `CCX` entries in sysconfig for cross-compiled `aarch64` Python distributions ([#12239](https://github.com/astral-sh/uv/pull/12239))\n-- Properly handle authentication for HTTP 302 redirect URLs ([#12920](https://github.com/astral-sh/uv/pull/12920))\n-- Set 4MB stack size for all threads, introduce `UV_STACK_SIZE` ([#12839](https://github.com/astral-sh/uv/pull/12839))\n-- Show PyPy downloads during `uv python list` ([#12915](https://github.com/astral-sh/uv/pull/12915))\n-- Add `subdirectory` to Direct URL for local directories ([#12971](https://github.com/astral-sh/uv/pull/12971))\n-- Prefer stable releases over pre-releases in `uv python install` ([#12194](https://github.com/astral-sh/uv/pull/12194))\n-- Write requested Python variant to pin file in `uv init` ([#12870](https://github.com/astral-sh/uv/pull/12870))\n-\n-### Documentation\n-\n-- Fix CLI reference with code block ([#12807](https://github.com/astral-sh/uv/pull/12807))\n-- Fix lockfile note ([#12793](https://github.com/astral-sh/uv/pull/12793))\n-- Fix typo in a reference ([#12858](https://github.com/astral-sh/uv/pull/12858))\n-- Improve docs for `uv python list --only-downloads` and `--only-installed` ([#12916](https://github.com/astral-sh/uv/pull/12916))\n-- Update note on lack of musl distributions to ARM-only ([#12825](https://github.com/astral-sh/uv/pull/12825))\n-- Add section on shebangs for scripts ([#11553](https://github.com/astral-sh/uv/pull/11553))\n-- Display aliases for long and short args in the CLI reference ([#12824](https://github.com/astral-sh/uv/pull/12824))\n-- Fix highlight line in explicit index documentation ([#12887](https://github.com/astral-sh/uv/pull/12887))\n-- Add explicit source (matching PyTorch guide) ([#12844](https://github.com/astral-sh/uv/pull/12844))\n-- Fix link to issue ([#12823](https://github.com/astral-sh/uv/pull/12823))\n-- Fix grammatical error in FastAPI guide ([#12908](https://github.com/astral-sh/uv/pull/12908))\n-- Add `--locked` to `uv sync` in GitHub Actions guide ([#12819](https://github.com/astral-sh/uv/pull/12819))\n-- Improve formatting for `\"all\"` `default-groups` setting documentation ([#12963](https://github.com/astral-sh/uv/pull/12963))\n-- Replace `--frozen` with `--locked` in Docker integration guide ([#12818](https://github.com/astral-sh/uv/pull/12818))\n-\n-## 0.6.14\n-\n-### Python versions\n-\n-The following Python versions have been added:\n-\n-- CPython 3.13.3\n-- CPython 3.12.10\n-- CPython 3.11.12\n-- CPython 3.10.17\n-- CPython 3.9.22\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250409) for more details.\n-\n-### Enhancements\n-\n-- Add `uv-build` and `uv_build` aliases to `uv init --build-backend` ([#12776](https://github.com/astral-sh/uv/pull/12776))\n-- Emit dedicated error message for Conda `environment.yml` files ([#12669](https://github.com/astral-sh/uv/pull/12669))\n-\n-### Preview features\n-\n-- Build backend: Check module dir exists for sdist build ([#12779](https://github.com/astral-sh/uv/pull/12779))\n-- Build backend: Fix sdist with long directories ([#12764](https://github.com/astral-sh/uv/pull/12764))\n-\n-### Performance\n-\n-- Avoid querying GitHub on repeated install invocations ([#12767](https://github.com/astral-sh/uv/pull/12767))\n-\n-### Bug fixes\n-\n-- Error when `tool.uv.sources` is set in system-level configuration file ([#12757](https://github.com/astral-sh/uv/pull/12757))\n-- Split workspace members onto their own lines in `uv init` ([#12756](https://github.com/astral-sh/uv/pull/12756))\n-\n-### Documentation\n-\n-- Add lockfile note about PEP 751 ([#12732](https://github.com/astral-sh/uv/pull/12732))\n-- Extend the reference documentation for `uv pip sync` ([#12683](https://github.com/astral-sh/uv/pull/12683))\n-- Fix mismatched pip interface header / nav titles ([#12640](https://github.com/astral-sh/uv/pull/12640))\n-\n-## 0.6.13\n-\n-### Enhancements\n-\n-- Add `--show-version` to `uv python find` ([#12376](https://github.com/astral-sh/uv/pull/12376))\n-- Remove `--no-config` warning from `uv pip compile` and `uv pip sync` ([#12642](https://github.com/astral-sh/uv/pull/12642))\n-- Skip repeated directories in `PATH` when searching for Python interpreters ([#12367](https://github.com/astral-sh/uv/pull/12367))\n-- Unset `SCRIPT_PATH` in relocatable activation script ([#12672](https://github.com/astral-sh/uv/pull/12672))\n-- Add `UV_PYTHON_DOWNLOADS_JSON_URL` to set custom managed python sources ([#10939](https://github.com/astral-sh/uv/pull/10939))\n-- Reject `pyproject.toml` files in `uv pip compile -o` ([#12673](https://github.com/astral-sh/uv/pull/12673))\n-- Respect the `--offline` flag for Git operations ([#12619](https://github.com/astral-sh/uv/pull/12619))\n-\n-### Bug fixes\n-\n-- Warn instead of error if CRC appears to be missing ([#12722](https://github.com/astral-sh/uv/pull/12722))\n-- Avoid infinite loop in `uv export` with conflicts ([#12726](https://github.com/astral-sh/uv/pull/12726))\n-\n-### Rust API\n-\n-- Update MSRV to 1.84 ([#12670](https://github.com/astral-sh/uv/pull/12670))\n-\n-## 0.6.12\n-\n-### Enhancements\n-\n-- Report the queried executable path in `uv python list` ([#12628](https://github.com/astral-sh/uv/pull/12628))\n-- Improve archive unpack error messages ([#12627](https://github.com/astral-sh/uv/pull/12627))\n-\n-### Bug fixes\n-\n-- Respect `authenticate` when using `explicit = true` ([#12631](https://github.com/astral-sh/uv/pull/12631))\n-- Normalize extra and group names in `uv add` and `uv remove` ([#12586](https://github.com/astral-sh/uv/pull/12586))\n-- Enforce CRC-32 checks when unpacking archives ([#12623](https://github.com/astral-sh/uv/pull/12623))\n-- Fix parsing of `python-platform` in settings files ([#12592](https://github.com/astral-sh/uv/pull/12592))\n-\n-### Documentation\n-\n-- Add note about `uv build` to `package = false` ([#12608](https://github.com/astral-sh/uv/pull/12608))\n-- Add index fallback note to `authenticate = always` documentation ([#12498](https://github.com/astral-sh/uv/pull/12498))\n-- Fix invalid 'kind' reference in flat index docs ([#12583](https://github.com/astral-sh/uv/pull/12583))\n-\n-## 0.6.11\n-\n-### Enhancements\n-\n-- Add dependents (\"via ...\" comments) in `uv export` command ([#12350](https://github.com/astral-sh/uv/pull/12350))\n-- Bump least-recent non-EOL macOS version to 13.0 ([#12518](https://github.com/astral-sh/uv/pull/12518))\n-- Support `--find-links`-style \"flat\" indexes in `[[tool.uv.index]]` ([#12407](https://github.com/astral-sh/uv/pull/12407))\n-- Distinguish between `-q` and `-qq` ([#12300](https://github.com/astral-sh/uv/pull/12300))\n-\n-### Configuration\n-\n-- Support `UV_PROJECT` environment to set project directory. ([#12327](https://github.com/astral-sh/uv/pull/12327))\n-\n-### Performance\n-\n-- Use a boxed slice for various requirement types ([#12514](https://github.com/astral-sh/uv/pull/12514))\n-\n-### Bug fixes\n-\n-- Add a newline after metadata when initializing scripts with other metadata blocks ([#12501](https://github.com/astral-sh/uv/pull/12501))\n-- Avoid writing empty `requires-python` to script blocks ([#12517](https://github.com/astral-sh/uv/pull/12517))\n-- Respect build constraints in `uv sync` ([#12502](https://github.com/astral-sh/uv/pull/12502))\n-- Respect transitive dependencies in `uv tree --only-group` ([#12560](https://github.com/astral-sh/uv/pull/12560))\n-\n-## 0.6.10\n-\n-### Enhancements\n-\n-- Add `uv sync --check` flag ([#12342](https://github.com/astral-sh/uv/pull/12342))\n-- Add support for Python version requests in `uv python list` ([#12375](https://github.com/astral-sh/uv/pull/12375))\n-- Support `.env` files in `uv tool run` ([#12386](https://github.com/astral-sh/uv/pull/12386))\n-- Support `python find --script` ([#11891](https://github.com/astral-sh/uv/pull/11891))\n-\n-### Preview features\n-\n-- Check all compatible torch indexes when `--torch-backend` is enabled ([#12385](https://github.com/astral-sh/uv/pull/12385))\n-\n-### Performance\n-\n-- Use a boxed slice for extras and groups ([#12391](https://github.com/astral-sh/uv/pull/12391))\n-- Use small string for index name type ([#12355](https://github.com/astral-sh/uv/pull/12355))\n-\n-### Bug fixes\n-\n-- Allow virtual packages with `--no-build` ([#12314](https://github.com/astral-sh/uv/pull/12314))\n-- Ignore `--find-links` entries for pinned indexes ([#12396](https://github.com/astral-sh/uv/pull/12396))\n-- Omit wheels from lockfile based on `--exclude-newer` ([#12299](https://github.com/astral-sh/uv/pull/12299))\n-- Retain end-of-line comment position when adding dependency ([#12360](https://github.com/astral-sh/uv/pull/12360))\n-- Omit fragment when querying for wheels in Simple HTML API ([#12384](https://github.com/astral-sh/uv/pull/12384))\n-- Error on missing argument in `requirements.txt` ([#12354](https://github.com/astral-sh/uv/pull/12354))\n-- Support modules with different casing in build backend ([#12240](https://github.com/astral-sh/uv/pull/12240))\n-- Add authentication policy support for `pip` commands ([#12470](https://github.com/astral-sh/uv/pull/12470))\n-\n-## 0.6.9\n-\n-### Enhancements\n-\n-- Use `keyring --mode creds` when `authenticate = \"always\"` ([#12316](https://github.com/astral-sh/uv/pull/12316))\n-- Fail with specific error message when no password is present and `authenticate = \"always\"` ([#12313](https://github.com/astral-sh/uv/pull/12313))\n-\n-### Bug fixes\n-\n-- Add boolish value parser for `UV_MANAGED_PYTHON` flags ([#12345](https://github.com/astral-sh/uv/pull/12345))\n-- Make deserialization non-fatal when assessing source tree revisions ([#12319](https://github.com/astral-sh/uv/pull/12319))\n-- Use resolver-returned wheel over alternate cached wheel ([#12301](https://github.com/astral-sh/uv/pull/12301))\n-\n-### Documentation\n-\n-- Add experimental `--torch-backend` to the PyTorch guide ([#12317](https://github.com/astral-sh/uv/pull/12317))\n-- Fix `#keyring-provider` references in alternative index docs ([#12315](https://github.com/astral-sh/uv/pull/12315))\n-- Fix `--directory` path in examples ([#12165](https://github.com/astral-sh/uv/pull/12165))\n-\n-### Preview changes\n-\n-- Automatically infer the PyTorch index via `--torch-backend=auto` ([#12070](https://github.com/astral-sh/uv/pull/12070))\n-\n-## 0.6.8\n-\n-### Enhancements\n-\n-- Add support for enabling all groups by default with `default-groups = \"all\"` ([#12289](https://github.com/astral-sh/uv/pull/12289))\n-- Add simpler `--managed-python` and `--no-managed-python` flags for toggling Python preferences ([#12246](https://github.com/astral-sh/uv/pull/12246))\n-\n-### Performance\n-\n-- Avoid allocations for default cache keys ([#12063](https://github.com/astral-sh/uv/pull/12063))\n-\n-### Bug fixes\n-\n-- Allow local version mismatches when validating lockfile ([#12285](https://github.com/astral-sh/uv/pull/12285))\n-- Allow owned string when deserializing `requires-python` ([#12278](https://github.com/astral-sh/uv/pull/12278))\n-- Make cache errors non-fatal in `Planner::build` ([#12281](https://github.com/astral-sh/uv/pull/12281))\n-\n-## 0.6.7\n-\n-### Python\n-\n-- Add CPython 3.14.0a6\n-- Fix regression where extension modules would use wrong `CXX` compiler on Linux\n-- Enable FTS3 enhanced query syntax for SQLite\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250317) for more details.\n-\n-### Enhancements\n-\n-- Add support for `-c` constraints in `uv add` ([#12209](https://github.com/astral-sh/uv/pull/12209))\n-- Add support for `--global` default version in `uv python pin` ([#12115](https://github.com/astral-sh/uv/pull/12115))\n-- Always reinstall local source trees passed to `uv pip install` ([#12176](https://github.com/astral-sh/uv/pull/12176))\n-- Render token claims on publish permission error ([#12135](https://github.com/astral-sh/uv/pull/12135))\n-- Add pip-compatible `--group` flag to `uv pip install` and `uv pip compile` ([#11686](https://github.com/astral-sh/uv/pull/11686))\n-\n-### Preview features\n-\n-- Avoid creating duplicate directory entries in built wheels ([#12206](https://github.com/astral-sh/uv/pull/12206))\n-- Allow overriding module names for editable builds ([#12137](https://github.com/astral-sh/uv/pull/12137))\n-\n-### Performance\n-\n-- Avoid replicating core-metadata field on `File` struct ([#12159](https://github.com/astral-sh/uv/pull/12159))\n-\n-### Bug fixes\n-\n-- Add `src` to default cache keys ([#12062](https://github.com/astral-sh/uv/pull/12062))\n-- Discard insufficient fork markers ([#10682](https://github.com/astral-sh/uv/pull/10682))\n-- Ensure `python pin --global` creates parent directories if missing ([#12180](https://github.com/astral-sh/uv/pull/12180))\n-- Fix GraalPy abi tag parsing and discovery ([#12154](https://github.com/astral-sh/uv/pull/12154))\n-- Remove extraneous script packages in `uv sync --script` ([#12158](https://github.com/astral-sh/uv/pull/12158))\n-- Remove redundant `activate.bat` output ([#12160](https://github.com/astral-sh/uv/pull/12160))\n-- Avoid subsequent index hint when no versions are available on the first index ([#9332](https://github.com/astral-sh/uv/pull/9332))\n-- Error on lockfiles with incoherent wheel versions ([#12235](https://github.com/astral-sh/uv/pull/12235))\n-\n-### Rust API\n-\n-- Update `BaseClientBuild` to accept custom proxies ([#12232](https://github.com/astral-sh/uv/pull/12232))\n-\n-### Documentation\n-\n-- Make testpypi index explicit in example snippet ([#12148](https://github.com/astral-sh/uv/pull/12148))\n-- Reverse and format the archived changelogs ([#12099](https://github.com/astral-sh/uv/pull/12099))\n-- Use consistent commas around i.e. and e.g. ([#12157](https://github.com/astral-sh/uv/pull/12157))\n-- Fix typos in MRE docs ([#12198](https://github.com/astral-sh/uv/pull/12198))\n-- Fix double space typo ([#12171](https://github.com/astral-sh/uv/pull/12171))\n-\n-## 0.6.6\n-\n-### Python\n-\n-- Add support for dynamic musl Python distributions on x86-64 Linux ([#12121](https://github.com/astral-sh/uv/pull/12121))\n-- Allow the experimental JIT to be enabled at runtime on Python 3.13 and 3.14 on Linux\n-- Upgrade the build toolchain to LLVM 20, improving performance\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250311) for more details.\n-\n-### Enhancements\n-\n-- Add `--marker` flag to `uv add` ([#12012](https://github.com/astral-sh/uv/pull/12012))\n-- Allow overriding module name for uv build backend ([#11884](https://github.com/astral-sh/uv/pull/11884))\n-- Sync latest Python releases ([#12120](https://github.com/astral-sh/uv/pull/12120))\n-- Use 'Upload' instead of 'Download' in publish reporter ([#12029](https://github.com/astral-sh/uv/pull/12029))\n-- Add `[index].authenticate` allowing authentication to be required on an index ([#11896](https://github.com/astral-sh/uv/pull/11896))\n-- Add support for Windows legacy scripts in `uv tool run` ([#12079](https://github.com/astral-sh/uv/pull/12079))\n-- Propagate conflicting dependency groups when using `include-group` ([#12005](https://github.com/astral-sh/uv/pull/12005))\n-- Show ambiguous requirements when `uv add` failed ([#12106](https://github.com/astral-sh/uv/pull/12106))\n-\n-### Performance\n-\n-- Cache workspace discovery ([#12096](https://github.com/astral-sh/uv/pull/12096))\n-- Insert dependencies into fork state prior to fetching metadata ([#12057](https://github.com/astral-sh/uv/pull/12057))\n-- Remove some allocations from `uv-auth` ([#12077](https://github.com/astral-sh/uv/pull/12077))\n-\n-### Bug fixes\n-\n-- Avoid considering `PATH` updated when the `export` is commented in the shellrc ([#12043](https://github.com/astral-sh/uv/pull/12043))\n-- Fix `uv publish` retry on network failures ([#12041](https://github.com/astral-sh/uv/pull/12041))\n-- Use a sized stream in `uv publish` to comply with WSGI PyPI server constraints ([#12111](https://github.com/astral-sh/uv/pull/12111))\n-- Fix `uv python install --reinstall` when the version was not previously installed ([#12124](https://github.com/astral-sh/uv/pull/12124))\n-\n-### Preview features\n-\n-- Fix `uv_build` invocation ([#12058](https://github.com/astral-sh/uv/pull/12058))\n-\n-### Documentation\n-\n-- Quote versions string in `python-versions.md` ([#12112](https://github.com/astral-sh/uv/pull/12112))\n-- Fix tool concept page headings ([#12053](https://github.com/astral-sh/uv/pull/12053))\n-- Update the `[index].authenticate` docs ([#12102](https://github.com/astral-sh/uv/pull/12102))\n-- Update versioning policy ([#11666](https://github.com/astral-sh/uv/pull/11666))\n-\n-## 0.6.5\n-\n-### Enhancements\n-\n-- Allow `--constraints` and `--overrides` in `uvx` ([#10207](https://github.com/astral-sh/uv/pull/10207))\n-- Allow overrides in `satisfies` check for `uv tool run` ([#11994](https://github.com/astral-sh/uv/pull/11994))\n-- Allow users to set `package = true` on `tool.uv.sources` ([#12014](https://github.com/astral-sh/uv/pull/12014))\n-- Add support for Windows legacy scripts via `uv run` ([#11888](https://github.com/astral-sh/uv/pull/11888))\n-- Return error when running uvx with a `.py` script ([#11623](https://github.com/astral-sh/uv/pull/11623))\n-- Warn user on use of `uvx run` ([#11992](https://github.com/astral-sh/uv/pull/11992))\n-\n-### Configuration\n-\n-- Add `NO_BUILD` and `NO_BUILD_PACKAGE` environment variables ([#11968](https://github.com/astral-sh/uv/pull/11968))\n-\n-### Performance\n-\n-- Allow overrides in all satisfies checks ([#11995](https://github.com/astral-sh/uv/pull/11995))\n-- Respect markers on constraints when validating current environment ([#11976](https://github.com/astral-sh/uv/pull/11976))\n-\n-### Bug fixes\n-\n-- Compare major-minor specifiers when filtering interpreters ([#11952](https://github.com/astral-sh/uv/pull/11952))\n-- Fix system site packages detection default ([#11956](https://github.com/astral-sh/uv/pull/11956))\n-- Invalidate lockfile when empty dependency groups are added or removed ([#12010](https://github.com/astral-sh/uv/pull/12010))\n-- Remove prepended sys.path ([#11954](https://github.com/astral-sh/uv/pull/11954))\n-- Fix PyPy Python version label ([#11965](https://github.com/astral-sh/uv/pull/11965))\n-- Fix error message suggesting `--user` instead of `--username` ([#11947](https://github.com/astral-sh/uv/pull/11947))\n+### Breaking changes\n \n-### Preview\n+- **Update `uv version` to be an interface for project version reads and edits ([#12349](https://github.com/astral-sh/uv/pull/12349))**\n \n-- Move the uv build backend into a separate, minimal `uv_build` package ([#11446](https://github.com/astral-sh/uv/pull/11446))\n+  Previously, `uv version` displayed uv's version. Now, `uv version` is used for viewing or updating project versions. This interface was [heavily requested](https://github.com/astral-sh/uv/issues/6298), and after much consideration we decided that transitioning the top-level command was the best option.",
    "repo_full_name": "astral-sh/uv",
    "discussion_comments": [
      {
        "comment_id": "2067271960",
        "repo_full_name": "astral-sh/uv",
        "pr_number": 13201,
        "pr_file": "CHANGELOG.md",
        "discussion_id": "2067271960",
        "commented_code": "@@ -3,592 +3,117 @@\n <!-- prettier-ignore-start -->\n \n \n-## 0.6.17\n+## 0.7.0\n \n-### Preview features\n-\n-- Add PyTorch v2.7.0 to GPU backend ([#13072](https://github.com/astral-sh/uv/pull/13072))\n-\n-### Bug fixes\n-\n-- Avoid panic for invalid Python versions ([#13077](https://github.com/astral-sh/uv/pull/13077))\n-- Block scripts from overwriting `python` ([#13051](https://github.com/astral-sh/uv/pull/13051))\n-- Check distribution names to handle invalid redirects ([#12917](https://github.com/astral-sh/uv/pull/12917))\n-- Check for mismatched package and distribution names on resolver thread ([#13088](https://github.com/astral-sh/uv/pull/13088))\n-- Fix panic with invalid last character in PEP 508 name ([#13105](https://github.com/astral-sh/uv/pull/13105))\n-- Reject `requires-python` even if not listed on the index page ([#13086](https://github.com/astral-sh/uv/pull/13086))\n-\n-## 0.6.16\n-\n-### Bug fixes\n-\n-- Revert \"Properly handle authentication for 302 redirect URLs\" ([#13041](https://github.com/astral-sh/uv/pull/13041))\n-\n-## 0.6.15\n-\n-This release includes preliminary support for the `pylock.toml` file format, as standardized in [PEP 751](https://peps.python.org/pep-0751/). `pylock.toml` is an alternative resolution output format intended to replace `requirements.txt` (e.g., in the context of `uv pip compile`, whereby a \"locked\" `requirements.txt` file is generated from a set of input requirements). `pylock.toml` is standardized and tool-agnostic, such that in the future, `pylock.toml` files generated by uv could be installed by other tools, and vice versa.\n-\n-As of this release, `pylock.toml` is supported in the following commands:\n-\n-- To export a `uv.lock` to the `pylock.toml` format, run: `uv export -o pylock.toml`\n-- To generate a `pylock.toml` file from a set of requirements, run: `uv pip compile -o pylock.toml requirements.in`\n-- To install from a `pylock.toml` file, run: `uv pip sync pylock.toml` or `uv pip install -r pylock.toml`\n-\n-### Enhancements\n-\n-- Add PEP 751 support to `uv pip compile` ([#13019](https://github.com/astral-sh/uv/pull/13019))\n-- Add `uv export` support for PEP 751 ([#12955](https://github.com/astral-sh/uv/pull/12955))\n-- Accept `requirements.txt` (verbatim) as a format on the CLI ([#12957](https://github.com/astral-sh/uv/pull/12957))\n-- Add `UV_NO_EDITABLE` environment variable to set `--no-editable` on all invocations ([#12773](https://github.com/astral-sh/uv/pull/12773))\n-- Add `pylock.toml` to `uv pip install` and `uv pip sync` ([#12992](https://github.com/astral-sh/uv/pull/12992))\n-- Add a brief sleep before sending `SIGINT` to child processes ([#13018](https://github.com/astral-sh/uv/pull/13018))\n-- Add upload time to `uv.lock` ([#12968](https://github.com/astral-sh/uv/pull/12968))\n-- Allow updating Git sources by name ([#12897](https://github.com/astral-sh/uv/pull/12897))\n-- Cache `which git` in `uv init` ([#12893](https://github.com/astral-sh/uv/pull/12893))\n-- Enable `--dry-run` with `--locked` / `--frozen` for `uv sync` ([#12778](https://github.com/astral-sh/uv/pull/12778))\n-- Infer output type in `uv export` ([#12958](https://github.com/astral-sh/uv/pull/12958))\n-- Make `uv init` resilient against broken git ([#12895](https://github.com/astral-sh/uv/pull/12895))\n-- Respect build constraints for `uv run --with` dependencies ([#12882](https://github.com/astral-sh/uv/pull/12882))\n-- Split UV_INDEX on all whitespace ([#12820](https://github.com/astral-sh/uv/pull/12820))\n-- Support build constraints in `uv tool` and PEP723 scripts. ([#12842](https://github.com/astral-sh/uv/pull/12842))\n-- Use suffix from `uvx` binary when searching for uv binary ([#12923](https://github.com/astral-sh/uv/pull/12923))\n-- Update version formatting to use cyan color ([#12943](https://github.com/astral-sh/uv/pull/12943))\n-- Add debug logs for version file search ([#12951](https://github.com/astral-sh/uv/pull/12951))\n-- Fix `SourceNotAllowed` error message during Python discovery ([#13012](https://github.com/astral-sh/uv/pull/13012))\n-- Obfuscate password in credentials debug messages ([#12944](https://github.com/astral-sh/uv/pull/12944))\n-- Obfuscate possible tokens in URL logs ([#12969](https://github.com/astral-sh/uv/pull/12969))\n-- Validate that PEP 751 entries don't include multiple sources ([#12993](https://github.com/astral-sh/uv/pull/12993))\n-\n-### Preview features\n-\n-- Build backend: Add reference docs and schema ([#12803](https://github.com/astral-sh/uv/pull/12803))\n-\n-### Bug fixes\n-\n-- Align supported `config-settings` with example in docs ([#12947](https://github.com/astral-sh/uv/pull/12947))\n-- Ensure virtual environment is compatible with interpreter on sync ([#12884](https://github.com/astral-sh/uv/pull/12884))\n-- Fix `PythonDownloadRequest` parsing for partial keys ([#12925](https://github.com/astral-sh/uv/pull/12925))\n-- Fix pre-release exclusive comparison operator in `uv-pep440` ([#12836](https://github.com/astral-sh/uv/pull/12836))\n-- Forward additional signals to the child process in `uv run` ([#13017](https://github.com/astral-sh/uv/pull/13017))\n-- Omit PEP 751 version for source trees ([#13030](https://github.com/astral-sh/uv/pull/13030))\n-- Patch `CC` and `CCX` entries in sysconfig for cross-compiled `aarch64` Python distributions ([#12239](https://github.com/astral-sh/uv/pull/12239))\n-- Properly handle authentication for HTTP 302 redirect URLs ([#12920](https://github.com/astral-sh/uv/pull/12920))\n-- Set 4MB stack size for all threads, introduce `UV_STACK_SIZE` ([#12839](https://github.com/astral-sh/uv/pull/12839))\n-- Show PyPy downloads during `uv python list` ([#12915](https://github.com/astral-sh/uv/pull/12915))\n-- Add `subdirectory` to Direct URL for local directories ([#12971](https://github.com/astral-sh/uv/pull/12971))\n-- Prefer stable releases over pre-releases in `uv python install` ([#12194](https://github.com/astral-sh/uv/pull/12194))\n-- Write requested Python variant to pin file in `uv init` ([#12870](https://github.com/astral-sh/uv/pull/12870))\n-\n-### Documentation\n-\n-- Fix CLI reference with code block ([#12807](https://github.com/astral-sh/uv/pull/12807))\n-- Fix lockfile note ([#12793](https://github.com/astral-sh/uv/pull/12793))\n-- Fix typo in a reference ([#12858](https://github.com/astral-sh/uv/pull/12858))\n-- Improve docs for `uv python list --only-downloads` and `--only-installed` ([#12916](https://github.com/astral-sh/uv/pull/12916))\n-- Update note on lack of musl distributions to ARM-only ([#12825](https://github.com/astral-sh/uv/pull/12825))\n-- Add section on shebangs for scripts ([#11553](https://github.com/astral-sh/uv/pull/11553))\n-- Display aliases for long and short args in the CLI reference ([#12824](https://github.com/astral-sh/uv/pull/12824))\n-- Fix highlight line in explicit index documentation ([#12887](https://github.com/astral-sh/uv/pull/12887))\n-- Add explicit source (matching PyTorch guide) ([#12844](https://github.com/astral-sh/uv/pull/12844))\n-- Fix link to issue ([#12823](https://github.com/astral-sh/uv/pull/12823))\n-- Fix grammatical error in FastAPI guide ([#12908](https://github.com/astral-sh/uv/pull/12908))\n-- Add `--locked` to `uv sync` in GitHub Actions guide ([#12819](https://github.com/astral-sh/uv/pull/12819))\n-- Improve formatting for `\"all\"` `default-groups` setting documentation ([#12963](https://github.com/astral-sh/uv/pull/12963))\n-- Replace `--frozen` with `--locked` in Docker integration guide ([#12818](https://github.com/astral-sh/uv/pull/12818))\n-\n-## 0.6.14\n-\n-### Python versions\n-\n-The following Python versions have been added:\n-\n-- CPython 3.13.3\n-- CPython 3.12.10\n-- CPython 3.11.12\n-- CPython 3.10.17\n-- CPython 3.9.22\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250409) for more details.\n-\n-### Enhancements\n-\n-- Add `uv-build` and `uv_build` aliases to `uv init --build-backend` ([#12776](https://github.com/astral-sh/uv/pull/12776))\n-- Emit dedicated error message for Conda `environment.yml` files ([#12669](https://github.com/astral-sh/uv/pull/12669))\n-\n-### Preview features\n-\n-- Build backend: Check module dir exists for sdist build ([#12779](https://github.com/astral-sh/uv/pull/12779))\n-- Build backend: Fix sdist with long directories ([#12764](https://github.com/astral-sh/uv/pull/12764))\n-\n-### Performance\n-\n-- Avoid querying GitHub on repeated install invocations ([#12767](https://github.com/astral-sh/uv/pull/12767))\n-\n-### Bug fixes\n-\n-- Error when `tool.uv.sources` is set in system-level configuration file ([#12757](https://github.com/astral-sh/uv/pull/12757))\n-- Split workspace members onto their own lines in `uv init` ([#12756](https://github.com/astral-sh/uv/pull/12756))\n-\n-### Documentation\n-\n-- Add lockfile note about PEP 751 ([#12732](https://github.com/astral-sh/uv/pull/12732))\n-- Extend the reference documentation for `uv pip sync` ([#12683](https://github.com/astral-sh/uv/pull/12683))\n-- Fix mismatched pip interface header / nav titles ([#12640](https://github.com/astral-sh/uv/pull/12640))\n-\n-## 0.6.13\n-\n-### Enhancements\n-\n-- Add `--show-version` to `uv python find` ([#12376](https://github.com/astral-sh/uv/pull/12376))\n-- Remove `--no-config` warning from `uv pip compile` and `uv pip sync` ([#12642](https://github.com/astral-sh/uv/pull/12642))\n-- Skip repeated directories in `PATH` when searching for Python interpreters ([#12367](https://github.com/astral-sh/uv/pull/12367))\n-- Unset `SCRIPT_PATH` in relocatable activation script ([#12672](https://github.com/astral-sh/uv/pull/12672))\n-- Add `UV_PYTHON_DOWNLOADS_JSON_URL` to set custom managed python sources ([#10939](https://github.com/astral-sh/uv/pull/10939))\n-- Reject `pyproject.toml` files in `uv pip compile -o` ([#12673](https://github.com/astral-sh/uv/pull/12673))\n-- Respect the `--offline` flag for Git operations ([#12619](https://github.com/astral-sh/uv/pull/12619))\n-\n-### Bug fixes\n-\n-- Warn instead of error if CRC appears to be missing ([#12722](https://github.com/astral-sh/uv/pull/12722))\n-- Avoid infinite loop in `uv export` with conflicts ([#12726](https://github.com/astral-sh/uv/pull/12726))\n-\n-### Rust API\n-\n-- Update MSRV to 1.84 ([#12670](https://github.com/astral-sh/uv/pull/12670))\n-\n-## 0.6.12\n-\n-### Enhancements\n-\n-- Report the queried executable path in `uv python list` ([#12628](https://github.com/astral-sh/uv/pull/12628))\n-- Improve archive unpack error messages ([#12627](https://github.com/astral-sh/uv/pull/12627))\n-\n-### Bug fixes\n-\n-- Respect `authenticate` when using `explicit = true` ([#12631](https://github.com/astral-sh/uv/pull/12631))\n-- Normalize extra and group names in `uv add` and `uv remove` ([#12586](https://github.com/astral-sh/uv/pull/12586))\n-- Enforce CRC-32 checks when unpacking archives ([#12623](https://github.com/astral-sh/uv/pull/12623))\n-- Fix parsing of `python-platform` in settings files ([#12592](https://github.com/astral-sh/uv/pull/12592))\n-\n-### Documentation\n-\n-- Add note about `uv build` to `package = false` ([#12608](https://github.com/astral-sh/uv/pull/12608))\n-- Add index fallback note to `authenticate = always` documentation ([#12498](https://github.com/astral-sh/uv/pull/12498))\n-- Fix invalid 'kind' reference in flat index docs ([#12583](https://github.com/astral-sh/uv/pull/12583))\n-\n-## 0.6.11\n-\n-### Enhancements\n-\n-- Add dependents (\"via ...\" comments) in `uv export` command ([#12350](https://github.com/astral-sh/uv/pull/12350))\n-- Bump least-recent non-EOL macOS version to 13.0 ([#12518](https://github.com/astral-sh/uv/pull/12518))\n-- Support `--find-links`-style \"flat\" indexes in `[[tool.uv.index]]` ([#12407](https://github.com/astral-sh/uv/pull/12407))\n-- Distinguish between `-q` and `-qq` ([#12300](https://github.com/astral-sh/uv/pull/12300))\n-\n-### Configuration\n-\n-- Support `UV_PROJECT` environment to set project directory. ([#12327](https://github.com/astral-sh/uv/pull/12327))\n-\n-### Performance\n-\n-- Use a boxed slice for various requirement types ([#12514](https://github.com/astral-sh/uv/pull/12514))\n-\n-### Bug fixes\n-\n-- Add a newline after metadata when initializing scripts with other metadata blocks ([#12501](https://github.com/astral-sh/uv/pull/12501))\n-- Avoid writing empty `requires-python` to script blocks ([#12517](https://github.com/astral-sh/uv/pull/12517))\n-- Respect build constraints in `uv sync` ([#12502](https://github.com/astral-sh/uv/pull/12502))\n-- Respect transitive dependencies in `uv tree --only-group` ([#12560](https://github.com/astral-sh/uv/pull/12560))\n-\n-## 0.6.10\n-\n-### Enhancements\n-\n-- Add `uv sync --check` flag ([#12342](https://github.com/astral-sh/uv/pull/12342))\n-- Add support for Python version requests in `uv python list` ([#12375](https://github.com/astral-sh/uv/pull/12375))\n-- Support `.env` files in `uv tool run` ([#12386](https://github.com/astral-sh/uv/pull/12386))\n-- Support `python find --script` ([#11891](https://github.com/astral-sh/uv/pull/11891))\n-\n-### Preview features\n-\n-- Check all compatible torch indexes when `--torch-backend` is enabled ([#12385](https://github.com/astral-sh/uv/pull/12385))\n-\n-### Performance\n-\n-- Use a boxed slice for extras and groups ([#12391](https://github.com/astral-sh/uv/pull/12391))\n-- Use small string for index name type ([#12355](https://github.com/astral-sh/uv/pull/12355))\n-\n-### Bug fixes\n-\n-- Allow virtual packages with `--no-build` ([#12314](https://github.com/astral-sh/uv/pull/12314))\n-- Ignore `--find-links` entries for pinned indexes ([#12396](https://github.com/astral-sh/uv/pull/12396))\n-- Omit wheels from lockfile based on `--exclude-newer` ([#12299](https://github.com/astral-sh/uv/pull/12299))\n-- Retain end-of-line comment position when adding dependency ([#12360](https://github.com/astral-sh/uv/pull/12360))\n-- Omit fragment when querying for wheels in Simple HTML API ([#12384](https://github.com/astral-sh/uv/pull/12384))\n-- Error on missing argument in `requirements.txt` ([#12354](https://github.com/astral-sh/uv/pull/12354))\n-- Support modules with different casing in build backend ([#12240](https://github.com/astral-sh/uv/pull/12240))\n-- Add authentication policy support for `pip` commands ([#12470](https://github.com/astral-sh/uv/pull/12470))\n-\n-## 0.6.9\n-\n-### Enhancements\n-\n-- Use `keyring --mode creds` when `authenticate = \"always\"` ([#12316](https://github.com/astral-sh/uv/pull/12316))\n-- Fail with specific error message when no password is present and `authenticate = \"always\"` ([#12313](https://github.com/astral-sh/uv/pull/12313))\n-\n-### Bug fixes\n-\n-- Add boolish value parser for `UV_MANAGED_PYTHON` flags ([#12345](https://github.com/astral-sh/uv/pull/12345))\n-- Make deserialization non-fatal when assessing source tree revisions ([#12319](https://github.com/astral-sh/uv/pull/12319))\n-- Use resolver-returned wheel over alternate cached wheel ([#12301](https://github.com/astral-sh/uv/pull/12301))\n-\n-### Documentation\n-\n-- Add experimental `--torch-backend` to the PyTorch guide ([#12317](https://github.com/astral-sh/uv/pull/12317))\n-- Fix `#keyring-provider` references in alternative index docs ([#12315](https://github.com/astral-sh/uv/pull/12315))\n-- Fix `--directory` path in examples ([#12165](https://github.com/astral-sh/uv/pull/12165))\n-\n-### Preview changes\n-\n-- Automatically infer the PyTorch index via `--torch-backend=auto` ([#12070](https://github.com/astral-sh/uv/pull/12070))\n-\n-## 0.6.8\n-\n-### Enhancements\n-\n-- Add support for enabling all groups by default with `default-groups = \"all\"` ([#12289](https://github.com/astral-sh/uv/pull/12289))\n-- Add simpler `--managed-python` and `--no-managed-python` flags for toggling Python preferences ([#12246](https://github.com/astral-sh/uv/pull/12246))\n-\n-### Performance\n-\n-- Avoid allocations for default cache keys ([#12063](https://github.com/astral-sh/uv/pull/12063))\n-\n-### Bug fixes\n-\n-- Allow local version mismatches when validating lockfile ([#12285](https://github.com/astral-sh/uv/pull/12285))\n-- Allow owned string when deserializing `requires-python` ([#12278](https://github.com/astral-sh/uv/pull/12278))\n-- Make cache errors non-fatal in `Planner::build` ([#12281](https://github.com/astral-sh/uv/pull/12281))\n-\n-## 0.6.7\n-\n-### Python\n-\n-- Add CPython 3.14.0a6\n-- Fix regression where extension modules would use wrong `CXX` compiler on Linux\n-- Enable FTS3 enhanced query syntax for SQLite\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250317) for more details.\n-\n-### Enhancements\n-\n-- Add support for `-c` constraints in `uv add` ([#12209](https://github.com/astral-sh/uv/pull/12209))\n-- Add support for `--global` default version in `uv python pin` ([#12115](https://github.com/astral-sh/uv/pull/12115))\n-- Always reinstall local source trees passed to `uv pip install` ([#12176](https://github.com/astral-sh/uv/pull/12176))\n-- Render token claims on publish permission error ([#12135](https://github.com/astral-sh/uv/pull/12135))\n-- Add pip-compatible `--group` flag to `uv pip install` and `uv pip compile` ([#11686](https://github.com/astral-sh/uv/pull/11686))\n-\n-### Preview features\n-\n-- Avoid creating duplicate directory entries in built wheels ([#12206](https://github.com/astral-sh/uv/pull/12206))\n-- Allow overriding module names for editable builds ([#12137](https://github.com/astral-sh/uv/pull/12137))\n-\n-### Performance\n-\n-- Avoid replicating core-metadata field on `File` struct ([#12159](https://github.com/astral-sh/uv/pull/12159))\n-\n-### Bug fixes\n-\n-- Add `src` to default cache keys ([#12062](https://github.com/astral-sh/uv/pull/12062))\n-- Discard insufficient fork markers ([#10682](https://github.com/astral-sh/uv/pull/10682))\n-- Ensure `python pin --global` creates parent directories if missing ([#12180](https://github.com/astral-sh/uv/pull/12180))\n-- Fix GraalPy abi tag parsing and discovery ([#12154](https://github.com/astral-sh/uv/pull/12154))\n-- Remove extraneous script packages in `uv sync --script` ([#12158](https://github.com/astral-sh/uv/pull/12158))\n-- Remove redundant `activate.bat` output ([#12160](https://github.com/astral-sh/uv/pull/12160))\n-- Avoid subsequent index hint when no versions are available on the first index ([#9332](https://github.com/astral-sh/uv/pull/9332))\n-- Error on lockfiles with incoherent wheel versions ([#12235](https://github.com/astral-sh/uv/pull/12235))\n-\n-### Rust API\n-\n-- Update `BaseClientBuild` to accept custom proxies ([#12232](https://github.com/astral-sh/uv/pull/12232))\n-\n-### Documentation\n-\n-- Make testpypi index explicit in example snippet ([#12148](https://github.com/astral-sh/uv/pull/12148))\n-- Reverse and format the archived changelogs ([#12099](https://github.com/astral-sh/uv/pull/12099))\n-- Use consistent commas around i.e. and e.g. ([#12157](https://github.com/astral-sh/uv/pull/12157))\n-- Fix typos in MRE docs ([#12198](https://github.com/astral-sh/uv/pull/12198))\n-- Fix double space typo ([#12171](https://github.com/astral-sh/uv/pull/12171))\n-\n-## 0.6.6\n-\n-### Python\n-\n-- Add support for dynamic musl Python distributions on x86-64 Linux ([#12121](https://github.com/astral-sh/uv/pull/12121))\n-- Allow the experimental JIT to be enabled at runtime on Python 3.13 and 3.14 on Linux\n-- Upgrade the build toolchain to LLVM 20, improving performance\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250311) for more details.\n-\n-### Enhancements\n-\n-- Add `--marker` flag to `uv add` ([#12012](https://github.com/astral-sh/uv/pull/12012))\n-- Allow overriding module name for uv build backend ([#11884](https://github.com/astral-sh/uv/pull/11884))\n-- Sync latest Python releases ([#12120](https://github.com/astral-sh/uv/pull/12120))\n-- Use 'Upload' instead of 'Download' in publish reporter ([#12029](https://github.com/astral-sh/uv/pull/12029))\n-- Add `[index].authenticate` allowing authentication to be required on an index ([#11896](https://github.com/astral-sh/uv/pull/11896))\n-- Add support for Windows legacy scripts in `uv tool run` ([#12079](https://github.com/astral-sh/uv/pull/12079))\n-- Propagate conflicting dependency groups when using `include-group` ([#12005](https://github.com/astral-sh/uv/pull/12005))\n-- Show ambiguous requirements when `uv add` failed ([#12106](https://github.com/astral-sh/uv/pull/12106))\n-\n-### Performance\n-\n-- Cache workspace discovery ([#12096](https://github.com/astral-sh/uv/pull/12096))\n-- Insert dependencies into fork state prior to fetching metadata ([#12057](https://github.com/astral-sh/uv/pull/12057))\n-- Remove some allocations from `uv-auth` ([#12077](https://github.com/astral-sh/uv/pull/12077))\n-\n-### Bug fixes\n-\n-- Avoid considering `PATH` updated when the `export` is commented in the shellrc ([#12043](https://github.com/astral-sh/uv/pull/12043))\n-- Fix `uv publish` retry on network failures ([#12041](https://github.com/astral-sh/uv/pull/12041))\n-- Use a sized stream in `uv publish` to comply with WSGI PyPI server constraints ([#12111](https://github.com/astral-sh/uv/pull/12111))\n-- Fix `uv python install --reinstall` when the version was not previously installed ([#12124](https://github.com/astral-sh/uv/pull/12124))\n-\n-### Preview features\n-\n-- Fix `uv_build` invocation ([#12058](https://github.com/astral-sh/uv/pull/12058))\n-\n-### Documentation\n-\n-- Quote versions string in `python-versions.md` ([#12112](https://github.com/astral-sh/uv/pull/12112))\n-- Fix tool concept page headings ([#12053](https://github.com/astral-sh/uv/pull/12053))\n-- Update the `[index].authenticate` docs ([#12102](https://github.com/astral-sh/uv/pull/12102))\n-- Update versioning policy ([#11666](https://github.com/astral-sh/uv/pull/11666))\n-\n-## 0.6.5\n-\n-### Enhancements\n-\n-- Allow `--constraints` and `--overrides` in `uvx` ([#10207](https://github.com/astral-sh/uv/pull/10207))\n-- Allow overrides in `satisfies` check for `uv tool run` ([#11994](https://github.com/astral-sh/uv/pull/11994))\n-- Allow users to set `package = true` on `tool.uv.sources` ([#12014](https://github.com/astral-sh/uv/pull/12014))\n-- Add support for Windows legacy scripts via `uv run` ([#11888](https://github.com/astral-sh/uv/pull/11888))\n-- Return error when running uvx with a `.py` script ([#11623](https://github.com/astral-sh/uv/pull/11623))\n-- Warn user on use of `uvx run` ([#11992](https://github.com/astral-sh/uv/pull/11992))\n-\n-### Configuration\n-\n-- Add `NO_BUILD` and `NO_BUILD_PACKAGE` environment variables ([#11968](https://github.com/astral-sh/uv/pull/11968))\n-\n-### Performance\n-\n-- Allow overrides in all satisfies checks ([#11995](https://github.com/astral-sh/uv/pull/11995))\n-- Respect markers on constraints when validating current environment ([#11976](https://github.com/astral-sh/uv/pull/11976))\n-\n-### Bug fixes\n-\n-- Compare major-minor specifiers when filtering interpreters ([#11952](https://github.com/astral-sh/uv/pull/11952))\n-- Fix system site packages detection default ([#11956](https://github.com/astral-sh/uv/pull/11956))\n-- Invalidate lockfile when empty dependency groups are added or removed ([#12010](https://github.com/astral-sh/uv/pull/12010))\n-- Remove prepended sys.path ([#11954](https://github.com/astral-sh/uv/pull/11954))\n-- Fix PyPy Python version label ([#11965](https://github.com/astral-sh/uv/pull/11965))\n-- Fix error message suggesting `--user` instead of `--username` ([#11947](https://github.com/astral-sh/uv/pull/11947))\n+### Breaking changes\n \n-### Preview\n+- **Update `uv version` to be an interface for project version reads and edits ([#12349](https://github.com/astral-sh/uv/pull/12349))**\n \n-- Move the uv build backend into a separate, minimal `uv_build` package ([#11446](https://github.com/astral-sh/uv/pull/11446))\n+  Previously, `uv version` displayed uv's version. Now, `uv version` is used for viewing or updating project versions. This interface was [heavily requested](https://github.com/astral-sh/uv/issues/6298), and after much consideration we decided that transitioning the top-level command was the best option.",
        "comment_created_at": "2025-04-29T19:55:27+00:00",
        "comment_author": "charliermarsh",
        "comment_body": "```suggestion\r\n  Previously, `uv version` displayed uv's version. Now, `uv version` will display or update the project's version. This interface was [heavily requested](https://github.com/astral-sh/uv/issues/6298) and, after much consideration, we decided that transitioning the top-level command was the best option.\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2067277026",
    "pr_number": 13201,
    "pr_file": "CHANGELOG.md",
    "created_at": "2025-04-29T19:57:11+00:00",
    "commented_code": "<!-- prettier-ignore-start -->\n \n \n-## 0.6.17\n+## 0.7.0\n \n-### Preview features\n-\n-- Add PyTorch v2.7.0 to GPU backend ([#13072](https://github.com/astral-sh/uv/pull/13072))\n-\n-### Bug fixes\n-\n-- Avoid panic for invalid Python versions ([#13077](https://github.com/astral-sh/uv/pull/13077))\n-- Block scripts from overwriting `python` ([#13051](https://github.com/astral-sh/uv/pull/13051))\n-- Check distribution names to handle invalid redirects ([#12917](https://github.com/astral-sh/uv/pull/12917))\n-- Check for mismatched package and distribution names on resolver thread ([#13088](https://github.com/astral-sh/uv/pull/13088))\n-- Fix panic with invalid last character in PEP 508 name ([#13105](https://github.com/astral-sh/uv/pull/13105))\n-- Reject `requires-python` even if not listed on the index page ([#13086](https://github.com/astral-sh/uv/pull/13086))\n-\n-## 0.6.16\n-\n-### Bug fixes\n-\n-- Revert \"Properly handle authentication for 302 redirect URLs\" ([#13041](https://github.com/astral-sh/uv/pull/13041))\n-\n-## 0.6.15\n-\n-This release includes preliminary support for the `pylock.toml` file format, as standardized in [PEP 751](https://peps.python.org/pep-0751/). `pylock.toml` is an alternative resolution output format intended to replace `requirements.txt` (e.g., in the context of `uv pip compile`, whereby a \"locked\" `requirements.txt` file is generated from a set of input requirements). `pylock.toml` is standardized and tool-agnostic, such that in the future, `pylock.toml` files generated by uv could be installed by other tools, and vice versa.\n-\n-As of this release, `pylock.toml` is supported in the following commands:\n-\n-- To export a `uv.lock` to the `pylock.toml` format, run: `uv export -o pylock.toml`\n-- To generate a `pylock.toml` file from a set of requirements, run: `uv pip compile -o pylock.toml requirements.in`\n-- To install from a `pylock.toml` file, run: `uv pip sync pylock.toml` or `uv pip install -r pylock.toml`\n-\n-### Enhancements\n-\n-- Add PEP 751 support to `uv pip compile` ([#13019](https://github.com/astral-sh/uv/pull/13019))\n-- Add `uv export` support for PEP 751 ([#12955](https://github.com/astral-sh/uv/pull/12955))\n-- Accept `requirements.txt` (verbatim) as a format on the CLI ([#12957](https://github.com/astral-sh/uv/pull/12957))\n-- Add `UV_NO_EDITABLE` environment variable to set `--no-editable` on all invocations ([#12773](https://github.com/astral-sh/uv/pull/12773))\n-- Add `pylock.toml` to `uv pip install` and `uv pip sync` ([#12992](https://github.com/astral-sh/uv/pull/12992))\n-- Add a brief sleep before sending `SIGINT` to child processes ([#13018](https://github.com/astral-sh/uv/pull/13018))\n-- Add upload time to `uv.lock` ([#12968](https://github.com/astral-sh/uv/pull/12968))\n-- Allow updating Git sources by name ([#12897](https://github.com/astral-sh/uv/pull/12897))\n-- Cache `which git` in `uv init` ([#12893](https://github.com/astral-sh/uv/pull/12893))\n-- Enable `--dry-run` with `--locked` / `--frozen` for `uv sync` ([#12778](https://github.com/astral-sh/uv/pull/12778))\n-- Infer output type in `uv export` ([#12958](https://github.com/astral-sh/uv/pull/12958))\n-- Make `uv init` resilient against broken git ([#12895](https://github.com/astral-sh/uv/pull/12895))\n-- Respect build constraints for `uv run --with` dependencies ([#12882](https://github.com/astral-sh/uv/pull/12882))\n-- Split UV_INDEX on all whitespace ([#12820](https://github.com/astral-sh/uv/pull/12820))\n-- Support build constraints in `uv tool` and PEP723 scripts. ([#12842](https://github.com/astral-sh/uv/pull/12842))\n-- Use suffix from `uvx` binary when searching for uv binary ([#12923](https://github.com/astral-sh/uv/pull/12923))\n-- Update version formatting to use cyan color ([#12943](https://github.com/astral-sh/uv/pull/12943))\n-- Add debug logs for version file search ([#12951](https://github.com/astral-sh/uv/pull/12951))\n-- Fix `SourceNotAllowed` error message during Python discovery ([#13012](https://github.com/astral-sh/uv/pull/13012))\n-- Obfuscate password in credentials debug messages ([#12944](https://github.com/astral-sh/uv/pull/12944))\n-- Obfuscate possible tokens in URL logs ([#12969](https://github.com/astral-sh/uv/pull/12969))\n-- Validate that PEP 751 entries don't include multiple sources ([#12993](https://github.com/astral-sh/uv/pull/12993))\n-\n-### Preview features\n-\n-- Build backend: Add reference docs and schema ([#12803](https://github.com/astral-sh/uv/pull/12803))\n-\n-### Bug fixes\n-\n-- Align supported `config-settings` with example in docs ([#12947](https://github.com/astral-sh/uv/pull/12947))\n-- Ensure virtual environment is compatible with interpreter on sync ([#12884](https://github.com/astral-sh/uv/pull/12884))\n-- Fix `PythonDownloadRequest` parsing for partial keys ([#12925](https://github.com/astral-sh/uv/pull/12925))\n-- Fix pre-release exclusive comparison operator in `uv-pep440` ([#12836](https://github.com/astral-sh/uv/pull/12836))\n-- Forward additional signals to the child process in `uv run` ([#13017](https://github.com/astral-sh/uv/pull/13017))\n-- Omit PEP 751 version for source trees ([#13030](https://github.com/astral-sh/uv/pull/13030))\n-- Patch `CC` and `CCX` entries in sysconfig for cross-compiled `aarch64` Python distributions ([#12239](https://github.com/astral-sh/uv/pull/12239))\n-- Properly handle authentication for HTTP 302 redirect URLs ([#12920](https://github.com/astral-sh/uv/pull/12920))\n-- Set 4MB stack size for all threads, introduce `UV_STACK_SIZE` ([#12839](https://github.com/astral-sh/uv/pull/12839))\n-- Show PyPy downloads during `uv python list` ([#12915](https://github.com/astral-sh/uv/pull/12915))\n-- Add `subdirectory` to Direct URL for local directories ([#12971](https://github.com/astral-sh/uv/pull/12971))\n-- Prefer stable releases over pre-releases in `uv python install` ([#12194](https://github.com/astral-sh/uv/pull/12194))\n-- Write requested Python variant to pin file in `uv init` ([#12870](https://github.com/astral-sh/uv/pull/12870))\n-\n-### Documentation\n-\n-- Fix CLI reference with code block ([#12807](https://github.com/astral-sh/uv/pull/12807))\n-- Fix lockfile note ([#12793](https://github.com/astral-sh/uv/pull/12793))\n-- Fix typo in a reference ([#12858](https://github.com/astral-sh/uv/pull/12858))\n-- Improve docs for `uv python list --only-downloads` and `--only-installed` ([#12916](https://github.com/astral-sh/uv/pull/12916))\n-- Update note on lack of musl distributions to ARM-only ([#12825](https://github.com/astral-sh/uv/pull/12825))\n-- Add section on shebangs for scripts ([#11553](https://github.com/astral-sh/uv/pull/11553))\n-- Display aliases for long and short args in the CLI reference ([#12824](https://github.com/astral-sh/uv/pull/12824))\n-- Fix highlight line in explicit index documentation ([#12887](https://github.com/astral-sh/uv/pull/12887))\n-- Add explicit source (matching PyTorch guide) ([#12844](https://github.com/astral-sh/uv/pull/12844))\n-- Fix link to issue ([#12823](https://github.com/astral-sh/uv/pull/12823))\n-- Fix grammatical error in FastAPI guide ([#12908](https://github.com/astral-sh/uv/pull/12908))\n-- Add `--locked` to `uv sync` in GitHub Actions guide ([#12819](https://github.com/astral-sh/uv/pull/12819))\n-- Improve formatting for `\"all\"` `default-groups` setting documentation ([#12963](https://github.com/astral-sh/uv/pull/12963))\n-- Replace `--frozen` with `--locked` in Docker integration guide ([#12818](https://github.com/astral-sh/uv/pull/12818))\n-\n-## 0.6.14\n-\n-### Python versions\n-\n-The following Python versions have been added:\n-\n-- CPython 3.13.3\n-- CPython 3.12.10\n-- CPython 3.11.12\n-- CPython 3.10.17\n-- CPython 3.9.22\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250409) for more details.\n-\n-### Enhancements\n-\n-- Add `uv-build` and `uv_build` aliases to `uv init --build-backend` ([#12776](https://github.com/astral-sh/uv/pull/12776))\n-- Emit dedicated error message for Conda `environment.yml` files ([#12669](https://github.com/astral-sh/uv/pull/12669))\n-\n-### Preview features\n-\n-- Build backend: Check module dir exists for sdist build ([#12779](https://github.com/astral-sh/uv/pull/12779))\n-- Build backend: Fix sdist with long directories ([#12764](https://github.com/astral-sh/uv/pull/12764))\n-\n-### Performance\n-\n-- Avoid querying GitHub on repeated install invocations ([#12767](https://github.com/astral-sh/uv/pull/12767))\n-\n-### Bug fixes\n-\n-- Error when `tool.uv.sources` is set in system-level configuration file ([#12757](https://github.com/astral-sh/uv/pull/12757))\n-- Split workspace members onto their own lines in `uv init` ([#12756](https://github.com/astral-sh/uv/pull/12756))\n-\n-### Documentation\n-\n-- Add lockfile note about PEP 751 ([#12732](https://github.com/astral-sh/uv/pull/12732))\n-- Extend the reference documentation for `uv pip sync` ([#12683](https://github.com/astral-sh/uv/pull/12683))\n-- Fix mismatched pip interface header / nav titles ([#12640](https://github.com/astral-sh/uv/pull/12640))\n-\n-## 0.6.13\n-\n-### Enhancements\n-\n-- Add `--show-version` to `uv python find` ([#12376](https://github.com/astral-sh/uv/pull/12376))\n-- Remove `--no-config` warning from `uv pip compile` and `uv pip sync` ([#12642](https://github.com/astral-sh/uv/pull/12642))\n-- Skip repeated directories in `PATH` when searching for Python interpreters ([#12367](https://github.com/astral-sh/uv/pull/12367))\n-- Unset `SCRIPT_PATH` in relocatable activation script ([#12672](https://github.com/astral-sh/uv/pull/12672))\n-- Add `UV_PYTHON_DOWNLOADS_JSON_URL` to set custom managed python sources ([#10939](https://github.com/astral-sh/uv/pull/10939))\n-- Reject `pyproject.toml` files in `uv pip compile -o` ([#12673](https://github.com/astral-sh/uv/pull/12673))\n-- Respect the `--offline` flag for Git operations ([#12619](https://github.com/astral-sh/uv/pull/12619))\n-\n-### Bug fixes\n-\n-- Warn instead of error if CRC appears to be missing ([#12722](https://github.com/astral-sh/uv/pull/12722))\n-- Avoid infinite loop in `uv export` with conflicts ([#12726](https://github.com/astral-sh/uv/pull/12726))\n-\n-### Rust API\n-\n-- Update MSRV to 1.84 ([#12670](https://github.com/astral-sh/uv/pull/12670))\n-\n-## 0.6.12\n-\n-### Enhancements\n-\n-- Report the queried executable path in `uv python list` ([#12628](https://github.com/astral-sh/uv/pull/12628))\n-- Improve archive unpack error messages ([#12627](https://github.com/astral-sh/uv/pull/12627))\n-\n-### Bug fixes\n-\n-- Respect `authenticate` when using `explicit = true` ([#12631](https://github.com/astral-sh/uv/pull/12631))\n-- Normalize extra and group names in `uv add` and `uv remove` ([#12586](https://github.com/astral-sh/uv/pull/12586))\n-- Enforce CRC-32 checks when unpacking archives ([#12623](https://github.com/astral-sh/uv/pull/12623))\n-- Fix parsing of `python-platform` in settings files ([#12592](https://github.com/astral-sh/uv/pull/12592))\n-\n-### Documentation\n-\n-- Add note about `uv build` to `package = false` ([#12608](https://github.com/astral-sh/uv/pull/12608))\n-- Add index fallback note to `authenticate = always` documentation ([#12498](https://github.com/astral-sh/uv/pull/12498))\n-- Fix invalid 'kind' reference in flat index docs ([#12583](https://github.com/astral-sh/uv/pull/12583))\n-\n-## 0.6.11\n-\n-### Enhancements\n-\n-- Add dependents (\"via ...\" comments) in `uv export` command ([#12350](https://github.com/astral-sh/uv/pull/12350))\n-- Bump least-recent non-EOL macOS version to 13.0 ([#12518](https://github.com/astral-sh/uv/pull/12518))\n-- Support `--find-links`-style \"flat\" indexes in `[[tool.uv.index]]` ([#12407](https://github.com/astral-sh/uv/pull/12407))\n-- Distinguish between `-q` and `-qq` ([#12300](https://github.com/astral-sh/uv/pull/12300))\n-\n-### Configuration\n-\n-- Support `UV_PROJECT` environment to set project directory. ([#12327](https://github.com/astral-sh/uv/pull/12327))\n-\n-### Performance\n-\n-- Use a boxed slice for various requirement types ([#12514](https://github.com/astral-sh/uv/pull/12514))\n-\n-### Bug fixes\n-\n-- Add a newline after metadata when initializing scripts with other metadata blocks ([#12501](https://github.com/astral-sh/uv/pull/12501))\n-- Avoid writing empty `requires-python` to script blocks ([#12517](https://github.com/astral-sh/uv/pull/12517))\n-- Respect build constraints in `uv sync` ([#12502](https://github.com/astral-sh/uv/pull/12502))\n-- Respect transitive dependencies in `uv tree --only-group` ([#12560](https://github.com/astral-sh/uv/pull/12560))\n-\n-## 0.6.10\n-\n-### Enhancements\n-\n-- Add `uv sync --check` flag ([#12342](https://github.com/astral-sh/uv/pull/12342))\n-- Add support for Python version requests in `uv python list` ([#12375](https://github.com/astral-sh/uv/pull/12375))\n-- Support `.env` files in `uv tool run` ([#12386](https://github.com/astral-sh/uv/pull/12386))\n-- Support `python find --script` ([#11891](https://github.com/astral-sh/uv/pull/11891))\n-\n-### Preview features\n-\n-- Check all compatible torch indexes when `--torch-backend` is enabled ([#12385](https://github.com/astral-sh/uv/pull/12385))\n-\n-### Performance\n-\n-- Use a boxed slice for extras and groups ([#12391](https://github.com/astral-sh/uv/pull/12391))\n-- Use small string for index name type ([#12355](https://github.com/astral-sh/uv/pull/12355))\n-\n-### Bug fixes\n-\n-- Allow virtual packages with `--no-build` ([#12314](https://github.com/astral-sh/uv/pull/12314))\n-- Ignore `--find-links` entries for pinned indexes ([#12396](https://github.com/astral-sh/uv/pull/12396))\n-- Omit wheels from lockfile based on `--exclude-newer` ([#12299](https://github.com/astral-sh/uv/pull/12299))\n-- Retain end-of-line comment position when adding dependency ([#12360](https://github.com/astral-sh/uv/pull/12360))\n-- Omit fragment when querying for wheels in Simple HTML API ([#12384](https://github.com/astral-sh/uv/pull/12384))\n-- Error on missing argument in `requirements.txt` ([#12354](https://github.com/astral-sh/uv/pull/12354))\n-- Support modules with different casing in build backend ([#12240](https://github.com/astral-sh/uv/pull/12240))\n-- Add authentication policy support for `pip` commands ([#12470](https://github.com/astral-sh/uv/pull/12470))\n-\n-## 0.6.9\n-\n-### Enhancements\n-\n-- Use `keyring --mode creds` when `authenticate = \"always\"` ([#12316](https://github.com/astral-sh/uv/pull/12316))\n-- Fail with specific error message when no password is present and `authenticate = \"always\"` ([#12313](https://github.com/astral-sh/uv/pull/12313))\n-\n-### Bug fixes\n-\n-- Add boolish value parser for `UV_MANAGED_PYTHON` flags ([#12345](https://github.com/astral-sh/uv/pull/12345))\n-- Make deserialization non-fatal when assessing source tree revisions ([#12319](https://github.com/astral-sh/uv/pull/12319))\n-- Use resolver-returned wheel over alternate cached wheel ([#12301](https://github.com/astral-sh/uv/pull/12301))\n-\n-### Documentation\n-\n-- Add experimental `--torch-backend` to the PyTorch guide ([#12317](https://github.com/astral-sh/uv/pull/12317))\n-- Fix `#keyring-provider` references in alternative index docs ([#12315](https://github.com/astral-sh/uv/pull/12315))\n-- Fix `--directory` path in examples ([#12165](https://github.com/astral-sh/uv/pull/12165))\n-\n-### Preview changes\n-\n-- Automatically infer the PyTorch index via `--torch-backend=auto` ([#12070](https://github.com/astral-sh/uv/pull/12070))\n-\n-## 0.6.8\n-\n-### Enhancements\n-\n-- Add support for enabling all groups by default with `default-groups = \"all\"` ([#12289](https://github.com/astral-sh/uv/pull/12289))\n-- Add simpler `--managed-python` and `--no-managed-python` flags for toggling Python preferences ([#12246](https://github.com/astral-sh/uv/pull/12246))\n-\n-### Performance\n-\n-- Avoid allocations for default cache keys ([#12063](https://github.com/astral-sh/uv/pull/12063))\n-\n-### Bug fixes\n-\n-- Allow local version mismatches when validating lockfile ([#12285](https://github.com/astral-sh/uv/pull/12285))\n-- Allow owned string when deserializing `requires-python` ([#12278](https://github.com/astral-sh/uv/pull/12278))\n-- Make cache errors non-fatal in `Planner::build` ([#12281](https://github.com/astral-sh/uv/pull/12281))\n-\n-## 0.6.7\n-\n-### Python\n-\n-- Add CPython 3.14.0a6\n-- Fix regression where extension modules would use wrong `CXX` compiler on Linux\n-- Enable FTS3 enhanced query syntax for SQLite\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250317) for more details.\n-\n-### Enhancements\n-\n-- Add support for `-c` constraints in `uv add` ([#12209](https://github.com/astral-sh/uv/pull/12209))\n-- Add support for `--global` default version in `uv python pin` ([#12115](https://github.com/astral-sh/uv/pull/12115))\n-- Always reinstall local source trees passed to `uv pip install` ([#12176](https://github.com/astral-sh/uv/pull/12176))\n-- Render token claims on publish permission error ([#12135](https://github.com/astral-sh/uv/pull/12135))\n-- Add pip-compatible `--group` flag to `uv pip install` and `uv pip compile` ([#11686](https://github.com/astral-sh/uv/pull/11686))\n-\n-### Preview features\n-\n-- Avoid creating duplicate directory entries in built wheels ([#12206](https://github.com/astral-sh/uv/pull/12206))\n-- Allow overriding module names for editable builds ([#12137](https://github.com/astral-sh/uv/pull/12137))\n-\n-### Performance\n-\n-- Avoid replicating core-metadata field on `File` struct ([#12159](https://github.com/astral-sh/uv/pull/12159))\n-\n-### Bug fixes\n-\n-- Add `src` to default cache keys ([#12062](https://github.com/astral-sh/uv/pull/12062))\n-- Discard insufficient fork markers ([#10682](https://github.com/astral-sh/uv/pull/10682))\n-- Ensure `python pin --global` creates parent directories if missing ([#12180](https://github.com/astral-sh/uv/pull/12180))\n-- Fix GraalPy abi tag parsing and discovery ([#12154](https://github.com/astral-sh/uv/pull/12154))\n-- Remove extraneous script packages in `uv sync --script` ([#12158](https://github.com/astral-sh/uv/pull/12158))\n-- Remove redundant `activate.bat` output ([#12160](https://github.com/astral-sh/uv/pull/12160))\n-- Avoid subsequent index hint when no versions are available on the first index ([#9332](https://github.com/astral-sh/uv/pull/9332))\n-- Error on lockfiles with incoherent wheel versions ([#12235](https://github.com/astral-sh/uv/pull/12235))\n-\n-### Rust API\n-\n-- Update `BaseClientBuild` to accept custom proxies ([#12232](https://github.com/astral-sh/uv/pull/12232))\n-\n-### Documentation\n-\n-- Make testpypi index explicit in example snippet ([#12148](https://github.com/astral-sh/uv/pull/12148))\n-- Reverse and format the archived changelogs ([#12099](https://github.com/astral-sh/uv/pull/12099))\n-- Use consistent commas around i.e. and e.g. ([#12157](https://github.com/astral-sh/uv/pull/12157))\n-- Fix typos in MRE docs ([#12198](https://github.com/astral-sh/uv/pull/12198))\n-- Fix double space typo ([#12171](https://github.com/astral-sh/uv/pull/12171))\n-\n-## 0.6.6\n-\n-### Python\n-\n-- Add support for dynamic musl Python distributions on x86-64 Linux ([#12121](https://github.com/astral-sh/uv/pull/12121))\n-- Allow the experimental JIT to be enabled at runtime on Python 3.13 and 3.14 on Linux\n-- Upgrade the build toolchain to LLVM 20, improving performance\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250311) for more details.\n-\n-### Enhancements\n-\n-- Add `--marker` flag to `uv add` ([#12012](https://github.com/astral-sh/uv/pull/12012))\n-- Allow overriding module name for uv build backend ([#11884](https://github.com/astral-sh/uv/pull/11884))\n-- Sync latest Python releases ([#12120](https://github.com/astral-sh/uv/pull/12120))\n-- Use 'Upload' instead of 'Download' in publish reporter ([#12029](https://github.com/astral-sh/uv/pull/12029))\n-- Add `[index].authenticate` allowing authentication to be required on an index ([#11896](https://github.com/astral-sh/uv/pull/11896))\n-- Add support for Windows legacy scripts in `uv tool run` ([#12079](https://github.com/astral-sh/uv/pull/12079))\n-- Propagate conflicting dependency groups when using `include-group` ([#12005](https://github.com/astral-sh/uv/pull/12005))\n-- Show ambiguous requirements when `uv add` failed ([#12106](https://github.com/astral-sh/uv/pull/12106))\n-\n-### Performance\n-\n-- Cache workspace discovery ([#12096](https://github.com/astral-sh/uv/pull/12096))\n-- Insert dependencies into fork state prior to fetching metadata ([#12057](https://github.com/astral-sh/uv/pull/12057))\n-- Remove some allocations from `uv-auth` ([#12077](https://github.com/astral-sh/uv/pull/12077))\n-\n-### Bug fixes\n-\n-- Avoid considering `PATH` updated when the `export` is commented in the shellrc ([#12043](https://github.com/astral-sh/uv/pull/12043))\n-- Fix `uv publish` retry on network failures ([#12041](https://github.com/astral-sh/uv/pull/12041))\n-- Use a sized stream in `uv publish` to comply with WSGI PyPI server constraints ([#12111](https://github.com/astral-sh/uv/pull/12111))\n-- Fix `uv python install --reinstall` when the version was not previously installed ([#12124](https://github.com/astral-sh/uv/pull/12124))\n-\n-### Preview features\n-\n-- Fix `uv_build` invocation ([#12058](https://github.com/astral-sh/uv/pull/12058))\n-\n-### Documentation\n-\n-- Quote versions string in `python-versions.md` ([#12112](https://github.com/astral-sh/uv/pull/12112))\n-- Fix tool concept page headings ([#12053](https://github.com/astral-sh/uv/pull/12053))\n-- Update the `[index].authenticate` docs ([#12102](https://github.com/astral-sh/uv/pull/12102))\n-- Update versioning policy ([#11666](https://github.com/astral-sh/uv/pull/11666))\n-\n-## 0.6.5\n-\n-### Enhancements\n-\n-- Allow `--constraints` and `--overrides` in `uvx` ([#10207](https://github.com/astral-sh/uv/pull/10207))\n-- Allow overrides in `satisfies` check for `uv tool run` ([#11994](https://github.com/astral-sh/uv/pull/11994))\n-- Allow users to set `package = true` on `tool.uv.sources` ([#12014](https://github.com/astral-sh/uv/pull/12014))\n-- Add support for Windows legacy scripts via `uv run` ([#11888](https://github.com/astral-sh/uv/pull/11888))\n-- Return error when running uvx with a `.py` script ([#11623](https://github.com/astral-sh/uv/pull/11623))\n-- Warn user on use of `uvx run` ([#11992](https://github.com/astral-sh/uv/pull/11992))\n-\n-### Configuration\n-\n-- Add `NO_BUILD` and `NO_BUILD_PACKAGE` environment variables ([#11968](https://github.com/astral-sh/uv/pull/11968))\n-\n-### Performance\n-\n-- Allow overrides in all satisfies checks ([#11995](https://github.com/astral-sh/uv/pull/11995))\n-- Respect markers on constraints when validating current environment ([#11976](https://github.com/astral-sh/uv/pull/11976))\n-\n-### Bug fixes\n-\n-- Compare major-minor specifiers when filtering interpreters ([#11952](https://github.com/astral-sh/uv/pull/11952))\n-- Fix system site packages detection default ([#11956](https://github.com/astral-sh/uv/pull/11956))\n-- Invalidate lockfile when empty dependency groups are added or removed ([#12010](https://github.com/astral-sh/uv/pull/12010))\n-- Remove prepended sys.path ([#11954](https://github.com/astral-sh/uv/pull/11954))\n-- Fix PyPy Python version label ([#11965](https://github.com/astral-sh/uv/pull/11965))\n-- Fix error message suggesting `--user` instead of `--username` ([#11947](https://github.com/astral-sh/uv/pull/11947))\n+### Breaking changes\n \n-### Preview\n+- **Update `uv version` to be an interface for project version reads and edits ([#12349](https://github.com/astral-sh/uv/pull/12349))**\n \n-- Move the uv build backend into a separate, minimal `uv_build` package ([#11446](https://github.com/astral-sh/uv/pull/11446))\n+  Previously, `uv version` displayed uv's version. Now, `uv version` is used for viewing or updating project versions. This interface was [heavily requested](https://github.com/astral-sh/uv/issues/6298), and after much consideration we decided that transitioning the top-level command was the best option.\n \n-## 0.6.4\n+  Here's a brief example:\n \n-### Enhancements\n+  ```console\n+  $ uv init example\n+  Initialized project `example` at `./example`\n+  $ cd example\n+  $ uv version\n+  example 0.1.0\n+  $ uv version --bump major\n+  example 0.1.0 => 1.0.0\n+  $ uv version --short\n+  1.0.0\n+  ```\n \n-- Upgrade pypy3.10 to v7.3.19 ([#11814](https://github.com/astral-sh/uv/pull/11814))\n-- Allow configuring log verbosity from the CLI (i.e., `-vvv`) ([#11758](https://github.com/astral-sh/uv/pull/11758))\n-- Warn when duplicate index names found in single file ([#11824](https://github.com/astral-sh/uv/pull/11824))\n+  If used outside of a project, uv will fallback to showing its own version still:\n \n-### Bug fixes\n+  ```console\n+  $ uv version\n+  warning: failed to read project: No `pyproject.toml` found in current directory or any parent directory\n+    running `uv self version` for compatibility with old `uv version` command.\n+    this fallback will be removed soon, pass `--preview` to make this an error.\n \n-- Always store registry index on resolution packages ([#11815](https://github.com/astral-sh/uv/pull/11815))\n-- Avoid error on relative paths in `uv tool uninstall` ([#11889](https://github.com/astral-sh/uv/pull/11889))\n-- Avoid silently dropping errors in directory enumeration ([#11890](https://github.com/astral-sh/uv/pull/11890))\n-- Disable interactive git terminal prompts during fetches ([#11744](https://github.com/astral-sh/uv/pull/11744))\n-- Discover Windows registry (PEP 514) Python versions across 32/64-bit ([#11801](https://github.com/astral-sh/uv/pull/11801))\n-- Don't panic on Ctrl-C in confirm prompt ([#11706](https://github.com/astral-sh/uv/pull/11706))\n-- Fix non-directory in workspace on Windows ([#11833](https://github.com/astral-sh/uv/pull/11833))\n-- Make interpreter caching robust to OS upgrades ([#11875](https://github.com/astral-sh/uv/pull/11875))\n-- Respect `include-system-site-packages` in layered environments ([#11873](https://github.com/astral-sh/uv/pull/11873))\n-- Suggest `uv tool update-shell` in PowerShell ([#11846](https://github.com/astral-sh/uv/pull/11846))\n-- Update code page to `65001` before setting environment variables in virtual environments ([#11831](https://github.com/astral-sh/uv/pull/11831))\n-- Use hash instead of full wheel name in wheels bucket ([#11738](https://github.com/astral-sh/uv/pull/11738))\n-- Fix version string truncation while generating cache_key ([#11830](https://github.com/astral-sh/uv/pull/11830))\n-- Explicitly handle ctrl-c in confirmation prompt instead of using a signal handler ([#11897](https://github.com/astral-sh/uv/pull/11897))\n-\n-### Performance\n-\n-- Avoid cloning to string when creating cache path ([#11772](https://github.com/astral-sh/uv/pull/11772))\n-- Avoid redundant clones in version containment check ([#11767](https://github.com/astral-sh/uv/pull/11767))\n-- Avoid string allocation when enumerating tool names ([#11910](https://github.com/astral-sh/uv/pull/11910))\n-- Avoid using owned `String` for package name constructors ([#11768](https://github.com/astral-sh/uv/pull/11768))\n-- Avoid using owned `String` in deserializers ([#11764](https://github.com/astral-sh/uv/pull/11764))\n-- Migrate to `zlib-rs` (again) ([#11894](https://github.com/astral-sh/uv/pull/11894))\n-- Remove unnecessary clones when adding package names ([#11771](https://github.com/astral-sh/uv/pull/11771))\n-- Skip unquote allocation for non-quoted strings ([#11813](https://github.com/astral-sh/uv/pull/11813))\n-- Use `SmallString` for filenames and URLs ([#11765](https://github.com/astral-sh/uv/pull/11765))\n-- Use a Boxed slice for version specifiers ([#11766](https://github.com/astral-sh/uv/pull/11766))\n-- Use matches over contains for extra value parsing ([#11770](https://github.com/astral-sh/uv/pull/11770))\n+  uv 0.7.0 (4433f41c9 2025-04-29)\n+  ```\n \n-### Documentation\n+  As described in the warning, `--preview` can be used to error instead:\n \n-- Avoid fallback to PyPI in mixed CPU/CUDA example ([#11115](https://github.com/astral-sh/uv/pull/11115))\n-- Docs: Clarify that setting cache-keys overrides defaults ([#11895](https://github.com/astral-sh/uv/pull/11895))\n-- Document our MSRV policy ([#11898](https://github.com/astral-sh/uv/pull/11898))\n-- Fix reference to macOS cache path ([#11845](https://github.com/astral-sh/uv/pull/11845))\n-- Fix typo in `no_default_groups` documentation and changelog ([#11928](https://github.com/astral-sh/uv/pull/11928))\n-- Update the \"Locking and syncing\" page ([#11647](https://github.com/astral-sh/uv/pull/11647))\n-- Update alternative indexes documentation to use new interface ([#10826](https://github.com/astral-sh/uv/pull/10826))\n+  ```console\n+  $ uv version --preview\n+  error: No `pyproject.toml` found in current directory or any parent directory\n+  ```\n \n-## 0.6.3\n+  The previous functionality of `uv version` was moved to `uv self version`.\n \n-### Enhancements\n+- **Avoid fallback to subsequent indexes on authentication failure ([#12805](https://github.com/astral-sh/uv/pull/12805))**\n \n-- Allow quotes around command-line options in `requirement.txt files` ([#11644](https://github.com/astral-sh/uv/pull/11644))\n-- Initialize PEP 723 script in `uv lock --script` ([#11717](https://github.com/astral-sh/uv/pull/11717))\n+  When using the `first-index` strategy (the default), uv will stop searching indexes for a package once it is found on a single index. Previously, uv considered a package as \"missing\" from an index during authentication failures, such as an HTTP 401 or HTTP 403 (normally, missing packages are represented by an HTTP 404). This behavior was motivated by unusual responses from some package indexes, but reduces the safety of uv's index strategy when authentication fails. Now, uv will consider an authentication failure as a stop-point when searching for a package across indexes. The `index.ignore-error-codes` option can be used to recover the existing behavior, e.g.:\n \n-### Configuration\n+  ```toml\n+  [[tool.uv.index]]\n+  name = \"pytorch\"\n+  url = \"https://download.pytorch.org/whl/cpu\"\n+  ignore-error-codes = [401, 403]\n+  ```\n \n-- Accept multiple `.env` files in `UV_ENV_FILE` ([#11665](https://github.com/astral-sh/uv/pull/11665))\n+  Since `pytorch`'s indexes always return a HTTP 403 for missing packages, uv special-cases indexes on the `pytorch.org` domain to ignore that error code by default.\n \n-### Performance\n+- **Require the command in `uvx <name>` to be available in the Python environment ([#11603](https://github.com/astral-sh/uv/pull/11603))**\n \n-- Reduce overhead in converting resolutions ([#11660](https://github.com/astral-sh/uv/pull/11660))\n-- Use `SmallString` on `Hashes` ([#11756](https://github.com/astral-sh/uv/pull/11756))\n-- Use a `Box` for `Yanked` on `File` ([#11755](https://github.com/astral-sh/uv/pull/11755))\n-- Use a `SmallString` for the `Yanked` enum ([#11715](https://github.com/astral-sh/uv/pull/11715))\n-- Use boxed slices for hash vector ([#11714](https://github.com/astral-sh/uv/pull/11714))\n-- Use install concurrency for bytecode compilation too ([#11615](https://github.com/astral-sh/uv/pull/11615))\n+  Previously, `uvx` would execute attempt to execute a command even if it was not provided by a Python package. For example, if we presume `foo` is an empty Python package which provides no command, `uvx foo` would invoke the `foo` command on the `PATH` (if present). Now, uv will error early if the `foo` executable is not provided by the requested Python package. This check is not enforced when `--from` is used, so patterns like `uvx --from foo bash -c \"...\"` are still valid. uv also still allows `uvx foo` where the `foo` executable is provided by a dependency of `foo` instead of `foo` itself, as this is fairly common for packages which depend on a dedicated package for their command-line interface.\n \n-### Bug fixes\n+- **Use index URL instead of package URL for keyring credential lookups ([#12651](https://github.com/astral-sh/uv/pull/12651))**\n \n-- Avoid installing duplicate dependencies across conflicting groups ([#11653](https://github.com/astral-sh/uv/pull/11653))\n-- Check subdirectory existence after cache heal ([#11719](https://github.com/astral-sh/uv/pull/11719))\n-- Include uppercase platforms for Windows wheels ([#11681](https://github.com/astral-sh/uv/pull/11681))\n-- Respect existing PEP 723 script settings in `uv add` ([#11716](https://github.com/astral-sh/uv/pull/11716))\n-- Reuse refined interpreter to create tool environment ([#11680](https://github.com/astral-sh/uv/pull/11680))\n-- Skip removed directories during bytecode compilation ([#11633](https://github.com/astral-sh/uv/pull/11633))\n-- Support conflict markers in `uv export` ([#11643](https://github.com/astral-sh/uv/pull/11643))\n-- Treat lockfile as outdated if (empty) extras are added ([#11702](https://github.com/astral-sh/uv/pull/11702))\n-- Display path separators as backslashes on Windows ([#11667](https://github.com/astral-sh/uv/pull/11667))\n-- Display the built file name instead of the canonicalized name in `uv build` ([#11593](https://github.com/astral-sh/uv/pull/11593))\n-- Fix message when there are no buildable packages ([#11722](https://github.com/astral-sh/uv/pull/11722))\n-- Re-allow HTTP schemes for Git dependencies ([#11687](https://github.com/astral-sh/uv/pull/11687))\n+  When determining credentials for querying a package URL, uv previously sent the full URL to the `keyring` command. However, some keyring plugins only work if given the _index URL_ (which is usually a parent of the package URL). Now, uv requests credentials for the index URL instead. This behavior matches `pip`.",
    "repo_full_name": "astral-sh/uv",
    "discussion_comments": [
      {
        "comment_id": "2067277026",
        "repo_full_name": "astral-sh/uv",
        "pr_number": 13201,
        "pr_file": "CHANGELOG.md",
        "discussion_id": "2067277026",
        "commented_code": "@@ -3,592 +3,117 @@\n <!-- prettier-ignore-start -->\n \n \n-## 0.6.17\n+## 0.7.0\n \n-### Preview features\n-\n-- Add PyTorch v2.7.0 to GPU backend ([#13072](https://github.com/astral-sh/uv/pull/13072))\n-\n-### Bug fixes\n-\n-- Avoid panic for invalid Python versions ([#13077](https://github.com/astral-sh/uv/pull/13077))\n-- Block scripts from overwriting `python` ([#13051](https://github.com/astral-sh/uv/pull/13051))\n-- Check distribution names to handle invalid redirects ([#12917](https://github.com/astral-sh/uv/pull/12917))\n-- Check for mismatched package and distribution names on resolver thread ([#13088](https://github.com/astral-sh/uv/pull/13088))\n-- Fix panic with invalid last character in PEP 508 name ([#13105](https://github.com/astral-sh/uv/pull/13105))\n-- Reject `requires-python` even if not listed on the index page ([#13086](https://github.com/astral-sh/uv/pull/13086))\n-\n-## 0.6.16\n-\n-### Bug fixes\n-\n-- Revert \"Properly handle authentication for 302 redirect URLs\" ([#13041](https://github.com/astral-sh/uv/pull/13041))\n-\n-## 0.6.15\n-\n-This release includes preliminary support for the `pylock.toml` file format, as standardized in [PEP 751](https://peps.python.org/pep-0751/). `pylock.toml` is an alternative resolution output format intended to replace `requirements.txt` (e.g., in the context of `uv pip compile`, whereby a \"locked\" `requirements.txt` file is generated from a set of input requirements). `pylock.toml` is standardized and tool-agnostic, such that in the future, `pylock.toml` files generated by uv could be installed by other tools, and vice versa.\n-\n-As of this release, `pylock.toml` is supported in the following commands:\n-\n-- To export a `uv.lock` to the `pylock.toml` format, run: `uv export -o pylock.toml`\n-- To generate a `pylock.toml` file from a set of requirements, run: `uv pip compile -o pylock.toml requirements.in`\n-- To install from a `pylock.toml` file, run: `uv pip sync pylock.toml` or `uv pip install -r pylock.toml`\n-\n-### Enhancements\n-\n-- Add PEP 751 support to `uv pip compile` ([#13019](https://github.com/astral-sh/uv/pull/13019))\n-- Add `uv export` support for PEP 751 ([#12955](https://github.com/astral-sh/uv/pull/12955))\n-- Accept `requirements.txt` (verbatim) as a format on the CLI ([#12957](https://github.com/astral-sh/uv/pull/12957))\n-- Add `UV_NO_EDITABLE` environment variable to set `--no-editable` on all invocations ([#12773](https://github.com/astral-sh/uv/pull/12773))\n-- Add `pylock.toml` to `uv pip install` and `uv pip sync` ([#12992](https://github.com/astral-sh/uv/pull/12992))\n-- Add a brief sleep before sending `SIGINT` to child processes ([#13018](https://github.com/astral-sh/uv/pull/13018))\n-- Add upload time to `uv.lock` ([#12968](https://github.com/astral-sh/uv/pull/12968))\n-- Allow updating Git sources by name ([#12897](https://github.com/astral-sh/uv/pull/12897))\n-- Cache `which git` in `uv init` ([#12893](https://github.com/astral-sh/uv/pull/12893))\n-- Enable `--dry-run` with `--locked` / `--frozen` for `uv sync` ([#12778](https://github.com/astral-sh/uv/pull/12778))\n-- Infer output type in `uv export` ([#12958](https://github.com/astral-sh/uv/pull/12958))\n-- Make `uv init` resilient against broken git ([#12895](https://github.com/astral-sh/uv/pull/12895))\n-- Respect build constraints for `uv run --with` dependencies ([#12882](https://github.com/astral-sh/uv/pull/12882))\n-- Split UV_INDEX on all whitespace ([#12820](https://github.com/astral-sh/uv/pull/12820))\n-- Support build constraints in `uv tool` and PEP723 scripts. ([#12842](https://github.com/astral-sh/uv/pull/12842))\n-- Use suffix from `uvx` binary when searching for uv binary ([#12923](https://github.com/astral-sh/uv/pull/12923))\n-- Update version formatting to use cyan color ([#12943](https://github.com/astral-sh/uv/pull/12943))\n-- Add debug logs for version file search ([#12951](https://github.com/astral-sh/uv/pull/12951))\n-- Fix `SourceNotAllowed` error message during Python discovery ([#13012](https://github.com/astral-sh/uv/pull/13012))\n-- Obfuscate password in credentials debug messages ([#12944](https://github.com/astral-sh/uv/pull/12944))\n-- Obfuscate possible tokens in URL logs ([#12969](https://github.com/astral-sh/uv/pull/12969))\n-- Validate that PEP 751 entries don't include multiple sources ([#12993](https://github.com/astral-sh/uv/pull/12993))\n-\n-### Preview features\n-\n-- Build backend: Add reference docs and schema ([#12803](https://github.com/astral-sh/uv/pull/12803))\n-\n-### Bug fixes\n-\n-- Align supported `config-settings` with example in docs ([#12947](https://github.com/astral-sh/uv/pull/12947))\n-- Ensure virtual environment is compatible with interpreter on sync ([#12884](https://github.com/astral-sh/uv/pull/12884))\n-- Fix `PythonDownloadRequest` parsing for partial keys ([#12925](https://github.com/astral-sh/uv/pull/12925))\n-- Fix pre-release exclusive comparison operator in `uv-pep440` ([#12836](https://github.com/astral-sh/uv/pull/12836))\n-- Forward additional signals to the child process in `uv run` ([#13017](https://github.com/astral-sh/uv/pull/13017))\n-- Omit PEP 751 version for source trees ([#13030](https://github.com/astral-sh/uv/pull/13030))\n-- Patch `CC` and `CCX` entries in sysconfig for cross-compiled `aarch64` Python distributions ([#12239](https://github.com/astral-sh/uv/pull/12239))\n-- Properly handle authentication for HTTP 302 redirect URLs ([#12920](https://github.com/astral-sh/uv/pull/12920))\n-- Set 4MB stack size for all threads, introduce `UV_STACK_SIZE` ([#12839](https://github.com/astral-sh/uv/pull/12839))\n-- Show PyPy downloads during `uv python list` ([#12915](https://github.com/astral-sh/uv/pull/12915))\n-- Add `subdirectory` to Direct URL for local directories ([#12971](https://github.com/astral-sh/uv/pull/12971))\n-- Prefer stable releases over pre-releases in `uv python install` ([#12194](https://github.com/astral-sh/uv/pull/12194))\n-- Write requested Python variant to pin file in `uv init` ([#12870](https://github.com/astral-sh/uv/pull/12870))\n-\n-### Documentation\n-\n-- Fix CLI reference with code block ([#12807](https://github.com/astral-sh/uv/pull/12807))\n-- Fix lockfile note ([#12793](https://github.com/astral-sh/uv/pull/12793))\n-- Fix typo in a reference ([#12858](https://github.com/astral-sh/uv/pull/12858))\n-- Improve docs for `uv python list --only-downloads` and `--only-installed` ([#12916](https://github.com/astral-sh/uv/pull/12916))\n-- Update note on lack of musl distributions to ARM-only ([#12825](https://github.com/astral-sh/uv/pull/12825))\n-- Add section on shebangs for scripts ([#11553](https://github.com/astral-sh/uv/pull/11553))\n-- Display aliases for long and short args in the CLI reference ([#12824](https://github.com/astral-sh/uv/pull/12824))\n-- Fix highlight line in explicit index documentation ([#12887](https://github.com/astral-sh/uv/pull/12887))\n-- Add explicit source (matching PyTorch guide) ([#12844](https://github.com/astral-sh/uv/pull/12844))\n-- Fix link to issue ([#12823](https://github.com/astral-sh/uv/pull/12823))\n-- Fix grammatical error in FastAPI guide ([#12908](https://github.com/astral-sh/uv/pull/12908))\n-- Add `--locked` to `uv sync` in GitHub Actions guide ([#12819](https://github.com/astral-sh/uv/pull/12819))\n-- Improve formatting for `\"all\"` `default-groups` setting documentation ([#12963](https://github.com/astral-sh/uv/pull/12963))\n-- Replace `--frozen` with `--locked` in Docker integration guide ([#12818](https://github.com/astral-sh/uv/pull/12818))\n-\n-## 0.6.14\n-\n-### Python versions\n-\n-The following Python versions have been added:\n-\n-- CPython 3.13.3\n-- CPython 3.12.10\n-- CPython 3.11.12\n-- CPython 3.10.17\n-- CPython 3.9.22\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250409) for more details.\n-\n-### Enhancements\n-\n-- Add `uv-build` and `uv_build` aliases to `uv init --build-backend` ([#12776](https://github.com/astral-sh/uv/pull/12776))\n-- Emit dedicated error message for Conda `environment.yml` files ([#12669](https://github.com/astral-sh/uv/pull/12669))\n-\n-### Preview features\n-\n-- Build backend: Check module dir exists for sdist build ([#12779](https://github.com/astral-sh/uv/pull/12779))\n-- Build backend: Fix sdist with long directories ([#12764](https://github.com/astral-sh/uv/pull/12764))\n-\n-### Performance\n-\n-- Avoid querying GitHub on repeated install invocations ([#12767](https://github.com/astral-sh/uv/pull/12767))\n-\n-### Bug fixes\n-\n-- Error when `tool.uv.sources` is set in system-level configuration file ([#12757](https://github.com/astral-sh/uv/pull/12757))\n-- Split workspace members onto their own lines in `uv init` ([#12756](https://github.com/astral-sh/uv/pull/12756))\n-\n-### Documentation\n-\n-- Add lockfile note about PEP 751 ([#12732](https://github.com/astral-sh/uv/pull/12732))\n-- Extend the reference documentation for `uv pip sync` ([#12683](https://github.com/astral-sh/uv/pull/12683))\n-- Fix mismatched pip interface header / nav titles ([#12640](https://github.com/astral-sh/uv/pull/12640))\n-\n-## 0.6.13\n-\n-### Enhancements\n-\n-- Add `--show-version` to `uv python find` ([#12376](https://github.com/astral-sh/uv/pull/12376))\n-- Remove `--no-config` warning from `uv pip compile` and `uv pip sync` ([#12642](https://github.com/astral-sh/uv/pull/12642))\n-- Skip repeated directories in `PATH` when searching for Python interpreters ([#12367](https://github.com/astral-sh/uv/pull/12367))\n-- Unset `SCRIPT_PATH` in relocatable activation script ([#12672](https://github.com/astral-sh/uv/pull/12672))\n-- Add `UV_PYTHON_DOWNLOADS_JSON_URL` to set custom managed python sources ([#10939](https://github.com/astral-sh/uv/pull/10939))\n-- Reject `pyproject.toml` files in `uv pip compile -o` ([#12673](https://github.com/astral-sh/uv/pull/12673))\n-- Respect the `--offline` flag for Git operations ([#12619](https://github.com/astral-sh/uv/pull/12619))\n-\n-### Bug fixes\n-\n-- Warn instead of error if CRC appears to be missing ([#12722](https://github.com/astral-sh/uv/pull/12722))\n-- Avoid infinite loop in `uv export` with conflicts ([#12726](https://github.com/astral-sh/uv/pull/12726))\n-\n-### Rust API\n-\n-- Update MSRV to 1.84 ([#12670](https://github.com/astral-sh/uv/pull/12670))\n-\n-## 0.6.12\n-\n-### Enhancements\n-\n-- Report the queried executable path in `uv python list` ([#12628](https://github.com/astral-sh/uv/pull/12628))\n-- Improve archive unpack error messages ([#12627](https://github.com/astral-sh/uv/pull/12627))\n-\n-### Bug fixes\n-\n-- Respect `authenticate` when using `explicit = true` ([#12631](https://github.com/astral-sh/uv/pull/12631))\n-- Normalize extra and group names in `uv add` and `uv remove` ([#12586](https://github.com/astral-sh/uv/pull/12586))\n-- Enforce CRC-32 checks when unpacking archives ([#12623](https://github.com/astral-sh/uv/pull/12623))\n-- Fix parsing of `python-platform` in settings files ([#12592](https://github.com/astral-sh/uv/pull/12592))\n-\n-### Documentation\n-\n-- Add note about `uv build` to `package = false` ([#12608](https://github.com/astral-sh/uv/pull/12608))\n-- Add index fallback note to `authenticate = always` documentation ([#12498](https://github.com/astral-sh/uv/pull/12498))\n-- Fix invalid 'kind' reference in flat index docs ([#12583](https://github.com/astral-sh/uv/pull/12583))\n-\n-## 0.6.11\n-\n-### Enhancements\n-\n-- Add dependents (\"via ...\" comments) in `uv export` command ([#12350](https://github.com/astral-sh/uv/pull/12350))\n-- Bump least-recent non-EOL macOS version to 13.0 ([#12518](https://github.com/astral-sh/uv/pull/12518))\n-- Support `--find-links`-style \"flat\" indexes in `[[tool.uv.index]]` ([#12407](https://github.com/astral-sh/uv/pull/12407))\n-- Distinguish between `-q` and `-qq` ([#12300](https://github.com/astral-sh/uv/pull/12300))\n-\n-### Configuration\n-\n-- Support `UV_PROJECT` environment to set project directory. ([#12327](https://github.com/astral-sh/uv/pull/12327))\n-\n-### Performance\n-\n-- Use a boxed slice for various requirement types ([#12514](https://github.com/astral-sh/uv/pull/12514))\n-\n-### Bug fixes\n-\n-- Add a newline after metadata when initializing scripts with other metadata blocks ([#12501](https://github.com/astral-sh/uv/pull/12501))\n-- Avoid writing empty `requires-python` to script blocks ([#12517](https://github.com/astral-sh/uv/pull/12517))\n-- Respect build constraints in `uv sync` ([#12502](https://github.com/astral-sh/uv/pull/12502))\n-- Respect transitive dependencies in `uv tree --only-group` ([#12560](https://github.com/astral-sh/uv/pull/12560))\n-\n-## 0.6.10\n-\n-### Enhancements\n-\n-- Add `uv sync --check` flag ([#12342](https://github.com/astral-sh/uv/pull/12342))\n-- Add support for Python version requests in `uv python list` ([#12375](https://github.com/astral-sh/uv/pull/12375))\n-- Support `.env` files in `uv tool run` ([#12386](https://github.com/astral-sh/uv/pull/12386))\n-- Support `python find --script` ([#11891](https://github.com/astral-sh/uv/pull/11891))\n-\n-### Preview features\n-\n-- Check all compatible torch indexes when `--torch-backend` is enabled ([#12385](https://github.com/astral-sh/uv/pull/12385))\n-\n-### Performance\n-\n-- Use a boxed slice for extras and groups ([#12391](https://github.com/astral-sh/uv/pull/12391))\n-- Use small string for index name type ([#12355](https://github.com/astral-sh/uv/pull/12355))\n-\n-### Bug fixes\n-\n-- Allow virtual packages with `--no-build` ([#12314](https://github.com/astral-sh/uv/pull/12314))\n-- Ignore `--find-links` entries for pinned indexes ([#12396](https://github.com/astral-sh/uv/pull/12396))\n-- Omit wheels from lockfile based on `--exclude-newer` ([#12299](https://github.com/astral-sh/uv/pull/12299))\n-- Retain end-of-line comment position when adding dependency ([#12360](https://github.com/astral-sh/uv/pull/12360))\n-- Omit fragment when querying for wheels in Simple HTML API ([#12384](https://github.com/astral-sh/uv/pull/12384))\n-- Error on missing argument in `requirements.txt` ([#12354](https://github.com/astral-sh/uv/pull/12354))\n-- Support modules with different casing in build backend ([#12240](https://github.com/astral-sh/uv/pull/12240))\n-- Add authentication policy support for `pip` commands ([#12470](https://github.com/astral-sh/uv/pull/12470))\n-\n-## 0.6.9\n-\n-### Enhancements\n-\n-- Use `keyring --mode creds` when `authenticate = \"always\"` ([#12316](https://github.com/astral-sh/uv/pull/12316))\n-- Fail with specific error message when no password is present and `authenticate = \"always\"` ([#12313](https://github.com/astral-sh/uv/pull/12313))\n-\n-### Bug fixes\n-\n-- Add boolish value parser for `UV_MANAGED_PYTHON` flags ([#12345](https://github.com/astral-sh/uv/pull/12345))\n-- Make deserialization non-fatal when assessing source tree revisions ([#12319](https://github.com/astral-sh/uv/pull/12319))\n-- Use resolver-returned wheel over alternate cached wheel ([#12301](https://github.com/astral-sh/uv/pull/12301))\n-\n-### Documentation\n-\n-- Add experimental `--torch-backend` to the PyTorch guide ([#12317](https://github.com/astral-sh/uv/pull/12317))\n-- Fix `#keyring-provider` references in alternative index docs ([#12315](https://github.com/astral-sh/uv/pull/12315))\n-- Fix `--directory` path in examples ([#12165](https://github.com/astral-sh/uv/pull/12165))\n-\n-### Preview changes\n-\n-- Automatically infer the PyTorch index via `--torch-backend=auto` ([#12070](https://github.com/astral-sh/uv/pull/12070))\n-\n-## 0.6.8\n-\n-### Enhancements\n-\n-- Add support for enabling all groups by default with `default-groups = \"all\"` ([#12289](https://github.com/astral-sh/uv/pull/12289))\n-- Add simpler `--managed-python` and `--no-managed-python` flags for toggling Python preferences ([#12246](https://github.com/astral-sh/uv/pull/12246))\n-\n-### Performance\n-\n-- Avoid allocations for default cache keys ([#12063](https://github.com/astral-sh/uv/pull/12063))\n-\n-### Bug fixes\n-\n-- Allow local version mismatches when validating lockfile ([#12285](https://github.com/astral-sh/uv/pull/12285))\n-- Allow owned string when deserializing `requires-python` ([#12278](https://github.com/astral-sh/uv/pull/12278))\n-- Make cache errors non-fatal in `Planner::build` ([#12281](https://github.com/astral-sh/uv/pull/12281))\n-\n-## 0.6.7\n-\n-### Python\n-\n-- Add CPython 3.14.0a6\n-- Fix regression where extension modules would use wrong `CXX` compiler on Linux\n-- Enable FTS3 enhanced query syntax for SQLite\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250317) for more details.\n-\n-### Enhancements\n-\n-- Add support for `-c` constraints in `uv add` ([#12209](https://github.com/astral-sh/uv/pull/12209))\n-- Add support for `--global` default version in `uv python pin` ([#12115](https://github.com/astral-sh/uv/pull/12115))\n-- Always reinstall local source trees passed to `uv pip install` ([#12176](https://github.com/astral-sh/uv/pull/12176))\n-- Render token claims on publish permission error ([#12135](https://github.com/astral-sh/uv/pull/12135))\n-- Add pip-compatible `--group` flag to `uv pip install` and `uv pip compile` ([#11686](https://github.com/astral-sh/uv/pull/11686))\n-\n-### Preview features\n-\n-- Avoid creating duplicate directory entries in built wheels ([#12206](https://github.com/astral-sh/uv/pull/12206))\n-- Allow overriding module names for editable builds ([#12137](https://github.com/astral-sh/uv/pull/12137))\n-\n-### Performance\n-\n-- Avoid replicating core-metadata field on `File` struct ([#12159](https://github.com/astral-sh/uv/pull/12159))\n-\n-### Bug fixes\n-\n-- Add `src` to default cache keys ([#12062](https://github.com/astral-sh/uv/pull/12062))\n-- Discard insufficient fork markers ([#10682](https://github.com/astral-sh/uv/pull/10682))\n-- Ensure `python pin --global` creates parent directories if missing ([#12180](https://github.com/astral-sh/uv/pull/12180))\n-- Fix GraalPy abi tag parsing and discovery ([#12154](https://github.com/astral-sh/uv/pull/12154))\n-- Remove extraneous script packages in `uv sync --script` ([#12158](https://github.com/astral-sh/uv/pull/12158))\n-- Remove redundant `activate.bat` output ([#12160](https://github.com/astral-sh/uv/pull/12160))\n-- Avoid subsequent index hint when no versions are available on the first index ([#9332](https://github.com/astral-sh/uv/pull/9332))\n-- Error on lockfiles with incoherent wheel versions ([#12235](https://github.com/astral-sh/uv/pull/12235))\n-\n-### Rust API\n-\n-- Update `BaseClientBuild` to accept custom proxies ([#12232](https://github.com/astral-sh/uv/pull/12232))\n-\n-### Documentation\n-\n-- Make testpypi index explicit in example snippet ([#12148](https://github.com/astral-sh/uv/pull/12148))\n-- Reverse and format the archived changelogs ([#12099](https://github.com/astral-sh/uv/pull/12099))\n-- Use consistent commas around i.e. and e.g. ([#12157](https://github.com/astral-sh/uv/pull/12157))\n-- Fix typos in MRE docs ([#12198](https://github.com/astral-sh/uv/pull/12198))\n-- Fix double space typo ([#12171](https://github.com/astral-sh/uv/pull/12171))\n-\n-## 0.6.6\n-\n-### Python\n-\n-- Add support for dynamic musl Python distributions on x86-64 Linux ([#12121](https://github.com/astral-sh/uv/pull/12121))\n-- Allow the experimental JIT to be enabled at runtime on Python 3.13 and 3.14 on Linux\n-- Upgrade the build toolchain to LLVM 20, improving performance\n-\n-See the [`python-build-standalone` release notes](https://github.com/astral-sh/python-build-standalone/releases/tag/20250311) for more details.\n-\n-### Enhancements\n-\n-- Add `--marker` flag to `uv add` ([#12012](https://github.com/astral-sh/uv/pull/12012))\n-- Allow overriding module name for uv build backend ([#11884](https://github.com/astral-sh/uv/pull/11884))\n-- Sync latest Python releases ([#12120](https://github.com/astral-sh/uv/pull/12120))\n-- Use 'Upload' instead of 'Download' in publish reporter ([#12029](https://github.com/astral-sh/uv/pull/12029))\n-- Add `[index].authenticate` allowing authentication to be required on an index ([#11896](https://github.com/astral-sh/uv/pull/11896))\n-- Add support for Windows legacy scripts in `uv tool run` ([#12079](https://github.com/astral-sh/uv/pull/12079))\n-- Propagate conflicting dependency groups when using `include-group` ([#12005](https://github.com/astral-sh/uv/pull/12005))\n-- Show ambiguous requirements when `uv add` failed ([#12106](https://github.com/astral-sh/uv/pull/12106))\n-\n-### Performance\n-\n-- Cache workspace discovery ([#12096](https://github.com/astral-sh/uv/pull/12096))\n-- Insert dependencies into fork state prior to fetching metadata ([#12057](https://github.com/astral-sh/uv/pull/12057))\n-- Remove some allocations from `uv-auth` ([#12077](https://github.com/astral-sh/uv/pull/12077))\n-\n-### Bug fixes\n-\n-- Avoid considering `PATH` updated when the `export` is commented in the shellrc ([#12043](https://github.com/astral-sh/uv/pull/12043))\n-- Fix `uv publish` retry on network failures ([#12041](https://github.com/astral-sh/uv/pull/12041))\n-- Use a sized stream in `uv publish` to comply with WSGI PyPI server constraints ([#12111](https://github.com/astral-sh/uv/pull/12111))\n-- Fix `uv python install --reinstall` when the version was not previously installed ([#12124](https://github.com/astral-sh/uv/pull/12124))\n-\n-### Preview features\n-\n-- Fix `uv_build` invocation ([#12058](https://github.com/astral-sh/uv/pull/12058))\n-\n-### Documentation\n-\n-- Quote versions string in `python-versions.md` ([#12112](https://github.com/astral-sh/uv/pull/12112))\n-- Fix tool concept page headings ([#12053](https://github.com/astral-sh/uv/pull/12053))\n-- Update the `[index].authenticate` docs ([#12102](https://github.com/astral-sh/uv/pull/12102))\n-- Update versioning policy ([#11666](https://github.com/astral-sh/uv/pull/11666))\n-\n-## 0.6.5\n-\n-### Enhancements\n-\n-- Allow `--constraints` and `--overrides` in `uvx` ([#10207](https://github.com/astral-sh/uv/pull/10207))\n-- Allow overrides in `satisfies` check for `uv tool run` ([#11994](https://github.com/astral-sh/uv/pull/11994))\n-- Allow users to set `package = true` on `tool.uv.sources` ([#12014](https://github.com/astral-sh/uv/pull/12014))\n-- Add support for Windows legacy scripts via `uv run` ([#11888](https://github.com/astral-sh/uv/pull/11888))\n-- Return error when running uvx with a `.py` script ([#11623](https://github.com/astral-sh/uv/pull/11623))\n-- Warn user on use of `uvx run` ([#11992](https://github.com/astral-sh/uv/pull/11992))\n-\n-### Configuration\n-\n-- Add `NO_BUILD` and `NO_BUILD_PACKAGE` environment variables ([#11968](https://github.com/astral-sh/uv/pull/11968))\n-\n-### Performance\n-\n-- Allow overrides in all satisfies checks ([#11995](https://github.com/astral-sh/uv/pull/11995))\n-- Respect markers on constraints when validating current environment ([#11976](https://github.com/astral-sh/uv/pull/11976))\n-\n-### Bug fixes\n-\n-- Compare major-minor specifiers when filtering interpreters ([#11952](https://github.com/astral-sh/uv/pull/11952))\n-- Fix system site packages detection default ([#11956](https://github.com/astral-sh/uv/pull/11956))\n-- Invalidate lockfile when empty dependency groups are added or removed ([#12010](https://github.com/astral-sh/uv/pull/12010))\n-- Remove prepended sys.path ([#11954](https://github.com/astral-sh/uv/pull/11954))\n-- Fix PyPy Python version label ([#11965](https://github.com/astral-sh/uv/pull/11965))\n-- Fix error message suggesting `--user` instead of `--username` ([#11947](https://github.com/astral-sh/uv/pull/11947))\n+### Breaking changes\n \n-### Preview\n+- **Update `uv version` to be an interface for project version reads and edits ([#12349](https://github.com/astral-sh/uv/pull/12349))**\n \n-- Move the uv build backend into a separate, minimal `uv_build` package ([#11446](https://github.com/astral-sh/uv/pull/11446))\n+  Previously, `uv version` displayed uv's version. Now, `uv version` is used for viewing or updating project versions. This interface was [heavily requested](https://github.com/astral-sh/uv/issues/6298), and after much consideration we decided that transitioning the top-level command was the best option.\n \n-## 0.6.4\n+  Here's a brief example:\n \n-### Enhancements\n+  ```console\n+  $ uv init example\n+  Initialized project `example` at `./example`\n+  $ cd example\n+  $ uv version\n+  example 0.1.0\n+  $ uv version --bump major\n+  example 0.1.0 => 1.0.0\n+  $ uv version --short\n+  1.0.0\n+  ```\n \n-- Upgrade pypy3.10 to v7.3.19 ([#11814](https://github.com/astral-sh/uv/pull/11814))\n-- Allow configuring log verbosity from the CLI (i.e., `-vvv`) ([#11758](https://github.com/astral-sh/uv/pull/11758))\n-- Warn when duplicate index names found in single file ([#11824](https://github.com/astral-sh/uv/pull/11824))\n+  If used outside of a project, uv will fallback to showing its own version still:\n \n-### Bug fixes\n+  ```console\n+  $ uv version\n+  warning: failed to read project: No `pyproject.toml` found in current directory or any parent directory\n+    running `uv self version` for compatibility with old `uv version` command.\n+    this fallback will be removed soon, pass `--preview` to make this an error.\n \n-- Always store registry index on resolution packages ([#11815](https://github.com/astral-sh/uv/pull/11815))\n-- Avoid error on relative paths in `uv tool uninstall` ([#11889](https://github.com/astral-sh/uv/pull/11889))\n-- Avoid silently dropping errors in directory enumeration ([#11890](https://github.com/astral-sh/uv/pull/11890))\n-- Disable interactive git terminal prompts during fetches ([#11744](https://github.com/astral-sh/uv/pull/11744))\n-- Discover Windows registry (PEP 514) Python versions across 32/64-bit ([#11801](https://github.com/astral-sh/uv/pull/11801))\n-- Don't panic on Ctrl-C in confirm prompt ([#11706](https://github.com/astral-sh/uv/pull/11706))\n-- Fix non-directory in workspace on Windows ([#11833](https://github.com/astral-sh/uv/pull/11833))\n-- Make interpreter caching robust to OS upgrades ([#11875](https://github.com/astral-sh/uv/pull/11875))\n-- Respect `include-system-site-packages` in layered environments ([#11873](https://github.com/astral-sh/uv/pull/11873))\n-- Suggest `uv tool update-shell` in PowerShell ([#11846](https://github.com/astral-sh/uv/pull/11846))\n-- Update code page to `65001` before setting environment variables in virtual environments ([#11831](https://github.com/astral-sh/uv/pull/11831))\n-- Use hash instead of full wheel name in wheels bucket ([#11738](https://github.com/astral-sh/uv/pull/11738))\n-- Fix version string truncation while generating cache_key ([#11830](https://github.com/astral-sh/uv/pull/11830))\n-- Explicitly handle ctrl-c in confirmation prompt instead of using a signal handler ([#11897](https://github.com/astral-sh/uv/pull/11897))\n-\n-### Performance\n-\n-- Avoid cloning to string when creating cache path ([#11772](https://github.com/astral-sh/uv/pull/11772))\n-- Avoid redundant clones in version containment check ([#11767](https://github.com/astral-sh/uv/pull/11767))\n-- Avoid string allocation when enumerating tool names ([#11910](https://github.com/astral-sh/uv/pull/11910))\n-- Avoid using owned `String` for package name constructors ([#11768](https://github.com/astral-sh/uv/pull/11768))\n-- Avoid using owned `String` in deserializers ([#11764](https://github.com/astral-sh/uv/pull/11764))\n-- Migrate to `zlib-rs` (again) ([#11894](https://github.com/astral-sh/uv/pull/11894))\n-- Remove unnecessary clones when adding package names ([#11771](https://github.com/astral-sh/uv/pull/11771))\n-- Skip unquote allocation for non-quoted strings ([#11813](https://github.com/astral-sh/uv/pull/11813))\n-- Use `SmallString` for filenames and URLs ([#11765](https://github.com/astral-sh/uv/pull/11765))\n-- Use a Boxed slice for version specifiers ([#11766](https://github.com/astral-sh/uv/pull/11766))\n-- Use matches over contains for extra value parsing ([#11770](https://github.com/astral-sh/uv/pull/11770))\n+  uv 0.7.0 (4433f41c9 2025-04-29)\n+  ```\n \n-### Documentation\n+  As described in the warning, `--preview` can be used to error instead:\n \n-- Avoid fallback to PyPI in mixed CPU/CUDA example ([#11115](https://github.com/astral-sh/uv/pull/11115))\n-- Docs: Clarify that setting cache-keys overrides defaults ([#11895](https://github.com/astral-sh/uv/pull/11895))\n-- Document our MSRV policy ([#11898](https://github.com/astral-sh/uv/pull/11898))\n-- Fix reference to macOS cache path ([#11845](https://github.com/astral-sh/uv/pull/11845))\n-- Fix typo in `no_default_groups` documentation and changelog ([#11928](https://github.com/astral-sh/uv/pull/11928))\n-- Update the \"Locking and syncing\" page ([#11647](https://github.com/astral-sh/uv/pull/11647))\n-- Update alternative indexes documentation to use new interface ([#10826](https://github.com/astral-sh/uv/pull/10826))\n+  ```console\n+  $ uv version --preview\n+  error: No `pyproject.toml` found in current directory or any parent directory\n+  ```\n \n-## 0.6.3\n+  The previous functionality of `uv version` was moved to `uv self version`.\n \n-### Enhancements\n+- **Avoid fallback to subsequent indexes on authentication failure ([#12805](https://github.com/astral-sh/uv/pull/12805))**\n \n-- Allow quotes around command-line options in `requirement.txt files` ([#11644](https://github.com/astral-sh/uv/pull/11644))\n-- Initialize PEP 723 script in `uv lock --script` ([#11717](https://github.com/astral-sh/uv/pull/11717))\n+  When using the `first-index` strategy (the default), uv will stop searching indexes for a package once it is found on a single index. Previously, uv considered a package as \"missing\" from an index during authentication failures, such as an HTTP 401 or HTTP 403 (normally, missing packages are represented by an HTTP 404). This behavior was motivated by unusual responses from some package indexes, but reduces the safety of uv's index strategy when authentication fails. Now, uv will consider an authentication failure as a stop-point when searching for a package across indexes. The `index.ignore-error-codes` option can be used to recover the existing behavior, e.g.:\n \n-### Configuration\n+  ```toml\n+  [[tool.uv.index]]\n+  name = \"pytorch\"\n+  url = \"https://download.pytorch.org/whl/cpu\"\n+  ignore-error-codes = [401, 403]\n+  ```\n \n-- Accept multiple `.env` files in `UV_ENV_FILE` ([#11665](https://github.com/astral-sh/uv/pull/11665))\n+  Since `pytorch`'s indexes always return a HTTP 403 for missing packages, uv special-cases indexes on the `pytorch.org` domain to ignore that error code by default.\n \n-### Performance\n+- **Require the command in `uvx <name>` to be available in the Python environment ([#11603](https://github.com/astral-sh/uv/pull/11603))**\n \n-- Reduce overhead in converting resolutions ([#11660](https://github.com/astral-sh/uv/pull/11660))\n-- Use `SmallString` on `Hashes` ([#11756](https://github.com/astral-sh/uv/pull/11756))\n-- Use a `Box` for `Yanked` on `File` ([#11755](https://github.com/astral-sh/uv/pull/11755))\n-- Use a `SmallString` for the `Yanked` enum ([#11715](https://github.com/astral-sh/uv/pull/11715))\n-- Use boxed slices for hash vector ([#11714](https://github.com/astral-sh/uv/pull/11714))\n-- Use install concurrency for bytecode compilation too ([#11615](https://github.com/astral-sh/uv/pull/11615))\n+  Previously, `uvx` would execute attempt to execute a command even if it was not provided by a Python package. For example, if we presume `foo` is an empty Python package which provides no command, `uvx foo` would invoke the `foo` command on the `PATH` (if present). Now, uv will error early if the `foo` executable is not provided by the requested Python package. This check is not enforced when `--from` is used, so patterns like `uvx --from foo bash -c \"...\"` are still valid. uv also still allows `uvx foo` where the `foo` executable is provided by a dependency of `foo` instead of `foo` itself, as this is fairly common for packages which depend on a dedicated package for their command-line interface.\n \n-### Bug fixes\n+- **Use index URL instead of package URL for keyring credential lookups ([#12651](https://github.com/astral-sh/uv/pull/12651))**\n \n-- Avoid installing duplicate dependencies across conflicting groups ([#11653](https://github.com/astral-sh/uv/pull/11653))\n-- Check subdirectory existence after cache heal ([#11719](https://github.com/astral-sh/uv/pull/11719))\n-- Include uppercase platforms for Windows wheels ([#11681](https://github.com/astral-sh/uv/pull/11681))\n-- Respect existing PEP 723 script settings in `uv add` ([#11716](https://github.com/astral-sh/uv/pull/11716))\n-- Reuse refined interpreter to create tool environment ([#11680](https://github.com/astral-sh/uv/pull/11680))\n-- Skip removed directories during bytecode compilation ([#11633](https://github.com/astral-sh/uv/pull/11633))\n-- Support conflict markers in `uv export` ([#11643](https://github.com/astral-sh/uv/pull/11643))\n-- Treat lockfile as outdated if (empty) extras are added ([#11702](https://github.com/astral-sh/uv/pull/11702))\n-- Display path separators as backslashes on Windows ([#11667](https://github.com/astral-sh/uv/pull/11667))\n-- Display the built file name instead of the canonicalized name in `uv build` ([#11593](https://github.com/astral-sh/uv/pull/11593))\n-- Fix message when there are no buildable packages ([#11722](https://github.com/astral-sh/uv/pull/11722))\n-- Re-allow HTTP schemes for Git dependencies ([#11687](https://github.com/astral-sh/uv/pull/11687))\n+  When determining credentials for querying a package URL, uv previously sent the full URL to the `keyring` command. However, some keyring plugins only work if given the _index URL_ (which is usually a parent of the package URL). Now, uv requests credentials for the index URL instead. This behavior matches `pip`.",
        "comment_created_at": "2025-04-29T19:57:11+00:00",
        "comment_author": "charliermarsh",
        "comment_body": "```suggestion\r\n  When determining credentials for querying a package URL, uv previously sent the full URL to the `keyring` command. However, some keyring plugins expect to receive the _index URL_ (which is usually a parent of the package URL). Now, uv requests credentials for the index URL instead. This behavior matches `pip`.\r\n```",
        "pr_file_module": null
      }
    ]
  }
]