[
  {
    "discussion_id": "1997966603",
    "pr_number": 19650,
    "pr_file": "docs/config/server-options.md",
    "created_at": "2025-03-17T05:43:33+00:00",
    "commented_code": "- **Type:** `https.ServerOptions`\n \n-Enable TLS + HTTP/2. Note this downgrades to TLS only when the [`server.proxy` option](#server-proxy) is also used.\n+Enable TLS + HTTP/2. The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n \n-The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n+Setting the sufficient value for TLS would also enable HTTP/2, unless the [`server.proxy` option](#server-proxy) is also used.",
    "repo_full_name": "vitejs/vite",
    "discussion_comments": [
      {
        "comment_id": "1997966603",
        "repo_full_name": "vitejs/vite",
        "pr_number": 19650,
        "pr_file": "docs/config/server-options.md",
        "discussion_id": "1997966603",
        "commented_code": "@@ -90,9 +90,9 @@ Set to `true` to exit if port is already in use, instead of automatically trying\n \n - **Type:** `https.ServerOptions`\n \n-Enable TLS + HTTP/2. Note this downgrades to TLS only when the [`server.proxy` option](#server-proxy) is also used.\n+Enable TLS + HTTP/2. The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n \n-The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n+Setting the sufficient value for TLS would also enable HTTP/2, unless the [`server.proxy` option](#server-proxy) is also used.",
        "comment_created_at": "2025-03-17T05:43:33+00:00",
        "comment_author": "bluwy",
        "comment_body": "Is there more information of what are the sufficient values for TLS? Does this also mean that it's possible to only enable TLS without HTTP/2 if the values are not sufficiently provided? (regardless of proxy)",
        "pr_file_module": null
      },
      {
        "comment_id": "1997978131",
        "repo_full_name": "vitejs/vite",
        "pr_number": 19650,
        "pr_file": "docs/config/server-options.md",
        "discussion_id": "1997966603",
        "commented_code": "@@ -90,9 +90,9 @@ Set to `true` to exit if port is already in use, instead of automatically trying\n \n - **Type:** `https.ServerOptions`\n \n-Enable TLS + HTTP/2. Note this downgrades to TLS only when the [`server.proxy` option](#server-proxy) is also used.\n+Enable TLS + HTTP/2. The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n \n-The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n+Setting the sufficient value for TLS would also enable HTTP/2, unless the [`server.proxy` option](#server-proxy) is also used.",
        "comment_created_at": "2025-03-17T05:58:02+00:00",
        "comment_author": "sapphi-red",
        "comment_body": "> Is there more information of what are the sufficient values for TLS?\r\n\r\nThe only thing I found on the Node's document is this line.\r\n\r\n> [For servers, the identity options (`pfx` or `key`/`cert`) are usually required.](https://nodejs.org/api/http2.html#http2createserveroptions-onrequesthandler:~:text=For%20servers%2C%20the%20identity%20options%20(pfx%20or%20key/cert)%20are%20usually%20required.)\r\n\r\n> Does this also mean that it's possible to only enable TLS without HTTP/2 if the values are not sufficiently provided? (regardless of proxy)\r\n\r\nNo, Vite always tries to start a HTTP/2 server with TLS enabled if `server.https` is an object if `server.proxy` is not passed. If the options are not sufficiently provided, Node.js starts the server (probably) without any cert and reject any connections.\r\n",
        "pr_file_module": null
      },
      {
        "comment_id": "1998031666",
        "repo_full_name": "vitejs/vite",
        "pr_number": 19650,
        "pr_file": "docs/config/server-options.md",
        "discussion_id": "1997966603",
        "commented_code": "@@ -90,9 +90,9 @@ Set to `true` to exit if port is already in use, instead of automatically trying\n \n - **Type:** `https.ServerOptions`\n \n-Enable TLS + HTTP/2. Note this downgrades to TLS only when the [`server.proxy` option](#server-proxy) is also used.\n+Enable TLS + HTTP/2. The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n \n-The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n+Setting the sufficient value for TLS would also enable HTTP/2, unless the [`server.proxy` option](#server-proxy) is also used.",
        "comment_created_at": "2025-03-17T06:36:04+00:00",
        "comment_author": "bluwy",
        "comment_body": "Hmm then I think we should document or link to those pfx/key/cert options if we want to describe what the sufficient values are. Otherwise I think the previous wording that only mentions about proxy disabling http/2 was also fine.\r\n\r\nThe \"sufficient\" here is a bit confusing to me as I'm not sure where to look for about making it sufficient.",
        "pr_file_module": null
      },
      {
        "comment_id": "1998064805",
        "repo_full_name": "vitejs/vite",
        "pr_number": 19650,
        "pr_file": "docs/config/server-options.md",
        "discussion_id": "1997966603",
        "commented_code": "@@ -90,9 +90,9 @@ Set to `true` to exit if port is already in use, instead of automatically trying\n \n - **Type:** `https.ServerOptions`\n \n-Enable TLS + HTTP/2. Note this downgrades to TLS only when the [`server.proxy` option](#server-proxy) is also used.\n+Enable TLS + HTTP/2. The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n \n-The value is an [options object](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener) passed to `https.createServer()`.\n+Setting the sufficient value for TLS would also enable HTTP/2, unless the [`server.proxy` option](#server-proxy) is also used.",
        "comment_created_at": "2025-03-17T07:04:32+00:00",
        "comment_author": "sapphi-red",
        "comment_body": "Makes sense. I'll change to the previous one.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1923272817",
    "pr_number": 19250,
    "pr_file": "docs/config/server-options.md",
    "created_at": "2025-01-21T08:30:00+00:00",
    "commented_code": "## server.cors\n \n - **Type:** `boolean | CorsOptions`\n-- **Default:** `false`\n+- **Default:** `{ origin: /^https?:\\/\\/(?:(?:[^:]+\\.)?localhost|127\\.0\\.0\\.1|\\[::1\\])(?::\\d+)?$/ }` (allows localhost, `127.0.0.1` and `::1`)",
    "repo_full_name": "vitejs/vite",
    "discussion_comments": [
      {
        "comment_id": "1923272817",
        "repo_full_name": "vitejs/vite",
        "pr_number": 19250,
        "pr_file": "docs/config/server-options.md",
        "discussion_id": "1923272817",
        "commented_code": "@@ -161,7 +161,7 @@ export default defineConfig({\n ## server.cors\n \n - **Type:** `boolean | CorsOptions`\n-- **Default:** `false`\n+- **Default:** `{ origin: /^https?:\\/\\/(?:(?:[^:]+\\.)?localhost|127\\.0\\.0\\.1|\\[::1\\])(?::\\d+)?$/ }` (allows localhost, `127.0.0.1` and `::1`)",
        "comment_created_at": "2025-01-21T08:30:00+00:00",
        "comment_author": "patak-dev",
        "comment_body": "```suggestion\r\n- **Default:** `{ origin: /^https?:\\/\\/(?:(?:[^:]+\\.)?(?:localhost|test)|127\\.0\\.0\\.1|\\[::1\\])(?::\\d+)?$/ }` (allows localhost, `127.0.0.1` and `::1`)\r\n```",
        "pr_file_module": null
      }
    ]
  }
]