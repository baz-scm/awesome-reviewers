[
  {
    "discussion_id": "1751361602",
    "pr_number": 18067,
    "pr_file": "packages/vite/src/node/plugins/html.ts",
    "created_at": "2024-09-10T06:52:32+00:00",
    "commented_code": "if (typeof attrs[key] === 'boolean') {\n       res += attrs[key] ? ` ${key}` : ``\n     } else {\n-      res += ` ${key}=${JSON.stringify(attrs[key])}`\n+      res += ` ${key}=${JSON.stringify(escapeHtml(attrs[key]))}`",
    "repo_full_name": "vitejs/vite",
    "discussion_comments": [
      {
        "comment_id": "1751361602",
        "repo_full_name": "vitejs/vite",
        "pr_number": 18067,
        "pr_file": "packages/vite/src/node/plugins/html.ts",
        "discussion_id": "1751361602",
        "commented_code": "@@ -1510,7 +1511,7 @@ function serializeAttrs(attrs: HtmlTagDescriptor['attrs']): string {\n     if (typeof attrs[key] === 'boolean') {\n       res += attrs[key] ? ` ${key}` : ``\n     } else {\n-      res += ` ${key}=${JSON.stringify(attrs[key])}`\n+      res += ` ${key}=${JSON.stringify(escapeHtml(attrs[key]))}`",
        "comment_created_at": "2024-09-10T06:52:32+00:00",
        "comment_author": "sapphi-red",
        "comment_body": "Checking [the example](https://github.com/component/escape-html#:~:text=console.dir(%27%3Cinput%20name%3D%22full_name%22%20value%3D%22%27%20%2B%20escapeHtml(fullName)%20%2B%20%27%22%3E%27)), I think it should be\r\n```suggestion\r\n      res += ` ${key}=\"${escapeHtml(attrs[key])}\"`\r\n```\r\notherwise, `JSON.stringify` will do unnecessary escapes.",
        "pr_file_module": null
      }
    ]
  }
]