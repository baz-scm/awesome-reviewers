[
  {
    "discussion_id": "1945913523",
    "pr_number": 19378,
    "pr_file": "docs/config/server-options.md",
    "created_at": "2025-02-07T03:42:50+00:00",
    "commented_code": "`localhost` and domains under `.localhost` and all IP addresses are allowed by default.\n When using HTTPS, this check is skipped.\n \n-If a string starts with `.`, it will allow that hostname without the `.` and all subdomains under the hostname. For example, `.example.com` will allow `example.com`, `foo.example.com`, and `foo.bar.example.com`.\n+If a string starts with `.`, it will allow that hostname without the `.` and all subdomains under the hostname. For example, `.example.com` will allow `example.com`, `foo.example.com`, and `foo.bar.example.com`. If set to `true`, the server is allowed to respond to requests for any hosts.\n \n-If set to `true`, the server is allowed to respond to requests for any hosts.\n-This is not recommended as it will be vulnerable to DNS rebinding attacks.\n+::: details What hosts are safe to be added?\n+\n+Hosts that you have control over which IP addresses they resolve to are safe to add to the list of allowed hosts.\n+\n+For example, if you own a domain `vite.dev`, you can add `vite.dev` and `.vite.dev` to the list. If you don't own that domain and you cannot trust the owner of that domain, you should not add it.\n+\n+Especially, you should never add Top-Level Domains like `.com` to the list. This is because anyone can purchase a domain like `example.com` and control the IP address it resolves to.\n+\n+:::\n+\n+::: danger\n+\n+Setting this to `true` virtually grants any websites to send requests to your dev server by DNS rebinding attacks, allowing them to download your source code and content. We recommend always using an explicit list of allowed hosts. See [GHSA-vg6x-rcgg-rjx6](https://github.com/vitejs/vite/security/advisories/GHSA-vg6x-rcgg-rjx6) for more details.\n+\n+:::",
    "repo_full_name": "vitejs/vite",
    "discussion_comments": [
      {
        "comment_id": "1945913523",
        "repo_full_name": "vitejs/vite",
        "pr_number": 19378,
        "pr_file": "docs/config/server-options.md",
        "discussion_id": "1945913523",
        "commented_code": "@@ -51,10 +51,23 @@ The hostnames that Vite is allowed to respond to.\n `localhost` and domains under `.localhost` and all IP addresses are allowed by default.\n When using HTTPS, this check is skipped.\n \n-If a string starts with `.`, it will allow that hostname without the `.` and all subdomains under the hostname. For example, `.example.com` will allow `example.com`, `foo.example.com`, and `foo.bar.example.com`.\n+If a string starts with `.`, it will allow that hostname without the `.` and all subdomains under the hostname. For example, `.example.com` will allow `example.com`, `foo.example.com`, and `foo.bar.example.com`. If set to `true`, the server is allowed to respond to requests for any hosts.\n \n-If set to `true`, the server is allowed to respond to requests for any hosts.\n-This is not recommended as it will be vulnerable to DNS rebinding attacks.\n+::: details What hosts are safe to be added?\n+\n+Hosts that you have control over which IP addresses they resolve to are safe to add to the list of allowed hosts.\n+\n+For example, if you own a domain `vite.dev`, you can add `vite.dev` and `.vite.dev` to the list. If you don't own that domain and you cannot trust the owner of that domain, you should not add it.\n+\n+Especially, you should never add Top-Level Domains like `.com` to the list. This is because anyone can purchase a domain like `example.com` and control the IP address it resolves to.\n+\n+:::\n+\n+::: danger\n+\n+Setting this to `true` virtually grants any websites to send requests to your dev server by DNS rebinding attacks, allowing them to download your source code and content. We recommend always using an explicit list of allowed hosts. See [GHSA-vg6x-rcgg-rjx6](https://github.com/vitejs/vite/security/advisories/GHSA-vg6x-rcgg-rjx6) for more details.\n+\n+:::",
        "comment_created_at": "2025-02-07T03:42:50+00:00",
        "comment_author": "sapphi-red",
        "comment_body": "Added a similar warning to `server.cors` for `server.allowedHosts` as well. Technically, it is safe to set `server.allowedHosts: true` if the dev server runs behind a reverse proxy (the reverse proxy needs to check the host in that case though). But I didn't mention it here as I guess that usage isn't common and setting `allowedHosts` doesn't hurt.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1946059268",
    "pr_number": 19378,
    "pr_file": "docs/config/server-options.md",
    "created_at": "2025-02-07T07:17:51+00:00",
    "commented_code": "`localhost` and domains under `.localhost` and all IP addresses are allowed by default.\n When using HTTPS, this check is skipped.\n \n-If a string starts with `.`, it will allow that hostname without the `.` and all subdomains under the hostname. For example, `.example.com` will allow `example.com`, `foo.example.com`, and `foo.bar.example.com`.\n+If a string starts with `.`, it will allow that hostname without the `.` and all subdomains under the hostname. For example, `.example.com` will allow `example.com`, `foo.example.com`, and `foo.bar.example.com`. If set to `true`, the server is allowed to respond to requests for any hosts.\n \n-If set to `true`, the server is allowed to respond to requests for any hosts.\n-This is not recommended as it will be vulnerable to DNS rebinding attacks.\n+::: details What hosts are safe to be added?\n+\n+Hosts that you have control over which IP addresses they resolve to are safe to add to the list of allowed hosts.\n+\n+For example, if you own a domain `vite.dev`, you can add `vite.dev` and `.vite.dev` to the list. If you don't own that domain and you cannot trust the owner of that domain, you should not add it.\n+\n+Especially, you should never add Top-Level Domains like `.com` to the list. This is because anyone can purchase a domain like `example.com` and control the IP address it resolves to.\n+\n+:::\n+\n+::: danger\n+\n+Setting this to `true` virtually grants any websites to send requests to your dev server by DNS rebinding attacks, allowing them to download your source code and content. We recommend always using an explicit list of allowed hosts. See [GHSA-vg6x-rcgg-rjx6](https://github.com/vitejs/vite/security/advisories/GHSA-vg6x-rcgg-rjx6) for more details.",
    "repo_full_name": "vitejs/vite",
    "discussion_comments": [
      {
        "comment_id": "1946059268",
        "repo_full_name": "vitejs/vite",
        "pr_number": 19378,
        "pr_file": "docs/config/server-options.md",
        "discussion_id": "1946059268",
        "commented_code": "@@ -51,10 +51,23 @@ The hostnames that Vite is allowed to respond to.\n `localhost` and domains under `.localhost` and all IP addresses are allowed by default.\n When using HTTPS, this check is skipped.\n \n-If a string starts with `.`, it will allow that hostname without the `.` and all subdomains under the hostname. For example, `.example.com` will allow `example.com`, `foo.example.com`, and `foo.bar.example.com`.\n+If a string starts with `.`, it will allow that hostname without the `.` and all subdomains under the hostname. For example, `.example.com` will allow `example.com`, `foo.example.com`, and `foo.bar.example.com`. If set to `true`, the server is allowed to respond to requests for any hosts.\n \n-If set to `true`, the server is allowed to respond to requests for any hosts.\n-This is not recommended as it will be vulnerable to DNS rebinding attacks.\n+::: details What hosts are safe to be added?\n+\n+Hosts that you have control over which IP addresses they resolve to are safe to add to the list of allowed hosts.\n+\n+For example, if you own a domain `vite.dev`, you can add `vite.dev` and `.vite.dev` to the list. If you don't own that domain and you cannot trust the owner of that domain, you should not add it.\n+\n+Especially, you should never add Top-Level Domains like `.com` to the list. This is because anyone can purchase a domain like `example.com` and control the IP address it resolves to.\n+\n+:::\n+\n+::: danger\n+\n+Setting this to `true` virtually grants any websites to send requests to your dev server by DNS rebinding attacks, allowing them to download your source code and content. We recommend always using an explicit list of allowed hosts. See [GHSA-vg6x-rcgg-rjx6](https://github.com/vitejs/vite/security/advisories/GHSA-vg6x-rcgg-rjx6) for more details.",
        "comment_created_at": "2025-02-07T07:17:51+00:00",
        "comment_author": "patak-dev",
        "comment_body": "```suggestion\r\nSetting `server.allowedHosts` to `true` allows any website to send requests to your dev server through DNS rebinding attacks, allowing them to download your source code and content. We recommend always using an explicit list of allowed hosts. See [GHSA-vg6x-rcgg-rjx6](https://github.com/vitejs/vite/security/advisories/GHSA-vg6x-rcgg-rjx6) for more details.\r\n```",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1946060669",
    "pr_number": 19378,
    "pr_file": "docs/config/server-options.md",
    "created_at": "2025-02-07T07:19:23+00:00",
    "commented_code": "Configure CORS for the dev server. Pass an [options object](https://github.com/expressjs/cors#configuration-options) to fine tune the behavior or `true` to allow any origin.\n \n-:::warning\n+::: danger\n \n-We recommend setting a specific value rather than `true` to avoid exposing the source code to untrusted origins.\n+Setting this to `true` grants any websites to send requests to your dev server, allowing them to download your source code and content. We recommend always using an explicit list of allowed origins.",
    "repo_full_name": "vitejs/vite",
    "discussion_comments": [
      {
        "comment_id": "1946060669",
        "repo_full_name": "vitejs/vite",
        "pr_number": 19378,
        "pr_file": "docs/config/server-options.md",
        "discussion_id": "1946060669",
        "commented_code": "@@ -169,9 +182,9 @@ export default defineConfig({\n \n Configure CORS for the dev server. Pass an [options object](https://github.com/expressjs/cors#configuration-options) to fine tune the behavior or `true` to allow any origin.\n \n-:::warning\n+::: danger\n \n-We recommend setting a specific value rather than `true` to avoid exposing the source code to untrusted origins.\n+Setting this to `true` grants any websites to send requests to your dev server, allowing them to download your source code and content. We recommend always using an explicit list of allowed origins.",
        "comment_created_at": "2025-02-07T07:19:23+00:00",
        "comment_author": "patak-dev",
        "comment_body": "```suggestion\r\nSetting `server.cors` to `true` allows any website to send requests to your dev server and download your source code and content. We recommend always using an explicit list of allowed origins.\r\n```",
        "pr_file_module": null
      }
    ]
  }
]