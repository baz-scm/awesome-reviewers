[
  {
    "discussion_id": "2187446294",
    "pr_number": 20512,
    "pr_file": "vllm/core/block/block_table.py",
    "created_at": "2025-07-05T16:44:50+00:00",
    "commented_code": "if b is not null_block:\n                     self._allocator.free(b)\n                     self._blocks[idx] = null_block\n+            if end_block_idx > 0:\n+                self._blocks[end_block_idx].prev_block = None",
    "repo_full_name": "vllm-project/vllm",
    "discussion_comments": [
      {
        "comment_id": "2189638926",
        "repo_full_name": "vllm-project/vllm",
        "pr_number": 20512,
        "pr_file": "vllm/core/block/block_table.py",
        "discussion_id": "2187446294",
        "commented_code": "@@ -157,6 +157,9 @@ def append_token_ids(self,\n                 if b is not null_block:\n                     self._allocator.free(b)\n                     self._blocks[idx] = null_block\n+            if end_block_idx > 0:\n+                self._blocks[end_block_idx].prev_block = None",
        "comment_created_at": "2025-07-07T10:34:36+00:00",
        "comment_author": "CLFutureX",
        "comment_body": "> ![medium](https://camo.githubusercontent.com/a33c7ba47779a2aabda978d90fc2665dd949d88da87f5ff554e65308de059f02/68747470733a2f2f7777772e677374617469632e636f6d2f636f64657265766965776167656e742f6d656469756d2d7072696f726974792e737667)\r\n> \r\n> Consider adding a comment here to explain why `prev_block` is being set to `None`. This will help future developers understand the purpose of this line, referencing the issue this commit fixes.\r\n\r\nadd",
        "pr_file_module": null
      }
    ]
  }
]