[
  {
    "discussion_id": "2178596037",
    "pr_number": 20330,
    "pr_file": "csrc/cuda_compat.h",
    "created_at": "2025-07-01T21:47:51+00:00",
    "commented_code": "#include <hip/hip_runtime.h>\n #endif\n \n-#ifndef USE_ROCM\n-  #define WARP_SIZE 32\n+#if defined(USE_ROCM) && defined(__GFX9__)\n+  #define WARP_SIZE 64\n #else\n-  #define WARP_SIZE warpSize\n+  #define WARP_SIZE 32\n #endif",
    "repo_full_name": "vllm-project/vllm",
    "discussion_comments": [
      {
        "comment_id": "2178627404",
        "repo_full_name": "vllm-project/vllm",
        "pr_number": 20330,
        "pr_file": "csrc/cuda_compat.h",
        "discussion_id": "2178596037",
        "commented_code": "@@ -4,10 +4,10 @@\n   #include <hip/hip_runtime.h>\n #endif\n \n-#ifndef USE_ROCM\n-  #define WARP_SIZE 32\n+#if defined(USE_ROCM) && defined(__GFX9__)\n+  #define WARP_SIZE 64\n #else\n-  #define WARP_SIZE warpSize\n+  #define WARP_SIZE 32\n #endif",
        "comment_created_at": "2025-07-01T22:17:18+00:00",
        "comment_author": "gshtras",
        "comment_body": "compile time __AMDGCN_WAVEFRONT_SIZE__ being deprecated alongside warpSize is exactly the reason for this PR.",
        "pr_file_module": null
      }
    ]
  }
]