[
  {
    "discussion_id": "2300327968",
    "pr_number": 4566,
    "pr_file": "installer/helm/chart/volcano/templates/root_queue.yaml",
    "created_at": "2025-08-26T09:05:54+00:00",
    "commented_code": "+{{- if .Values.custom.root_queue.capability }}\n+apiVersion: scheduling.volcano.sh/v1beta1\n+kind: Queue\n+metadata:\n+  name: root\n+spec:\n+  capability:",
    "repo_full_name": "volcano-sh/volcano",
    "discussion_comments": [
      {
        "comment_id": "2300327968",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4566,
        "pr_file": "installer/helm/chart/volcano/templates/root_queue.yaml",
        "discussion_id": "2300327968",
        "commented_code": "@@ -0,0 +1,9 @@\n+{{- if .Values.custom.root_queue.capability }}\n+apiVersion: scheduling.volcano.sh/v1beta1\n+kind: Queue\n+metadata:\n+  name: root\n+spec:\n+  capability:",
        "comment_created_at": "2025-08-26T09:05:54+00:00",
        "comment_author": "JesseStutler",
        "comment_body": "We may also allow user to specify `deserved` and `guarantee.resource` when in installation",
        "pr_file_module": null
      },
      {
        "comment_id": "2301274934",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4566,
        "pr_file": "installer/helm/chart/volcano/templates/root_queue.yaml",
        "discussion_id": "2300327968",
        "commented_code": "@@ -0,0 +1,9 @@\n+{{- if .Values.custom.root_queue.capability }}\n+apiVersion: scheduling.volcano.sh/v1beta1\n+kind: Queue\n+metadata:\n+  name: root\n+spec:\n+  capability:",
        "comment_created_at": "2025-08-26T14:55:40+00:00",
        "comment_author": "hajnalmt",
        "comment_body": "At first I added this too, but we update these at the session start:\r\nhttps://github.com/volcano-sh/volcano/blob/master/pkg/scheduler/framework/session.go#L307\r\nDoes it make sense at all to add this to helm if it will be changed later, and be updated at every session start? I feel some possible confusion here, since you set the value from helm, but it's changed in the end.",
        "pr_file_module": null
      },
      {
        "comment_id": "2303366454",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4566,
        "pr_file": "installer/helm/chart/volcano/templates/root_queue.yaml",
        "discussion_id": "2300327968",
        "commented_code": "@@ -0,0 +1,9 @@\n+{{- if .Values.custom.root_queue.capability }}\n+apiVersion: scheduling.volcano.sh/v1beta1\n+kind: Queue\n+metadata:\n+  name: root\n+spec:\n+  capability:",
        "comment_created_at": "2025-08-27T09:16:27+00:00",
        "comment_author": "JesseStutler",
        "comment_body": "OK, ignore me. I think set the capability when installation is enough",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "1824062171",
    "pr_number": 3799,
    "pr_file": "installer/helm/chart/volcano/values.yaml",
    "created_at": "2024-10-31T08:24:32+00:00",
    "commented_code": "leader_elect_enable: false\n   enabled_admissions: \"/jobs/mutate,/jobs/validate,/podgroups/mutate,/pods/validate,/pods/mutate,/queues/mutate,/queues/validate\"\n   colocation_enable: false\n+  feature_gates: DynamicResourceAllocation=true",
    "repo_full_name": "volcano-sh/volcano",
    "discussion_comments": [
      {
        "comment_id": "1824062171",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 3799,
        "pr_file": "installer/helm/chart/volcano/values.yaml",
        "discussion_id": "1824062171",
        "commented_code": "@@ -25,6 +25,7 @@ custom:\n   leader_elect_enable: false\n   enabled_admissions: \"/jobs/mutate,/jobs/validate,/podgroups/mutate,/pods/validate,/pods/mutate,/queues/mutate,/queues/validate\"\n   colocation_enable: false\n+  feature_gates: DynamicResourceAllocation=true",
        "comment_created_at": "2024-10-31T08:24:32+00:00",
        "comment_author": "googs1025",
        "comment_body": "Do we need to enable this feature-gate by default?",
        "pr_file_module": null
      },
      {
        "comment_id": "1824341540",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 3799,
        "pr_file": "installer/helm/chart/volcano/values.yaml",
        "discussion_id": "1824062171",
        "commented_code": "@@ -25,6 +25,7 @@ custom:\n   leader_elect_enable: false\n   enabled_admissions: \"/jobs/mutate,/jobs/validate,/podgroups/mutate,/pods/validate,/pods/mutate,/queues/mutate,/queues/validate\"\n   colocation_enable: false\n+  feature_gates: DynamicResourceAllocation=true",
        "comment_created_at": "2024-10-31T12:07:43+00:00",
        "comment_author": "JesseStutler",
        "comment_body": "What do you think? Do we need to enable it by default? I think that if users need to enable dra plugin, they also need to reconfigure the scheduler plugins configmap to enable it, it also looks like featuregate. If we don't enable this feture-gate, users need to do reconfiguring the scheduler plugins configmap and enabling the feature-gate two steps.",
        "pr_file_module": null
      },
      {
        "comment_id": "1825383503",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 3799,
        "pr_file": "installer/helm/chart/volcano/values.yaml",
        "discussion_id": "1824062171",
        "commented_code": "@@ -25,6 +25,7 @@ custom:\n   leader_elect_enable: false\n   enabled_admissions: \"/jobs/mutate,/jobs/validate,/podgroups/mutate,/pods/validate,/pods/mutate,/queues/mutate,/queues/validate\"\n   colocation_enable: false\n+  feature_gates: DynamicResourceAllocation=true",
        "comment_created_at": "2024-11-01T03:14:46+00:00",
        "comment_author": "JesseStutler",
        "comment_body": "OK we need not to enable this feature-gate by default, I will add some informers in schedulerCache, some users may need to use k8s below v1.31, if there are no APIs like `DeviceClass`, `ResourceClaim`, etc registered, it will cause some errors.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2095494601",
    "pr_number": 4152,
    "pr_file": "installer/helm/chart/volcano/values.yaml",
    "created_at": "2025-05-19T11:26:59+00:00",
    "commented_code": "# Specify agent cni config path.\n   agent_cni_config_path: /etc/cni/net.d/cni.conflist\n \n+  # Specify feature gates for components",
    "repo_full_name": "volcano-sh/volcano",
    "discussion_comments": [
      {
        "comment_id": "2095494601",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4152,
        "pr_file": "installer/helm/chart/volcano/values.yaml",
        "discussion_id": "2095494601",
        "commented_code": "@@ -210,6 +210,9 @@ custom:\n   # Specify agent cni config path.\n   agent_cni_config_path: /etc/cni/net.d/cni.conflist\n \n+  # Specify feature gates for components",
        "comment_created_at": "2025-05-19T11:26:59+00:00",
        "comment_author": "Monokaix",
        "comment_body": "Do we need this?",
        "pr_file_module": null
      },
      {
        "comment_id": "2101486240",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4152,
        "pr_file": "installer/helm/chart/volcano/values.yaml",
        "discussion_id": "2095494601",
        "commented_code": "@@ -210,6 +210,9 @@ custom:\n   # Specify agent cni config path.\n   agent_cni_config_path: /etc/cni/net.d/cni.conflist\n \n+  # Specify feature gates for components",
        "comment_created_at": "2025-05-22T02:14:32+00:00",
        "comment_author": "JesseStutler",
        "comment_body": "DRA plugin has two feature gates `DynamicResourceAllocation` and `DRAAdminAccess`, if we need to enable the DRA plugin, the feature gate `DynamicResourceAllocation` must be enabled, therefore we need to add command flag for scheduler",
        "pr_file_module": null
      }
    ]
  }
]