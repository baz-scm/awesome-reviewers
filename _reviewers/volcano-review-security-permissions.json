[
  {
    "discussion_id": "2054080678",
    "pr_number": 4174,
    "pr_file": "installer/helm/chart/volcano/templates/vcjob_editor_role.yaml",
    "created_at": "2025-04-22T13:08:09+00:00",
    "commented_code": "+# permissions for end users to edit vcjobs.\n+apiVersion: rbac.authorization.k8s.io/v1\n+kind: ClusterRole\n+metadata:\n+  name: vcjob-editor-role\n+  {{- if or .Values.custom.aggregationRule_labels .Values.custom.common_labels }}\n+  labels:\n+    {{- if .Values.custom.aggregationRule_labels }}\n+      {{- toYaml .Values.custom.aggregationRule_labels | nindent 4 }}\n+    {{- end }}\n+    {{- if .Values.custom.common_labels }}\n+      {{- toYaml .Values.custom.common_labels | nindent 4 }}\n+    {{- end }}\n+  {{- end }}\n+rules:\n+  - apiGroups: [\"batch.volcano.sh\"]\n+    resources: [\"jobs\"]\n+    verbs: [\"create\", \"get\", \"list\", \"update\", \"delete\"]\n+  - apiGroups: [\"scheduling.k8s.io\"]",
    "repo_full_name": "volcano-sh/volcano",
    "discussion_comments": [
      {
        "comment_id": "2054080678",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4174,
        "pr_file": "installer/helm/chart/volcano/templates/vcjob_editor_role.yaml",
        "discussion_id": "2054080678",
        "commented_code": "@@ -0,0 +1,24 @@\n+# permissions for end users to edit vcjobs.\n+apiVersion: rbac.authorization.k8s.io/v1\n+kind: ClusterRole\n+metadata:\n+  name: vcjob-editor-role\n+  {{- if or .Values.custom.aggregationRule_labels .Values.custom.common_labels }}\n+  labels:\n+    {{- if .Values.custom.aggregationRule_labels }}\n+      {{- toYaml .Values.custom.aggregationRule_labels | nindent 4 }}\n+    {{- end }}\n+    {{- if .Values.custom.common_labels }}\n+      {{- toYaml .Values.custom.common_labels | nindent 4 }}\n+    {{- end }}\n+  {{- end }}\n+rules:\n+  - apiGroups: [\"batch.volcano.sh\"]\n+    resources: [\"jobs\"]\n+    verbs: [\"create\", \"get\", \"list\", \"update\", \"delete\"]\n+  - apiGroups: [\"scheduling.k8s.io\"]",
        "comment_created_at": "2025-04-22T13:08:09+00:00",
        "comment_author": "JesseStutler",
        "comment_body": "Is it necessary to set permissions for priorityclass?",
        "pr_file_module": null
      },
      {
        "comment_id": "2103704127",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4174,
        "pr_file": "installer/helm/chart/volcano/templates/vcjob_editor_role.yaml",
        "discussion_id": "2054080678",
        "commented_code": "@@ -0,0 +1,24 @@\n+# permissions for end users to edit vcjobs.\n+apiVersion: rbac.authorization.k8s.io/v1\n+kind: ClusterRole\n+metadata:\n+  name: vcjob-editor-role\n+  {{- if or .Values.custom.aggregationRule_labels .Values.custom.common_labels }}\n+  labels:\n+    {{- if .Values.custom.aggregationRule_labels }}\n+      {{- toYaml .Values.custom.aggregationRule_labels | nindent 4 }}\n+    {{- end }}\n+    {{- if .Values.custom.common_labels }}\n+      {{- toYaml .Values.custom.common_labels | nindent 4 }}\n+    {{- end }}\n+  {{- end }}\n+rules:\n+  - apiGroups: [\"batch.volcano.sh\"]\n+    resources: [\"jobs\"]\n+    verbs: [\"create\", \"get\", \"list\", \"update\", \"delete\"]\n+  - apiGroups: [\"scheduling.k8s.io\"]",
        "comment_created_at": "2025-05-23T03:01:47+00:00",
        "comment_author": "Hcryw",
        "comment_body": "> Is it necessary to set permissions for priorityclass?\r\n\r\nUpon further consideration, it's indeed inappropriate to couple PriorityClass with vcjob permissions. The permissions of priorityclass can be added through other methods.",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "2053168632",
    "pr_number": 4207,
    "pr_file": "installer/volcano-agent-development.yaml",
    "created_at": "2025-04-22T01:12:27+00:00",
    "commented_code": "initContainers:\n         - name: volcano-agent-init\n           image: docker.io/volcanosh/vc-agent:latest\n+          securityContext:",
    "repo_full_name": "volcano-sh/volcano",
    "discussion_comments": [
      {
        "comment_id": "2053168632",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4207,
        "pr_file": "installer/volcano-agent-development.yaml",
        "discussion_id": "2053168632",
        "commented_code": "@@ -127,6 +134,11 @@ spec:\n       initContainers:\n         - name: volcano-agent-init\n           image: docker.io/volcanosh/vc-agent:latest\n+          securityContext:",
        "comment_created_at": "2025-04-22T01:12:27+00:00",
        "comment_author": "Monokaix",
        "comment_body": "Agent need more privilege, this need to be verified.",
        "pr_file_module": null
      },
      {
        "comment_id": "2053268557",
        "repo_full_name": "volcano-sh/volcano",
        "pr_number": 4207,
        "pr_file": "installer/volcano-agent-development.yaml",
        "discussion_id": "2053168632",
        "commented_code": "@@ -127,6 +134,11 @@ spec:\n       initContainers:\n         - name: volcano-agent-init\n           image: docker.io/volcanosh/vc-agent:latest\n+          securityContext:",
        "comment_created_at": "2025-04-22T03:23:08+00:00",
        "comment_author": "JesseStutler",
        "comment_body": "Added more privilege: DAC_OVERRIDE,SETUID,SETGID,SETFCAP",
        "pr_file_module": null
      }
    ]
  }
]