[
  {
    "discussion_id": "41101337",
    "pr_number": 138,
    "pr_file": "src/Layout.js",
    "created_at": "2015-10-04T19:31:19+00:00",
    "commented_code": "child.nextAbsoluteChild = null;\n     }\n   }\n+  \n+  function layoutNode(node, parentMaxWidth, parentDirection) {\n+    if (!node.lastLayout ||\n+         node.lastLayout.requestedHeight !== node.layout.height ||\n+         node.lastLayout.requestedWidth !== node.layout.width ||\n+         node.lastLayout.parentMaxWidth !== parentMaxWidth) {\n+      \n+      if (!node.lastLayout)\n+        node.lastLayout = {};\n+      \n+      node.lastLayout.requestedWidth = node.layout.width;\n+      node.lastLayout.requestedHeight = node.layout.height;\n+      node.lastLayout.parentMaxWidth = parentMaxWidth;\n+    \n+      layoutNodeImpl(node, parentMaxWidth, parentDirection);\n+      \n+      for (var key in node.layout)",
    "repo_full_name": "facebook/yoga",
    "discussion_comments": [
      {
        "comment_id": "41101337",
        "repo_full_name": "facebook/yoga",
        "pr_number": 138,
        "pr_file": "src/Layout.js",
        "discussion_id": "41101337",
        "commented_code": "@@ -1068,8 +1068,32 @@ var computeLayout = (function() {\n       child.nextAbsoluteChild = null;\n     }\n   }\n+  \n+  function layoutNode(node, parentMaxWidth, parentDirection) {\n+    if (!node.lastLayout ||\n+         node.lastLayout.requestedHeight !== node.layout.height ||\n+         node.lastLayout.requestedWidth !== node.layout.width ||\n+         node.lastLayout.parentMaxWidth !== parentMaxWidth) {\n+      \n+      if (!node.lastLayout)\n+        node.lastLayout = {};\n+      \n+      node.lastLayout.requestedWidth = node.layout.width;\n+      node.lastLayout.requestedHeight = node.layout.height;\n+      node.lastLayout.parentMaxWidth = parentMaxWidth;\n+    \n+      layoutNodeImpl(node, parentMaxWidth, parentDirection);\n+      \n+      for (var key in node.layout)",
        "comment_created_at": "2015-10-04T19:31:19+00:00",
        "comment_author": "vjeux",
        "comment_body": "Nit: please always use { } even for one lines\n",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "41102629",
    "pr_number": 138,
    "pr_file": "src/Layout.js",
    "created_at": "2015-10-04T21:27:08+00:00",
    "commented_code": "child.nextAbsoluteChild = null;\n     }\n   }\n+  \n+  function layoutNode(node, parentMaxWidth, parentDirection) {\n+    if (node.isDirty ||\n+        !node.lastLayout || \n+         node.lastLayout.requestedHeight !== node.layout.height ||\n+         node.lastLayout.requestedWidth !== node.layout.width ||\n+         node.lastLayout.parentMaxWidth !== parentMaxWidth) {\n+           \n+      if (!node.lastLayout) {\n+        node.lastLayout = {};\n+      }\n+      \n+      node.lastLayout.requestedWidth = node.layout.width;\n+      node.lastLayout.requestedHeight = node.layout.height;\n+      node.lastLayout.parentMaxWidth = parentMaxWidth;\n+      \n+      // Reset child layouts\n+      node.children.forEach(function(child) {\n+        child.layout.width = undefined;\n+        child.layout.height = undefined;\n+        child.layout.top = 0;\n+        child.layout.left = 0;\n+        child.layout.bottom = 0;\n+        child.layout.right = 0;\n+      });\n+      \n+      layoutNodeImpl(node, parentMaxWidth, parentDirection);\n+      \n+      for (var key in node.layout) {\n+        node.lastLayout[key] = node.layout[key];\n+      }\n+      \n+      node.isDirty = false;\n+    } else {\n+      for (var key in node.layout) {\n+        node.layout[key] = node.lastLayout[key];\n+      }\n+    }\n+    \n+    node.shouldUpdate = true;",
    "repo_full_name": "facebook/yoga",
    "discussion_comments": [
      {
        "comment_id": "41102629",
        "repo_full_name": "facebook/yoga",
        "pr_number": 138,
        "pr_file": "src/Layout.js",
        "discussion_id": "41102629",
        "commented_code": "@@ -1122,8 +1122,50 @@ var computeLayout = (function() {\n       child.nextAbsoluteChild = null;\n     }\n   }\n+  \n+  function layoutNode(node, parentMaxWidth, parentDirection) {\n+    if (node.isDirty ||\n+        !node.lastLayout || \n+         node.lastLayout.requestedHeight !== node.layout.height ||\n+         node.lastLayout.requestedWidth !== node.layout.width ||\n+         node.lastLayout.parentMaxWidth !== parentMaxWidth) {\n+           \n+      if (!node.lastLayout) {\n+        node.lastLayout = {};\n+      }\n+      \n+      node.lastLayout.requestedWidth = node.layout.width;\n+      node.lastLayout.requestedHeight = node.layout.height;\n+      node.lastLayout.parentMaxWidth = parentMaxWidth;\n+      \n+      // Reset child layouts\n+      node.children.forEach(function(child) {\n+        child.layout.width = undefined;\n+        child.layout.height = undefined;\n+        child.layout.top = 0;\n+        child.layout.left = 0;\n+        child.layout.bottom = 0;\n+        child.layout.right = 0;\n+      });\n+      \n+      layoutNodeImpl(node, parentMaxWidth, parentDirection);\n+      \n+      for (var key in node.layout) {\n+        node.lastLayout[key] = node.layout[key];\n+      }\n+      \n+      node.isDirty = false;\n+    } else {\n+      for (var key in node.layout) {\n+        node.layout[key] = node.lastLayout[key];\n+      }\n+    }\n+    \n+    node.shouldUpdate = true;",
        "comment_created_at": "2015-10-04T21:27:08+00:00",
        "comment_author": "vjeux",
        "comment_body": "can you put it at the beginning of the function so that people don't accidentally add a return somewhere and this doesn't get called anymore\n",
        "pr_file_module": null
      }
    ]
  },
  {
    "discussion_id": "29955830",
    "pr_number": 79,
    "pr_file": "src/Layout-test-utils.js",
    "created_at": "2015-05-08T16:51:41+00:00",
    "commented_code": "return layout;\n   }\n \n+  function inplaceRoundNumbersInObject(aObj) {\n+    if (!testMeasurePrecision) // undefined/0, disables rounding\n+      return;\n+\n+    for (var key in aObj) {\n+      if (!aObj.hasOwnProperty(key))\n+        continue;\n+      var val = aObj[key];\n+      switch (typeof(val)) {",
    "repo_full_name": "facebook/yoga",
    "discussion_comments": [
      {
        "comment_id": "29955830",
        "repo_full_name": "facebook/yoga",
        "pr_number": 79,
        "pr_file": "src/Layout-test-utils.js",
        "discussion_id": "29955830",
        "commented_code": "@@ -227,6 +240,27 @@ var layoutTestUtils = (function() {\n     return layout;\n   }\n \n+  function inplaceRoundNumbersInObject(aObj) {\n+    if (!testMeasurePrecision) // undefined/0, disables rounding\n+      return;\n+\n+    for (var key in aObj) {\n+      if (!aObj.hasOwnProperty(key))\n+        continue;\n+      var val = aObj[key];\n+      switch (typeof(val)) {",
        "comment_created_at": "2015-05-08T16:51:41+00:00",
        "comment_author": "vjeux",
        "comment_body": "Can you use an if/then/else, it makes the code shorter:\n\n``` javascript\nif (typeof val === 'number') {\n  obj[key] = ...;\n} else if (typeof val === 'object') {\n  inplaceRondNumbersInObject(val);\n}\n```\n",
        "pr_file_module": null
      }
    ]
  }
]